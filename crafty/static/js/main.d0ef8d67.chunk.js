(this["webpackJsonpcrafty-control"]=this["webpackJsonpcrafty-control"]||[]).push([[8],{153:function(e){e.exports=JSON.parse('{"name":"crafty-control","version":"1.0.2-beta","private":true,"dependencies":{"@ionic/react":"^4.11.0","@ionic/react-router":"^4.11.0","@types/jest":"^24.0.18","@types/node":"^12.7.12","@types/react":"^16.9.5","@types/react-dom":"^16.9.1","@types/react-router":"^5.1.1","@types/react-router-dom":"^5.1.0","babel-polyfill":"^6.26.0","date-fns":"^2.8.1","ionicons":"^4.6.3","react":"^16.10.2","react-app-polyfill":"^1.0.5","react-dom":"^16.10.2","react-router":"^5.1.0","react-router-dom":"^5.1.0","react-scripts":"3.2.0","react-visual-graphic":"^0.2.0","typescript":"3.6.3","typescript-task-queue":"^1.0.4"},"scripts":{"ionic:build:before":"cross-env-shell PUBLIC_URL=https://github.cataford.com/crafty/","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version","ie >= 11"]},"description":"Crafty Control Application","devDependencies":{"@types/date-fns":"^2.6.0","@types/web-bluetooth":"0.0.4","cross-env":"^6.0.3"}}')},189:function(e,t,a){e.exports=a(319)},195:function(e,t,a){var n={"./ion-action-sheet-controller_8.entry.js":[325,43],"./ion-action-sheet-ios.entry.js":[326,44],"./ion-action-sheet-md.entry.js":[327,45],"./ion-alert-ios.entry.js":[328,24],"./ion-alert-md.entry.js":[329,25],"./ion-app_8-ios.entry.js":[330,11],"./ion-app_8-md.entry.js":[331,12],"./ion-avatar_3-ios.entry.js":[332,46],"./ion-avatar_3-md.entry.js":[333,47],"./ion-back-button-ios.entry.js":[334,48],"./ion-back-button-md.entry.js":[335,49],"./ion-backdrop-ios.entry.js":[336,81],"./ion-backdrop-md.entry.js":[337,82],"./ion-button_2-ios.entry.js":[338,50],"./ion-button_2-md.entry.js":[339,51],"./ion-card_5-ios.entry.js":[340,52],"./ion-card_5-md.entry.js":[341,53],"./ion-checkbox-ios.entry.js":[342,54],"./ion-checkbox-md.entry.js":[343,55],"./ion-chip-ios.entry.js":[344,56],"./ion-chip-md.entry.js":[345,57],"./ion-col_3.entry.js":[346,83],"./ion-datetime_3-ios.entry.js":[347,20],"./ion-datetime_3-md.entry.js":[348,21],"./ion-fab_3-ios.entry.js":[349,58],"./ion-fab_3-md.entry.js":[350,59],"./ion-img.entry.js":[351,84],"./ion-infinite-scroll_2-ios.entry.js":[352,39],"./ion-infinite-scroll_2-md.entry.js":[353,40],"./ion-input-ios.entry.js":[354,60],"./ion-input-md.entry.js":[355,61],"./ion-item-option_3-ios.entry.js":[356,62],"./ion-item-option_3-md.entry.js":[357,63],"./ion-item_8-ios.entry.js":[358,64],"./ion-item_8-md.entry.js":[359,65],"./ion-loading-ios.entry.js":[360,26],"./ion-loading-md.entry.js":[361,27],"./ion-menu_4-ios.entry.js":[362,18],"./ion-menu_4-md.entry.js":[363,19],"./ion-modal-ios.entry.js":[364,14],"./ion-modal-md.entry.js":[365,15],"./ion-nav_5.entry.js":[366,13],"./ion-popover-ios.entry.js":[367,16],"./ion-popover-md.entry.js":[368,17],"./ion-progress-bar-ios.entry.js":[369,66],"./ion-progress-bar-md.entry.js":[370,67],"./ion-radio_2-ios.entry.js":[371,32],"./ion-radio_2-md.entry.js":[372,33],"./ion-range-ios.entry.js":[373,68],"./ion-range-md.entry.js":[374,69],"./ion-refresher_2-ios.entry.js":[375,41],"./ion-refresher_2-md.entry.js":[376,42],"./ion-reorder_2-ios.entry.js":[377,37],"./ion-reorder_2-md.entry.js":[378,38],"./ion-ripple-effect.entry.js":[379,85],"./ion-route_4.entry.js":[380,70],"./ion-searchbar-ios.entry.js":[381,28],"./ion-searchbar-md.entry.js":[382,29],"./ion-segment_2-ios.entry.js":[383,71],"./ion-segment_2-md.entry.js":[384,72],"./ion-select_3-ios.entry.js":[385,34],"./ion-select_3-md.entry.js":[386,35],"./ion-slide_2-ios.entry.js":[387,86],"./ion-slide_2-md.entry.js":[388,87],"./ion-spinner.entry.js":[389,73],"./ion-split-pane-ios.entry.js":[390,88],"./ion-split-pane-md.entry.js":[391,89],"./ion-tab-bar_2-ios.entry.js":[392,74],"./ion-tab-bar_2-md.entry.js":[393,75],"./ion-tab_2.entry.js":[394,36],"./ion-text.entry.js":[395,76],"./ion-textarea-ios.entry.js":[396,77],"./ion-textarea-md.entry.js":[397,78],"./ion-toast-ios.entry.js":[398,30],"./ion-toast-md.entry.js":[399,31],"./ion-toggle-ios.entry.js":[400,22],"./ion-toggle-md.entry.js":[401,23],"./ion-virtual-scroll.entry.js":[402,90]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=195,e.exports=r},196:function(e,t,a){var n={"./ion-icon.entry.js":[406,98]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=196,e.exports=r},201:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(69),s=a.n(i),o=a(9),u=a(1),l=a(170),p=a(412),d=a(413),f=a(414),h=a(20),m=a(41),b=a(4),y="CRAFTY/CONNECTING",g="CRAFTY/DISCONNECTED",v="CRAFTY/CONNECTED",E="CRAFTY/SET_CURRENT_TEMPERATURE",x="CRAFTY/SET_SETPOINT",w="CRAFTY/SET_BOOST",j="CRAFTY/SET_LED",C="CRAFTY/SET_BATTERY_PERCENT",S="CRAFTY/UPDATE_UNITS",O="CRAFTY/UPDATE_SETTINGS",T="CRAFTY/UPDATING",U="CRAFTY/UPDATED",k="CRAFTY/SET_SERIAL",P="CRAFTY/SET_MODEL",N="CRAFTY/SET_VERSION",_="CRAFTY/SET_HOURS_OF_OP",A="CRAFTY/SETPOINT_STEP",F="CRAFTY/BOOST_STEP",R="CRAFTY/SET_DATA",D="CRAFTY/SET_POWER_STATE";!function(e){e[e.F=0]="F",e[e.C=1]="C"}(n||(n={}));var B=localStorage.getItem("crafty-control-units"),M=localStorage.getItem("crafty-control-setpoint-step"),I=localStorage.getItem("crafty-control-boost-step"),V={settings:{units:B?parseInt(B):n.C,setPointStep:M?parseInt(M):5,boostStep:I?parseInt(I):1},info:{serial:"",model:"",version:"",hoursOfOperation:0,powerState:0,data:{}},connecting:!1,connected:!1,updating:!1,temperature:0,setPoint:0,boost:0,batteryPercent:0,craftySettings:0,led:-1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)({},e,{connecting:!0});case v:return Object(b.a)({},e,{connecting:!1,connected:!0});case E:return Object(b.a)({},e,{temperature:t.payload});case x:return Object(b.a)({},e,{updating:!1,setPoint:t.payload});case C:return Object(b.a)({},e,{batteryPercent:t.payload});case w:return Object(b.a)({},e,{updating:!1,boost:t.payload});case j:return Object(b.a)({},e,{updating:!1,led:t.payload});case g:return Object(b.a)({},e,{connected:!1,connecting:!1});case S:return localStorage.setItem("crafty-control-units",t.payload.toString()),Object(b.a)({},e,{settings:Object(b.a)({},e.settings,{units:t.payload})});case A:return localStorage.setItem("crafty-control-setpoint-step",t.payload.toString()),Object(b.a)({},e,{settings:Object(b.a)({},e.settings,{setPointStep:t.payload})});case F:return localStorage.setItem("crafty-control-boost-step",t.payload.toString()),Object(b.a)({},e,{settings:Object(b.a)({},e.settings,{boostStep:t.payload})});case O:return Object(b.a)({},e,{updating:!1,craftySettings:t.payload});case T:return Object(b.a)({},e,{updating:!0});case U:return Object(b.a)({},e,{updating:!1});case k:return Object(b.a)({},e,{info:Object(b.a)({},e.info,{serial:t.payload})});case P:return Object(b.a)({},e,{info:Object(b.a)({},e.info,{model:t.payload})});case _:return Object(b.a)({},e,{info:Object(b.a)({},e.info,{hoursOfOperation:t.payload})});case N:return Object(b.a)({},e,{info:Object(b.a)({},e.info,{version:t.payload})});case D:return Object(b.a)({},e,{info:Object(b.a)({},e.info,{powerState:t.payload})});case R:var a=t.payload;return Object(b.a)({},e,{info:Object(b.a)({},e.info,{data:Object(b.a)({},e.info.data,Object(m.a)({},a.uuid,a))})});default:return e}},L=c.a.createContext(void 0);L.Consumer;a(201);var q=a(2),W=a.n(q),H=a(5),G={ServiceUuid:"00000001-4c45-4b43-4942-265a524f5453",TemperatureUuid:"00000011-4c45-4b43-4942-265a524f5453",SetPointUuid:"00000021-4c45-4b43-4942-265a524f5453",BoostUuid:"00000031-4c45-4b43-4942-265a524f5453",BatteryUuid:"00000041-4c45-4b43-4942-265a524f5453",LedUuid:"00000051-4c45-4b43-4942-265a524f5453",MetaDataUuid:"00000002-4c45-4b43-4942-265a524f5453",ModelUuid:"00000022-4c45-4b43-4942-265a524f5453",VersionUuid:"00000032-4c45-4b43-4942-265a524f5453",SerialUuid:"00000052-4c45-4b43-4942-265a524f5453",MiscDataUuid:"00000003-4c45-4b43-4942-265a524f5453",HoursOfOperationUuid:"00000023-4c45-4b43-4942-265a524f5453",SettingsUuid:"000001c3-4c45-4b43-4942-265a524f5453",PowerUuid:"00000063-4c45-4b43-4942-265a524f5453",Battery:{RemainingUuid:"00000153-4c45-4b43-4942-265a524f5453",TotalUuid:"00000143-4c45-4b43-4942-265a524f5453",DesignUuid:"00000183-4c45-4b43-4942-265a524f5453"},otherUuids:[{uuid:"00000153-4c45-4b43-4942-265a524f5453",label:"Battery Remaining",type:"hex",suffix:"mah"},{uuid:"00000143-4c45-4b43-4942-265a524f5453",label:"Battery Capacity",type:"hex",suffix:"mah"},{uuid:"00000183-4c45-4b43-4942-265a524f5453",label:"Battery Design Capacity",type:"hex",suffix:"mah"},{uuid:"00000163-4c45-4b43-4942-265a524f5453",label:"Discharge Cycles",type:"hex"},{uuid:"00000173-4c45-4b43-4942-265a524f5453",label:"Charge Cycles",type:"hex"},{uuid:"00000033-4c45-4b43-4942-265a524f5453",label:"Hardware ID",type:"ascii"},{uuid:"00000053-4c45-4b43-4942-265a524f5453",label:"SN Hardware",type:"ascii"},{uuid:"00000042-4c45-4b43-4942-265a524f5453",label:"Bluetooth Address",type:"hex"},{uuid:"00000043-4c45-4b43-4942-265a524f5453",label:"PCB Version",type:"hex"},{uuid:"000000f3-4c45-4b43-4942-265a524f5453",label:"Current Temperature (PT1000)",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000103-4c45-4b43-4942-265a524f5453",label:"Adjusted Current Temperature (PT1000)",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000113-4c45-4b43-4942-265a524f5453",label:"Accu Temperature",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000123-4c45-4b43-4942-265a524f5453",label:"Accu Temperature Min",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000133-4c45-4b43-4942-265a524f5453",label:"Accu Temperature Max",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000013-4c45-4b43-4942-265a524f5453",label:"Operating Time Accu",type:"hex",suffix:"h",divider:10},{uuid:"00000073-4c45-4b43-4942-265a524f5453",label:"Accu Status Register 2",type:"hex"},{uuid:"00000083-4c45-4b43-4942-265a524f5453",label:"System Status Register 2",type:"hex"},{uuid:"00000093-4c45-4b43-4942-265a524f5453",label:"Project Status Register",type:"hex"},{uuid:"000000a3-4c45-4b43-4942-265a524f5453",label:"Charger Status Register",type:"hex"},{uuid:"000000b3-4c45-4b43-4942-265a524f5453",label:"Voltage Accu",type:"hex",suffix:"mv"},{uuid:"000000c3-4c45-4b43-4942-265a524f5453",label:"Voltage Mains",type:"hex",suffix:"mv"},{uuid:"000000d3-4c45-4b43-4942-265a524f5453",label:"Voltage Heating",type:"hex",suffix:"mv"},{uuid:"000000e3-4c45-4b43-4942-265a524f5453",label:"Current Accu",type:"hex",suffix:"ma"}]},z=a(11),J=a(173),X=new TextDecoder("utf8"),K=new function e(){var t=this;Object(H.a)(this,e),this.units=n.C,this.dispatch=void 0,this.service=void 0,this.setPointCharacteristic=void 0,this.boostCharacteristic=void 0,this.temperatureCharacteristic=void 0,this.settingsCharacteristic=void 0,this.ledCharacteristic=void 0,this.batteryCharacteristic=void 0,this.powerStateCharacteristic=void 0,this.queue=new J.TaskQueue({autorun:!0,stoppable:!1}),this.connect=function(e,a){var n,r,c,i,s;return W.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t.units=e,t.dispatch=a,o.next=4,W.a.awrap(navigator.bluetooth.requestDevice({filters:[{name:"Storz&Bickel"},{name:"STORZ&BICKEL"}],optionalServices:[G.ServiceUuid,G.MetaDataUuid,G.MiscDataUuid]}));case 4:if((n=o.sent)&&n.gatt){o.next=7;break}throw new Error("Failed to retrieve Crafty BLE device.");case 7:return t.dispatch({type:y}),o.next=10,W.a.awrap(n.gatt.connect());case 10:if(r=o.sent){o.next=13;break}throw new Error("Failed to retrieve BLE server.");case 13:return o.next=15,W.a.awrap(r.getPrimaryService(G.ServiceUuid));case 15:return c=o.sent,o.next=18,W.a.awrap(r.getPrimaryService(G.MetaDataUuid));case 18:return i=o.sent,o.next=21,W.a.awrap(r.getPrimaryService(G.MiscDataUuid));case 21:if(s=o.sent,c){o.next=24;break}throw new Error("Failed to retrieve primary data service.");case 24:if(i){o.next=26;break}throw new Error("Failed to retrieve metadata service.");case 26:if(s){o.next=28;break}throw new Error("Failed to retrieve miscellaneous data service.");case 28:return o.next=30,W.a.awrap(t.getDataServiceCharacteristics(c));case 30:return o.next=32,W.a.awrap(t.getMetaDataCharacteristics(i));case 32:return o.next=34,W.a.awrap(t.getMiscCharacteristics(s));case 34:return o.next=36,W.a.awrap(t.getOtherCharacteristics(c));case 36:return o.next=38,W.a.awrap(t.getOtherCharacteristics(i));case 38:return o.next=40,W.a.awrap(t.getOtherCharacteristics(s));case 40:return o.next=42,W.a.awrap(t.bindCharacteristics(i,s));case 42:t.dispatch({type:v});case 43:case"end":return o.stop()}}))},this.bindCharacteristics=function(e,a){var n,r,c,i,s,o;return W.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,W.a.awrap(t.temperatureCharacteristic.startNotifications());case 2:return t.temperatureCharacteristic.oncharacteristicvaluechanged=function(e){return W.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e;return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W.a.awrap(t.readTemp(t.units,t.temperatureCharacteristic));case 2:(e=a.sent)&&Object(z.isNumber)(e)&&t.dispatch({type:E,payload:e});case 4:case"end":return a.stop()}}))}));case 1:case"end":return e.stop()}}))},u.next=5,W.a.awrap(t.batteryCharacteristic.startNotifications());case 5:return t.batteryCharacteristic.oncharacteristicvaluechanged=function(e){return W.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e,a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.a.awrap(t.batteryCharacteristic.readValue());case 2:(e=n.sent)&&(a=e.getUint16(0,!0))&&Object(z.isNumber)(a)&&t.dispatch({type:C,payload:a});case 4:case"end":return n.stop()}}))}));case 1:case"end":return e.stop()}}))},u.next=8,W.a.awrap(t.powerStateCharacteristic.startNotifications());case 8:t.powerStateCharacteristic.oncharacteristicvaluechanged=function(e){return W.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e,a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.a.awrap(t.powerStateCharacteristic.readValue());case 2:(e=n.sent)&&(a=e.getUint16(0,!0),Object(z.isNumber)(a)&&t.dispatch({type:D,payload:a}));case 4:case"end":return n.stop()}}))}));case 1:case"end":return e.stop()}}))},n=!0,r=!1,c=void 0,u.prev=12,i=function(){var n,r;return W.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=o.value,r=void 0,n.uuid.substring(7)!==e.uuid.substring(7)){c.next=8;break}return c.next=5,W.a.awrap(e.getCharacteristic(n.uuid));case 5:r=c.sent,c.next=12;break;case 8:if(n.uuid.substring(7)!==a.uuid.substring(7)){c.next=12;break}return c.next=11,W.a.awrap(a.getCharacteristic(n.uuid));case 11:r=c.sent;case 12:if(!r||!r.properties.notify){c.next=16;break}return c.next=15,W.a.awrap(r.startNotifications());case 15:r.oncharacteristicvaluechanged=function(e){return W.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e,a,c,i;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if("hex"!==n.type){s.next=7;break}return s.next=3,W.a.awrap(r.readValue());case 3:(e=s.sent)&&(a=e.getUint16(0,!0))&&Object(z.isNumber)(a)&&t.dispatch({type:R,payload:Object(b.a)({},n,{value:a})}),s.next=11;break;case 7:return s.next=9,W.a.awrap(r.readValue());case 9:(c=s.sent)&&(i=X.decode(c.buffer))&&t.dispatch({type:R,payload:Object(b.a)({},n,{value:i})});case 11:case"end":return s.stop()}}))}));case 1:case"end":return e.stop()}}))};case 16:case"end":return c.stop()}}))},s=G.otherUuids[Symbol.iterator]();case 15:if(n=(o=s.next()).done){u.next=21;break}return u.next=18,W.a.awrap(i());case 18:n=!0,u.next=15;break;case 21:u.next=27;break;case 23:u.prev=23,u.t0=u.catch(12),r=!0,c=u.t0;case 27:u.prev=27,u.prev=28,n||null==s.return||s.return();case 30:if(u.prev=30,!r){u.next=33;break}throw c;case 33:return u.finish(30);case 34:return u.finish(27);case 35:case"end":return u.stop()}}),null,null,[[12,23,27,35],[28,,30,34]])},this.getDataServiceCharacteristics=function(e){var a,n,r,c,i,s,o;return W.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,W.a.awrap(e.getCharacteristic(G.TemperatureUuid));case 2:if(t.temperatureCharacteristic=u.sent,t.temperatureCharacteristic){u.next=5;break}throw new Error("Failed to retrieve temperature characteristic.");case 5:return u.next=7,W.a.awrap(t.readTemp(t.units,t.temperatureCharacteristic));case 7:return a=u.sent,t.dispatch({type:E,payload:a}),u.next=11,W.a.awrap(e.getCharacteristic(G.SetPointUuid));case 11:if(t.setPointCharacteristic=u.sent,t.setPointCharacteristic){u.next=14;break}throw new Error("Failed to retrieve setpoint characteristic.");case 14:return u.next=16,W.a.awrap(t.readTemp(t.units,t.setPointCharacteristic,0));case 16:return(n=u.sent)&&Object(z.isNumber)(n)&&t.dispatch({type:x,payload:n}),u.next=20,W.a.awrap(e.getCharacteristic(G.BoostUuid));case 20:if(t.boostCharacteristic=u.sent,t.boostCharacteristic){u.next=23;break}throw new Error("Failed to retrieve the boost characteristic.");case 23:return u.next=25,W.a.awrap(t.readTemp(t.units,t.boostCharacteristic,0));case 25:return(r=u.sent)&&Object(z.isNumber)(r)&&t.dispatch({type:w,payload:r}),u.next=29,W.a.awrap(e.getCharacteristic(G.LedUuid));case 29:return t.ledCharacteristic=u.sent,u.next=32,W.a.awrap(t.ledCharacteristic.readValue());case 32:return(c=u.sent)&&(i=c.getUint16(0,!0))&&Object(z.isNumber)(i)&&t.dispatch({type:j,payload:i}),u.next=36,W.a.awrap(e.getCharacteristic(G.BatteryUuid));case 36:if(t.batteryCharacteristic=u.sent,t.batteryCharacteristic){u.next=39;break}throw new Error("Failed to retrieve the battery characteristic.");case 39:return u.next=41,W.a.awrap(t.batteryCharacteristic.readValue());case 41:(s=u.sent)&&(o=s.getUint16(0,!0))&&Object(z.isNumber)(o)&&t.dispatch({type:C,payload:o});case 43:case"end":return u.stop()}}))},this.getMiscCharacteristics=function(e){var a,n,r,c,i,s,o;return W.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,W.a.awrap(e.getCharacteristic(G.SettingsUuid));case 2:if(t.settingsCharacteristic=u.sent,t.settingsCharacteristic){u.next=5;break}throw new Error("Failed to retrieve settings characteristic.");case 5:return u.next=7,W.a.awrap(t.settingsCharacteristic.readValue());case 7:return(a=u.sent)&&(n=a.getUint16(0,!0))&&Object(z.isNumber)(n)&&t.dispatch({type:O,payload:n}),u.next=11,W.a.awrap(e.getCharacteristic(G.HoursOfOperationUuid));case 11:if(r=u.sent){u.next=14;break}throw new Error("Failed to retrieve hours of operation characteristic.");case 14:return u.next=16,W.a.awrap(r.readValue());case 16:return(c=u.sent)&&(i=c.getUint16(0,!0))&&Object(z.isNumber)(i)&&t.dispatch({type:_,payload:i}),u.next=20,W.a.awrap(e.getCharacteristic(G.PowerUuid));case 20:if(t.powerStateCharacteristic=u.sent,t.powerStateCharacteristic){u.next=23;break}throw new Error("Failed to retrieve the power state characteristic.");case 23:return u.next=25,W.a.awrap(t.powerStateCharacteristic.readValue());case 25:(s=u.sent)&&(o=s.getUint16(0,!0))&&Object(z.isNumber)(o)&&t.dispatch({type:D,payload:o});case 27:case"end":return u.stop()}}))},this.getMetaDataCharacteristics=function(e){var a,n,r,c,i,s,o,u,l;return W.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,W.a.awrap(e.getCharacteristic(G.SerialUuid));case 2:if(a=p.sent){p.next=5;break}throw new Error("Failed to retrieve the serial # characteristic.");case 5:return p.next=7,W.a.awrap(a.readValue());case 7:return(n=p.sent)&&(r=X.decode(n.buffer))&&t.dispatch({type:k,payload:r}),p.next=11,W.a.awrap(e.getCharacteristic(G.ModelUuid));case 11:if(c=p.sent){p.next=14;break}throw new Error("Failed to retrieve the model # characteristic.");case 14:return p.next=16,W.a.awrap(c.readValue());case 16:return(i=p.sent)&&(s=X.decode(i.buffer))&&t.dispatch({type:P,payload:s}),p.next=20,W.a.awrap(e.getCharacteristic(G.VersionUuid));case 20:if(o=p.sent){p.next=23;break}throw new Error("Failed to retrieve the version # characteristic.");case 23:return p.next=25,W.a.awrap(o.readValue());case 25:(u=p.sent)&&(l=X.decode(u.buffer))&&t.dispatch({type:N,payload:l});case 27:case"end":return p.stop()}}))},this.getOtherCharacteristics=function(e){var a,n,r,c,i,s,o,u,l,p,d;return W.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:a=!0,n=!1,r=void 0,f.prev=3,c=G.otherUuids[Symbol.iterator]();case 5:if(a=(i=c.next()).done){f.next=26;break}if((s=i.value).uuid.substring(7)!==e.uuid.substring(7)){f.next=23;break}return f.next=10,W.a.awrap(e.getCharacteristic(s.uuid));case 10:if(!(o=f.sent)){f.next=23;break}if("hex"!==s.type){f.next=19;break}return f.next=15,W.a.awrap(o.readValue());case 15:(u=f.sent)&&(l=u.getUint16(0,!0))&&Object(z.isNumber)(l)&&t.dispatch({type:R,payload:Object(b.a)({},s,{value:l})}),f.next=23;break;case 19:return f.next=21,W.a.awrap(o.readValue());case 21:(p=f.sent)&&(d=X.decode(p.buffer))&&t.dispatch({type:R,payload:Object(b.a)({},s,{value:d})});case 23:a=!0,f.next=5;break;case 26:f.next=32;break;case 28:f.prev=28,f.t0=f.catch(3),n=!0,r=f.t0;case 32:f.prev=32,f.prev=33,a||null==c.return||c.return();case 35:if(f.prev=35,!n){f.next=38;break}throw r;case 38:return f.finish(35);case 39:return f.finish(32);case 40:case"end":return f.stop()}}),null,null,[[3,28,32,40],[33,,35,39]])},this.updateSetPoint=function(e){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.dispatch({type:T}),t.setPointCharacteristic){a.next=4;break}throw new Error("Failed to retrieve BLE Crafty Set Point Characteristic.");case 4:return a.next=6,W.a.awrap(t.writeTemp(t.units,t.setPointCharacteristic,e));case 6:t.dispatch({type:x,payload:e});case 7:return a.prev=7,t.dispatch({type:U}),a.finish(7);case 10:case"end":return a.stop()}}),null,null,[[0,,7,10]])}));case 1:case"end":return a.stop()}}))},this.updateBoost=function(e){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.dispatch({type:T}),t.boostCharacteristic){a.next=4;break}throw new Error("Failed to retrieve BLE Crafty Boost Characteristic.");case 4:return a.next=6,W.a.awrap(t.writeTemp(t.units,t.boostCharacteristic,e));case 6:t.dispatch({type:w,payload:e});case 7:return a.prev=7,t.dispatch({type:U}),a.finish(7);case 10:case"end":return a.stop()}}),null,null,[[0,,7,10]])}));case 1:case"end":return a.stop()}}))},this.updateLED=function(e){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){var a,n;return W.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.dispatch({type:T}),t.ledCharacteristic){r.next=4;break}throw new Error("Failed to retrieve BLE Crafty LED Brightness Characteristic.");case 4:return a=new ArrayBuffer(2),(n=new DataView(a)).setUint16(0,e,!0),r.next=10,W.a.awrap(t.ledCharacteristic.writeValue(n));case 10:return r.prev=10,t.dispatch({type:U}),r.finish(10);case 13:case"end":return r.stop()}}),null,null,[[0,,10,13]])}));case 1:case"end":return a.stop()}}))},this.settingUpdating=!1,this.updateCraftySettings=function(e){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.settingUpdating){a.next=2;break}return a.abrupt("return");case 2:t.queue.enqueue((function(){var a,n;return W.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.settingUpdating=!0,t.dispatch({type:T}),t.settingsCharacteristic){r.next=5;break}throw new Error("Failed to retrieve BLE Crafty Settings Characteristic.");case 5:return a=new ArrayBuffer(2),(n=new DataView(a)).setUint16(0,e,!0),r.next=10,W.a.awrap(t.settingsCharacteristic.writeValue(n));case 10:return r.prev=10,t.settingUpdating=!1,t.dispatch({type:U}),r.finish(10);case 14:case"end":return r.stop()}}),null,null,[[0,,10,14]])}));case 3:case"end":return a.stop()}}))},this.writeTemp=function(e,t,a){var r,c,i;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=a,r=e===n.F?Math.round((r-32)/.18):Math.round(r/.1),c=new ArrayBuffer(2),(i=new DataView(c)).setUint16(0,r,!0),s.next=7,W.a.awrap(t.writeValue(i));case 7:case"end":return s.stop()}}))},this.readTemp=function(e,t){var a,r,c,i=arguments;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:1,s.next=3,W.a.awrap(t.readValue());case 3:if(!(r=s.sent)){s.next=10;break}return c=r.getUint16(0,!0),c=e===n.F?Math.round((.18*c+32)*Math.pow(10,a))/Math.pow(10,a):Math.round(.1*c*Math.pow(10,a))/Math.pow(10,a),s.abrupt("return",c);case 10:throw new Error("Failed to read temperature value.");case 11:case"end":return s.stop()}}))},this.updateUnits=function(e){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){var a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.units=e,n.next=4,W.a.awrap(t.readTemp(t.units,t.temperatureCharacteristic));case 4:return(a=n.sent)&&Object(z.isNumber)(a)&&t.dispatch({type:E,payload:a}),n.next=8,W.a.awrap(t.readTemp(t.units,t.setPointCharacteristic));case 8:return(a=n.sent)&&Object(z.isNumber)(a)&&t.dispatch({type:x,payload:a}),n.next=12,W.a.awrap(t.readTemp(t.units,t.boostCharacteristic));case 12:(a=n.sent)&&Object(z.isNumber)(a)&&t.dispatch({type:w,payload:a});case 14:return n.prev=14,t.dispatch({type:U}),n.finish(14);case 17:case"end":return n.stop()}}),null,null,[[0,,14,17]])}));case 1:case"end":return a.stop()}}))}},Q=a(153).version,Z=function(e){var t=e.history,a=Object(r.useContext)(L),n=a.state,i=a.dispatch,s=Object(r.useState)(!1),o=Object(h.a)(s,2),l=o[0],p=o[1],d=Object(r.useState)(""),f=Object(h.a)(d,2),m=f[0],b=f[1];return c.a.createElement(u.r,null,c.a.createElement(u.m,{class:"connect-version-label"},Q),c.a.createElement(u.f,null,c.a.createElement(u.C,null,c.a.createElement(u.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.A,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),c.a.createElement(u.e,{class:"content",scrollX:!1,scrollY:!1,fullscreen:!0},c.a.createElement(u.o,{lines:"none"},c.a.createElement(u.p,null,c.a.createElement(u.m,null,"Connect")),c.a.createElement(u.j,{class:"spacer"}),c.a.createElement(u.j,{onClick:function(){K.connect(n.settings.units,i).then((function(){t.push("/home")})).catch((function(e){i({type:g}),b(e),p(!0)}))},hidden:n.connecting||n.connected},c.a.createElement(u.d,{size:"large"},"Connect to Crafty")),c.a.createElement(u.j,{class:"spacer"})),c.a.createElement(u.q,{message:"Connecting ...",isOpen:n.connecting})),c.a.createElement(u.b,{isOpen:l,onDidDismiss:function(){return p(!1)},header:"Error Connecting",message:m,buttons:["Ok"]}))},$=a(408),ee=a(409),te=a(410),ae=a(411),ne=(a(305),a(153).version),re=function(){var e=Object(r.useContext)(L).state,t=Object(r.useState)(-1),a=Object(h.a)(t,2),i=a[0],s=a[1],l=Object(r.useState)(!1),p=Object(h.a)(l,2),d=p[0],f=p[1];Object(r.useEffect)((function(){(i<=0||!d)&&i!==e.setPoint&&s(e.setPoint)}),[e.setPoint,d,i]);var m=function(t){var a=e.settings.units===n.C?40:104,r=e.settings.units===n.C?210:410,c=Math.floor(t);t<a?c=a:t>r&&(c=r),K.updateSetPoint(c).then((function(){c+e.settings.boostStep>r&&K.updateBoost(r-c)}))},b=function(t){var a=e.settings.units===n.C?210:410,r=Math.floor(t);r<0?r=0:e.setPoint+t>a&&(r=a-e.setPoint),K.updateBoost(r)};return e.connected?c.a.createElement(u.r,null,c.a.createElement(u.m,{class:"version-label"},ne),c.a.createElement(u.f,null,c.a.createElement(u.C,null,c.a.createElement(u.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.A,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"),c.a.createElement(u.g,{slot:"end",className:"power-icon",icon:32900===(32900&e.info.powerState)?$.a:32===(32&e.info.powerState)?ee.a:"",hidden:0===(32932&e.info.powerState)}))),c.a.createElement(u.e,{class:"content",scrollX:!1,scrollY:!1,fullscreen:!0},c.a.createElement(u.o,{lines:"none"},c.a.createElement(u.p,null,c.a.createElement(u.m,null,"Temperature")),c.a.createElement(u.j,{class:"spacer-home"}),c.a.createElement(u.j,{class:"temperature-item"},c.a.createElement(u.m,{class:"temperature-label"},e.temperature.toFixed(1),"\xb0",e.settings.units===n.C?"C":"F")),c.a.createElement(u.j,{class:"setpoint-item"},c.a.createElement(u.g,{class:"spacer"}),c.a.createElement(u.d,{class:"setpoint-button",onClick:function(){return m(e.setPoint-e.settings.setPointStep)}},c.a.createElement(u.g,{icon:te.a})),c.a.createElement(u.m,{class:"setpoint-input",onClick:function(){return f(!0)}},e.setPoint.toFixed(1),"\xb0",e.settings.units===n.C?"C":"F"),c.a.createElement(u.d,{class:"setpoint-button",onClick:function(){return m(e.setPoint+e.settings.setPointStep)}},c.a.createElement(u.g,{icon:ae.a})),c.a.createElement(u.g,{class:"spacer"})),c.a.createElement(u.j,null,c.a.createElement(u.g,{class:"spacer"}),c.a.createElement("svg",{width:200,height:60,className:"battery",key:e.batteryPercent},c.a.createElement("rect",{width:180,height:40,stroke:"#CCC",strokeWidth:2,x:5,y:5,rx:10,ry:10,className:"battery-container"}),c.a.createElement("rect",{width:Math.round(e.batteryPercent/100*160),height:20,x:15,y:15,rx:5,ry:5,className:"battery-gauge"}),c.a.createElement("rect",{width:10,height:20,x:185,y:15,className:"battery-button"}),c.a.createElement("text",{x:100,y:30,className:"battery-text"},e.batteryPercent.toFixed(0),"%")),c.a.createElement(u.g,{class:"spacer"})),c.a.createElement(u.j,{class:"spacer-home"}),c.a.createElement(u.j,{class:"booster"},c.a.createElement(u.u,{class:"booster-row"},c.a.createElement(u.d,{class:"booster-button",onClick:function(){return b(e.boost-e.settings.boostStep)}},c.a.createElement(u.g,{icon:te.a})),c.a.createElement(u.u,{class:"booster-text"},c.a.createElement(u.m,{class:"booster-title"},"Booster Temperature"),c.a.createElement(u.g,{class:"spacer"}),c.a.createElement(u.m,{class:"booster-value"},"+",e.boost," \xb0",e.settings.units===n.C?"C":"F")),c.a.createElement(u.d,{class:"booster-button",onClick:function(){return b(e.boost+e.settings.boostStep)}},c.a.createElement(u.g,{icon:ae.a})))))),c.a.createElement(u.b,{isOpen:d,onDidDismiss:function(){return f(!1)},header:"Set Point",message:"Please enter a new set point value",inputs:[{name:"setPoint",label:"Set Point",type:"number",value:i}],buttons:[{text:"Ok",handler:function(e){m(e.setPoint)}}]})):c.a.createElement(o.a,{to:"/connect"})},ce=(a(306),function(e){e.history;var t,a=Object(r.useContext)(L),i=a.state,s=a.dispatch,l=Object(r.useState)((function(){return 1!==(1&i.craftySettings)})),p=Object(h.a)(l,2),d=p[0],f=p[1],m=Object(r.useState)((function(){return 2!==(2&i.craftySettings)})),b=Object(h.a)(m,2),y=b[0],g=b[1],v=Object(r.useState)(-1),E=Object(h.a)(v,2),x=E[0],w=E[1],C=Object(r.useState)((function(){return i.settings.setPointStep})),T=Object(h.a)(C,2),U=T[0],k=T[1],P=Object(r.useState)((function(){return i.settings.boostStep})),N=Object(h.a)(P,2),_=N[0],R=N[1];Object(r.useEffect)((function(){var e=1!==(1&i.craftySettings);d!==e&&f(e),e=2!==(2&i.craftySettings),y!==e&&g(e),-1===x&&i.led>=0&&w(i.led),U!==i.settings.setPointStep&&k(i.settings.setPointStep),_!==i.settings.boostStep&&R(i.settings.boostStep)}),[i.craftySettings,d,y,i.led,x,U,i.settings.setPointStep,_,i.settings.boostStep]);return i.connected?c.a.createElement(u.r,null,c.a.createElement(u.f,null,c.a.createElement(u.C,null,c.a.createElement(u.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.A,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),c.a.createElement(u.e,{class:"settings-content",scrollX:!1,scrollY:!1,fullscreen:!0},c.a.createElement(u.o,{lines:"none"},c.a.createElement(u.p,null,c.a.createElement(u.m,null,"Settings")),c.a.createElement(u.j,{class:"spacer"}),c.a.createElement(u.j,null,c.a.createElement(u.m,null,"Units"),c.a.createElement(u.v,{value:i.settings.units,onIonChange:function(e){var t=e.target.value;K.updateUnits(t).then((function(){s({type:S,payload:t})}))}},c.a.createElement(u.w,{value:n.C},"\xb0C"),c.a.createElement(u.w,{value:n.F},"\xb0F"))),c.a.createElement(u.j,null,c.a.createElement(u.m,null,"Set Point Step"),c.a.createElement(u.i,{inputMode:"numeric",value:U.toFixed(0),type:"number",min:"1",max:"10",onIonChange:function(e){var t=parseInt(e.target.value);Object(z.isNumber)(t)&&t>0&&t<=10&&s({type:A,payload:t})},disabled:i.updating})),c.a.createElement(u.j,null,c.a.createElement(u.m,null,"Booster Step"),c.a.createElement(u.i,{inputMode:"numeric",value:_.toFixed(0),type:"number",min:"1",max:"5",onIonChange:function(e){var t=parseInt(e.target.value);Object(z.isNumber)(t)&&t>0&&t<=5&&s({type:F,payload:t})},disabled:i.updating})),c.a.createElement(u.j,null,c.a.createElement(u.m,null,"Vibration"),c.a.createElement(u.B,{checked:d,onIonChange:function(e){if(!i.updating){var t=1===(1&i.craftySettings);if(d!==t){var a=2&i.craftySettings|(t?0:1);console.log("updating settings: ".concat(a)),K.updateCraftySettings(a).then((function(){s({type:O,payload:a}),f(!d)}))}}},disabled:i.updating})),c.a.createElement(u.j,null,c.a.createElement(u.m,null,"Charge Indicator"),c.a.createElement(u.B,{checked:y,onIonChange:function(e){if(!i.updating){var t=2===(2&i.craftySettings);if(y!==t){var a=1&i.craftySettings|(t?0:2);console.log("updating settings: ".concat(a)),K.updateCraftySettings(a).then((function(){s({type:O,payload:a}),g(!y)})).catch((function(e){s({type:O,payload:i.craftySettings}),console.log("Error updating characteristic.")}))}}},disabled:i.updating})),c.a.createElement(u.j,null,c.a.createElement(u.u,{class:"led-item"},c.a.createElement(u.m,null,"LED Brightness"),c.a.createElement(u.s,{min:0,max:100,value:x,onIonChange:function(e){if(!i.updating){var a=e.target.value;t=a,w(a),a!==i.led&&setTimeout((function(){console.log("LED: ".concat(a," ? ").concat(t)),a===t&&K.updateLED(a).then((function(){s({type:j,payload:a})}))}),500)}},step:5}))),c.a.createElement(u.j,{class:"spacer"})))):c.a.createElement(o.a,{to:"/connect"})}),ie=(a(307),function(){var e=Object(r.useContext)(L).state;return e.connected?c.a.createElement(u.r,null,c.a.createElement(u.f,null,c.a.createElement(u.C,null,c.a.createElement(u.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.A,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),c.a.createElement(u.e,{class:"info-content",scrollY:!0},c.a.createElement(u.o,{lines:"none"},c.a.createElement(u.p,null,c.a.createElement(u.m,null,"Information")),c.a.createElement(u.j,{class:"spacer"}),c.a.createElement(u.l,null,c.a.createElement(u.k,null,c.a.createElement(u.m,null,"General")),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Serial #:"),c.a.createElement(u.m,{className:"value"},e.info.serial.substr(0,8))),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Model:"),c.a.createElement(u.m,{className:"value"},e.info.model)),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Version:"),c.a.createElement(u.m,{className:"value"},e.info.version)),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Hours:"),c.a.createElement(u.m,{className:"value"},e.info.hoursOfOperation))),c.a.createElement(u.l,null,c.a.createElement(u.k,null,c.a.createElement(u.m,null,"Battery")),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Remaining:"),c.a.createElement(u.m,{className:"value"},e.info.data[G.Battery.RemainingUuid]?e.info.data[G.Battery.RemainingUuid].value:"","mAh")),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Capacity:"),c.a.createElement(u.m,{className:"value"},e.info.data[G.Battery.TotalUuid]?e.info.data[G.Battery.TotalUuid].value:"","mAh")),c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},"Design:"),c.a.createElement(u.m,{className:"value"},e.info.data[G.Battery.DesignUuid]?e.info.data[G.Battery.DesignUuid].value:"","mAh"))),c.a.createElement(u.l,null,c.a.createElement(u.k,null,c.a.createElement(u.m,null,"Miscellaneous")),Object.keys(e.info.data).filter((function(t){return!e.info.data[t].label.startsWith("Battery")})).map((function(t){var a=e.info.data[t];return c.a.createElement(u.j,null,c.a.createElement(u.m,{className:"label"},a.label),c.a.createElement(u.m,{className:"value"},"hex"===a.type?Math.round(a.value/(a.divider||1)):a.value+(a.suffix||"")))}))),c.a.createElement(u.j,{class:"spacer"})))):c.a.createElement(o.a,{to:"/connect"})}),se=(a(308),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(316),a(317),a(318),function(){var e=Object(r.useContext)(L).state;return c.a.createElement(u.c,null,c.a.createElement(l.a,null,c.a.createElement(u.z,null,c.a.createElement(u.t,null,c.a.createElement(o.b,{path:"/connect",component:Z,exact:!0}),c.a.createElement(o.b,{path:"/home",component:re,exact:!0}),c.a.createElement(o.b,{path:"/settings",component:ce,exact:!0}),c.a.createElement(o.b,{path:"/info",component:ie,exact:!0}),c.a.createElement(o.b,{path:"/",render:function(){return c.a.createElement(o.a,{to:"/connect"})},exact:!0})),c.a.createElement(u.x,{slot:"bottom"},c.a.createElement(u.y,{tab:"home",href:"/home",disabled:!e.connected},c.a.createElement(u.g,{icon:p.a}),c.a.createElement(u.m,null,"Temperature")),c.a.createElement(u.y,{tab:"settings",href:"/settings",disabled:!e.connected},c.a.createElement(u.g,{icon:d.a}),c.a.createElement(u.m,null,"Settings")),c.a.createElement(u.y,{tab:"info",href:"/info",disabled:!e.connected},c.a.createElement(u.g,{icon:f.a}),c.a.createElement(u.m,null,"Information"))))))}),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(c.a.createElement((function(e){var t=c.a.useReducer(Y,V),a=Object(h.a)(t,2),n={state:a[0],dispatch:a[1]};return c.a.createElement(L.Provider,{value:n},e.children)}),null,c.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://github.cataford.com/crafty",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://github.cataford.com/crafty","/service-worker.js");oe?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ue(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ue(t,e)}))}}()}},[[189,9,10]]]);
//# sourceMappingURL=main.d0ef8d67.chunk.js.map
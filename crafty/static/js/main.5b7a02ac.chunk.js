(this["webpackJsonpcrafty-control"]=this["webpackJsonpcrafty-control"]||[]).push([[8],{153:function(e){e.exports=JSON.parse('{"name":"crafty-control","version":"1.0.9-beta","private":true,"dependencies":{"@ionic/react":"^4.11.0","@ionic/react-router":"^4.11.0","@types/jest":"^24.0.18","@types/node":"^12.7.12","@types/react":"^16.9.5","@types/react-dom":"^16.9.1","@types/react-router":"^5.1.1","@types/react-router-dom":"^5.1.0","babel-polyfill":"^6.26.0","date-fns":"^2.8.1","ionicons":"^4.6.3","react":"^16.10.2","react-app-polyfill":"^1.0.5","react-dom":"^16.10.2","react-router":"^5.1.0","react-router-dom":"^5.1.0","react-scripts":"3.2.0","react-visual-graphic":"^0.2.0","typescript":"3.6.3","typescript-task-queue":"^1.0.4"},"scripts":{"ionic:build:before":"cross-env-shell PUBLIC_URL=https://github.cataford.com/crafty/","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version","ie >= 11"]},"description":"Crafty Control Application","devDependencies":{"@types/date-fns":"^2.6.0","@types/web-bluetooth":"0.0.4","cross-env":"^6.0.3"}}')},189:function(e,t,a){e.exports=a(319)},195:function(e,t,a){var n={"./ion-action-sheet-controller_8.entry.js":[325,43],"./ion-action-sheet-ios.entry.js":[326,44],"./ion-action-sheet-md.entry.js":[327,45],"./ion-alert-ios.entry.js":[328,24],"./ion-alert-md.entry.js":[329,25],"./ion-app_8-ios.entry.js":[330,11],"./ion-app_8-md.entry.js":[331,12],"./ion-avatar_3-ios.entry.js":[332,46],"./ion-avatar_3-md.entry.js":[333,47],"./ion-back-button-ios.entry.js":[334,48],"./ion-back-button-md.entry.js":[335,49],"./ion-backdrop-ios.entry.js":[336,81],"./ion-backdrop-md.entry.js":[337,82],"./ion-button_2-ios.entry.js":[338,50],"./ion-button_2-md.entry.js":[339,51],"./ion-card_5-ios.entry.js":[340,52],"./ion-card_5-md.entry.js":[341,53],"./ion-checkbox-ios.entry.js":[342,54],"./ion-checkbox-md.entry.js":[343,55],"./ion-chip-ios.entry.js":[344,56],"./ion-chip-md.entry.js":[345,57],"./ion-col_3.entry.js":[346,83],"./ion-datetime_3-ios.entry.js":[347,20],"./ion-datetime_3-md.entry.js":[348,21],"./ion-fab_3-ios.entry.js":[349,58],"./ion-fab_3-md.entry.js":[350,59],"./ion-img.entry.js":[351,84],"./ion-infinite-scroll_2-ios.entry.js":[352,39],"./ion-infinite-scroll_2-md.entry.js":[353,40],"./ion-input-ios.entry.js":[354,60],"./ion-input-md.entry.js":[355,61],"./ion-item-option_3-ios.entry.js":[356,62],"./ion-item-option_3-md.entry.js":[357,63],"./ion-item_8-ios.entry.js":[358,64],"./ion-item_8-md.entry.js":[359,65],"./ion-loading-ios.entry.js":[360,26],"./ion-loading-md.entry.js":[361,27],"./ion-menu_4-ios.entry.js":[362,18],"./ion-menu_4-md.entry.js":[363,19],"./ion-modal-ios.entry.js":[364,14],"./ion-modal-md.entry.js":[365,15],"./ion-nav_5.entry.js":[366,13],"./ion-popover-ios.entry.js":[367,16],"./ion-popover-md.entry.js":[368,17],"./ion-progress-bar-ios.entry.js":[369,66],"./ion-progress-bar-md.entry.js":[370,67],"./ion-radio_2-ios.entry.js":[371,32],"./ion-radio_2-md.entry.js":[372,33],"./ion-range-ios.entry.js":[373,68],"./ion-range-md.entry.js":[374,69],"./ion-refresher_2-ios.entry.js":[375,41],"./ion-refresher_2-md.entry.js":[376,42],"./ion-reorder_2-ios.entry.js":[377,37],"./ion-reorder_2-md.entry.js":[378,38],"./ion-ripple-effect.entry.js":[379,85],"./ion-route_4.entry.js":[380,70],"./ion-searchbar-ios.entry.js":[381,28],"./ion-searchbar-md.entry.js":[382,29],"./ion-segment_2-ios.entry.js":[383,71],"./ion-segment_2-md.entry.js":[384,72],"./ion-select_3-ios.entry.js":[385,34],"./ion-select_3-md.entry.js":[386,35],"./ion-slide_2-ios.entry.js":[387,86],"./ion-slide_2-md.entry.js":[388,87],"./ion-spinner.entry.js":[389,73],"./ion-split-pane-ios.entry.js":[390,88],"./ion-split-pane-md.entry.js":[391,89],"./ion-tab-bar_2-ios.entry.js":[392,74],"./ion-tab-bar_2-md.entry.js":[393,75],"./ion-tab_2.entry.js":[394,36],"./ion-text.entry.js":[395,76],"./ion-textarea-ios.entry.js":[396,77],"./ion-textarea-md.entry.js":[397,78],"./ion-toast-ios.entry.js":[398,30],"./ion-toast-md.entry.js":[399,31],"./ion-toggle-ios.entry.js":[400,22],"./ion-toggle-md.entry.js":[401,23],"./ion-virtual-scroll.entry.js":[402,90]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=195,e.exports=r},196:function(e,t,a){var n={"./ion-icon.entry.js":[406,98]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=196,e.exports=r},201:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(69),s=a.n(i),o=a(9),u=a(1),l=a(170),d=a(412),p=a(413),h=a(414),f=a(17),m=a(41),y=a(4),b="CRAFTY/CONNECTING",g="CRAFTY/DISCONNECTED",v="CRAFTY/CONNECTED",E="CRAFTY/SET_CURRENT_TEMPERATURE",w="CRAFTY/SET_SETPOINT",x="CRAFTY/SET_BOOST",C="CRAFTY/SET_LED",j="CRAFTY/SET_BATTERY_PERCENT",S="CRAFTY/UPDATE_UNITS",O="CRAFTY/UPDATE_SETTINGS",k="CRAFTY/UPDATING",T="CRAFTY/UPDATED",U="CRAFTY/SET_SERIAL",N="CRAFTY/SET_MODEL",P="CRAFTY/SET_VERSION",_="CRAFTY/SET_HOURS_OF_OP",F="CRAFTY/SETPOINT_STEP",B="CRAFTY/BOOST_STEP",D="CRAFTY/SET_DATA",A="CRAFTY/SET_POWER_STATE";!function(e){e[e.F=0]="F",e[e.C=1]="C"}(n||(n={}));var R=localStorage.getItem("crafty-control-units"),I=localStorage.getItem("crafty-control-setpoint-step"),V=localStorage.getItem("crafty-control-boost-step"),M={settings:{units:R?parseInt(R):n.C,setPointStep:I?parseInt(I):5,boostStep:V?parseInt(V):1},info:{serial:"",model:"",version:"",hoursOfOperation:0,powerState:!1,heatingState:!1,boostState:!1,chargingState:!1,pluggedInState:!1,data:{}},connecting:!1,connected:!1,updating:!1,temperature:0,setPoint:0,boost:0,batteryPercent:0,craftySettings:0,led:-1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(y.a)({},e,{connecting:!0});case v:return Object(y.a)({},e,{connecting:!1,connected:!0});case E:return Object(y.a)({},e,{temperature:t.payload});case w:return Object(y.a)({},e,{updating:!1,setPoint:t.payload});case j:return Object(y.a)({},e,{batteryPercent:t.payload});case x:return Object(y.a)({},e,{updating:!1,boost:t.payload});case C:return Object(y.a)({},e,{updating:!1,led:t.payload});case g:return Object(y.a)({},e,{connected:!1,connecting:!1});case S:return localStorage.setItem("crafty-control-units",t.payload.toString()),Object(y.a)({},e,{settings:Object(y.a)({},e.settings,{units:t.payload})});case F:return localStorage.setItem("crafty-control-setpoint-step",t.payload.toString()),Object(y.a)({},e,{settings:Object(y.a)({},e.settings,{setPointStep:t.payload})});case B:return localStorage.setItem("crafty-control-boost-step",t.payload.toString()),Object(y.a)({},e,{settings:Object(y.a)({},e.settings,{boostStep:t.payload})});case O:return Object(y.a)({},e,{updating:!1,craftySettings:t.payload});case k:return Object(y.a)({},e,{updating:!0});case T:return Object(y.a)({},e,{updating:!1});case U:return Object(y.a)({},e,{info:Object(y.a)({},e.info,{serial:t.payload})});case N:return Object(y.a)({},e,{info:Object(y.a)({},e.info,{model:t.payload})});case _:return Object(y.a)({},e,{info:Object(y.a)({},e.info,{hoursOfOperation:t.payload})});case P:return Object(y.a)({},e,{info:Object(y.a)({},e.info,{version:t.payload})});case A:var a=t.payload;return Object(y.a)({},e,{info:Object(y.a)({},e.info,{powerState:16===(16&a[1]),heatingState:5===(5&a[1]),boostState:32===(32&a[1]),chargingState:2===a[2],pluggedInState:0!==a[2]})});case D:var n=t.payload;return Object(y.a)({},e,{info:Object(y.a)({},e.info,{data:Object(y.a)({},e.info.data,Object(m.a)({},n.uuid,n))})});default:return e}},q=c.a.createContext(void 0);q.Consumer;a(201);var Y=a(2),H=a.n(Y),W=a(5),z={ServiceUuid:"00000001-4c45-4b43-4942-265a524f5453",TemperatureUuid:"00000011-4c45-4b43-4942-265a524f5453",SetPointUuid:"00000021-4c45-4b43-4942-265a524f5453",BoostUuid:"00000031-4c45-4b43-4942-265a524f5453",BatteryUuid:"00000041-4c45-4b43-4942-265a524f5453",LedUuid:"00000051-4c45-4b43-4942-265a524f5453",MetaDataUuid:"00000002-4c45-4b43-4942-265a524f5453",ModelUuid:"00000022-4c45-4b43-4942-265a524f5453",VersionUuid:"00000032-4c45-4b43-4942-265a524f5453",SerialUuid:"00000052-4c45-4b43-4942-265a524f5453",MiscDataUuid:"00000003-4c45-4b43-4942-265a524f5453",HoursOfOperationUuid:"00000023-4c45-4b43-4942-265a524f5453",SettingsUuid:"000001c3-4c45-4b43-4942-265a524f5453",PowerUuid:"00000063-4c45-4b43-4942-265a524f5453",ChargingUuid:"000000a3-4c45-4b43-4942-265a524f5453",PowerBoostHeatStateUuid:"00000093-4c45-4b43-4942-265a524f5453",Battery:{RemainingUuid:"00000153-4c45-4b43-4942-265a524f5453",TotalUuid:"00000143-4c45-4b43-4942-265a524f5453",DesignUuid:"00000183-4c45-4b43-4942-265a524f5453",DischargeCyclesUuid:"00000163-4c45-4b43-4942-265a524f5453",ChargeCyclesUuid:"00000173-4c45-4b43-4942-265a524f5453"},otherUuids:[{uuid:"00000153-4c45-4b43-4942-265a524f5453",label:"Battery Remaining",type:"hex",suffix:"mah",notify:!1},{uuid:"00000143-4c45-4b43-4942-265a524f5453",label:"Battery Capacity",type:"hex",suffix:"mah"},{uuid:"00000183-4c45-4b43-4942-265a524f5453",label:"Battery Design Capacity",type:"hex",suffix:"mah"},{uuid:"00000163-4c45-4b43-4942-265a524f5453",label:"Discharge Cycles",type:"hex"},{uuid:"00000173-4c45-4b43-4942-265a524f5453",label:"Charge Cycles",type:"hex"},{uuid:"00000033-4c45-4b43-4942-265a524f5453",label:"Hardware ID",type:"ascii"},{uuid:"00000053-4c45-4b43-4942-265a524f5453",label:"SN Hardware",type:"ascii"},{uuid:"00000042-4c45-4b43-4942-265a524f5453",label:"Bluetooth Address",type:"hex"},{uuid:"00000043-4c45-4b43-4942-265a524f5453",label:"PCB Version",type:"hex"},{uuid:"000000f3-4c45-4b43-4942-265a524f5453",label:"Current Temperature (PT1000)",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000103-4c45-4b43-4942-265a524f5453",label:"Adjusted Current Temperature (PT1000)",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000113-4c45-4b43-4942-265a524f5453",label:"Accu Temperature",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000123-4c45-4b43-4942-265a524f5453",label:"Accu Temperature Min",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000133-4c45-4b43-4942-265a524f5453",label:"Accu Temperature Max",type:"hex",suffix:"\xb0c",divider:10},{uuid:"00000013-4c45-4b43-4942-265a524f5453",label:"Operating Time Accu",type:"hex",suffix:"h",divider:10},{uuid:"000000b3-4c45-4b43-4942-265a524f5453",label:"Voltage Accu",type:"hex",suffix:"mv"},{uuid:"000000c3-4c45-4b43-4942-265a524f5453",label:"Voltage Mains",type:"hex",suffix:"mv"},{uuid:"000000d3-4c45-4b43-4942-265a524f5453",label:"Voltage Heating",type:"hex",suffix:"mv"},{uuid:"000000e3-4c45-4b43-4942-265a524f5453",label:"Current Accu",type:"hex",suffix:"ma"}]},G=a(12),J=a(173),X=new TextDecoder("utf8"),K=new function e(){var t=this;Object(W.a)(this,e),this.units=n.C,this.detailed=!1,this.dispatch=void 0,this.service=void 0,this.setPointCharacteristic=void 0,this.boostCharacteristic=void 0,this.temperatureCharacteristic=void 0,this.settingsCharacteristic=void 0,this.ledCharacteristic=void 0,this.batteryCharacteristic=void 0,this.powerStateCharacteristic=void 0,this.powerBoostHeatStateCharacteristic=void 0,this.chargeCharacteristic=void 0,this.queue=new J.TaskQueue({autorun:!0,stoppable:!1}),this.connect=function(e,a,n){var r,c,i,s,o;return H.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t.units=e,t.detailed=a,t.dispatch=n,u.next=5,H.a.awrap(navigator.bluetooth.requestDevice({filters:[{name:"Storz&Bickel"},{name:"STORZ&BICKEL"}],optionalServices:[z.ServiceUuid,z.MetaDataUuid,z.MiscDataUuid]}));case 5:if((r=u.sent)&&r.gatt){u.next=8;break}throw new Error("Failed to retrieve Crafty BLE device.");case 8:return r.ongattserverdisconnected=function(e){n({type:g})},t.dispatch({type:b}),u.next=12,H.a.awrap(r.gatt.connect());case 12:if(c=u.sent){u.next=15;break}throw new Error("Failed to retrieve BLE server.");case 15:return u.next=17,H.a.awrap(c.getPrimaryService(z.ServiceUuid));case 17:return i=u.sent,u.next=20,H.a.awrap(c.getPrimaryService(z.MetaDataUuid));case 20:return s=u.sent,u.next=23,H.a.awrap(c.getPrimaryService(z.MiscDataUuid));case 23:if(o=u.sent,i){u.next=26;break}throw new Error("Failed to retrieve primary data service.");case 26:if(s){u.next=28;break}throw new Error("Failed to retrieve metadata service.");case 28:if(o){u.next=30;break}throw new Error("Failed to retrieve miscellaneous data service.");case 30:return u.next=32,H.a.awrap(t.getDataServiceCharacteristics(i));case 32:return u.next=34,H.a.awrap(t.getMetaDataCharacteristics(s));case 34:return u.next=36,H.a.awrap(t.getMiscCharacteristics(o));case 36:return u.next=38,H.a.awrap(t.getOtherCharacteristics(i));case 38:return u.next=40,H.a.awrap(t.getOtherCharacteristics(s));case 40:return u.next=42,H.a.awrap(t.getOtherCharacteristics(o));case 42:return u.next=44,H.a.awrap(t.bindCharacteristics(s,o));case 44:t.dispatch({type:v});case 45:case"end":return u.stop()}}))},this.bindCharacteristics=function(e,a){var n,r,c,i,s,o,u,l,d;return H.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:t.temperatureCharacteristic.addEventListener("characteristicvaluechanged",(function(e){return H.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e;return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H.a.awrap(t.readTemp(t.units,t.temperatureCharacteristic));case 2:(e=a.sent)&&Object(G.isNumber)(e)&&t.dispatch({type:E,payload:e});case 4:case"end":return a.stop()}}))}));case 1:case"end":return e.stop()}}))})),t.batteryCharacteristic.addEventListener("characteristicvaluechanged",(function(e){return H.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e;return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H.a.awrap(t.readNumericValue(t.batteryCharacteristic));case 2:(e=a.sent)&&t.dispatch({type:j,payload:e});case 4:case"end":return a.stop()}}))}));case 1:case"end":return e.stop()}}))})),t.powerStateCharacteristic.addEventListener("characteristicvaluechanged",(function(e){return H.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e,a,n;return H.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H.a.awrap(t.readNumericValue(t.powerStateCharacteristic));case 2:return e=r.sent,r.next=5,H.a.awrap(t.readNumericValue(t.powerBoostHeatStateCharacteristic));case 5:return a=r.sent,r.next=8,H.a.awrap(t.readNumericValue(t.chargeCharacteristic));case 8:n=r.sent,void 0!==e&&void 0!==a&&void 0!==n&&Object(G.isNumber)(e)&&Object(G.isNumber)(a)&&Object(G.isNumber)(n)&&t.dispatch({type:A,payload:[e,a,n]});case 10:case"end":return r.stop()}}))}));case 1:case"end":return e.stop()}}))})),n=[],r=!0,c=!1,i=void 0,p.prev=7,s=function(){var r,c;return H.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=u.value,c=void 0,r.uuid.substring(7)!==e.uuid.substring(7)){i.next=8;break}return i.next=5,H.a.awrap(e.getCharacteristic(r.uuid));case 5:c=i.sent,i.next=12;break;case 8:if(r.uuid.substring(7)!==a.uuid.substring(7)){i.next=12;break}return i.next=11,H.a.awrap(a.getCharacteristic(r.uuid));case 11:c=i.sent;case 12:c&&(n.push(c),c.addEventListener("characteristicvaluechanged",(function(e){return H.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.queue.enqueue((function(){var e,a;return H.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("hex"!==r.type){n.next=7;break}return n.next=3,H.a.awrap(t.readNumericValue(c));case 3:(e=n.sent)&&t.dispatch({type:D,payload:Object(y.a)({},r,{value:e})}),n.next=11;break;case 7:return n.next=9,H.a.awrap(t.readStringValue(c));case 9:(a=n.sent)&&t.dispatch({type:D,payload:Object(y.a)({},r,{value:a})});case 11:case"end":return n.stop()}}))}));case 1:case"end":return e.stop()}}))})));case 13:case"end":return i.stop()}}))},o=z.otherUuids.filter((function(e){return e.notify}))[Symbol.iterator]();case 10:if(r=(u=o.next()).done){p.next=16;break}return p.next=13,H.a.awrap(s());case 13:r=!0,p.next=10;break;case 16:p.next=22;break;case 18:p.prev=18,p.t0=p.catch(7),c=!0,i=p.t0;case 22:p.prev=22,p.prev=23,r||null==o.return||o.return();case 25:if(p.prev=25,!c){p.next=28;break}throw i;case 28:return p.finish(25);case 29:return p.finish(22);case 30:for(t.temperatureCharacteristic.startNotifications(),t.batteryCharacteristic.startNotifications(),t.powerStateCharacteristic.startNotifications(),l=0,d=n;l<d.length;l++)d[l].startNotifications();case 34:case"end":return p.stop()}}),null,null,[[7,18,22,30],[23,,25,29]])},this.getDataServiceCharacteristics=function(e){var a,n,r,c,i;return H.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,H.a.awrap(e.getCharacteristic(z.TemperatureUuid));case 2:if(t.temperatureCharacteristic=s.sent,t.temperatureCharacteristic){s.next=5;break}throw new Error("Failed to retrieve temperature characteristic.");case 5:return s.next=7,H.a.awrap(t.readTemp(t.units,t.temperatureCharacteristic));case 7:return a=s.sent,t.dispatch({type:E,payload:a}),s.next=11,H.a.awrap(e.getCharacteristic(z.SetPointUuid));case 11:if(t.setPointCharacteristic=s.sent,t.setPointCharacteristic){s.next=14;break}throw new Error("Failed to retrieve setpoint characteristic.");case 14:return s.next=16,H.a.awrap(t.readTemp(t.units,t.setPointCharacteristic,0));case 16:return(n=s.sent)&&Object(G.isNumber)(n)&&t.dispatch({type:w,payload:n}),s.next=20,H.a.awrap(e.getCharacteristic(z.BoostUuid));case 20:if(t.boostCharacteristic=s.sent,t.boostCharacteristic){s.next=23;break}throw new Error("Failed to retrieve the boost characteristic.");case 23:return s.next=25,H.a.awrap(t.readTemp(t.units,t.boostCharacteristic,0));case 25:return(r=s.sent)&&Object(G.isNumber)(r)&&t.dispatch({type:x,payload:r}),s.next=29,H.a.awrap(e.getCharacteristic(z.LedUuid));case 29:return t.ledCharacteristic=s.sent,s.next=32,H.a.awrap(t.readNumericValue(t.ledCharacteristic));case 32:return(c=s.sent)&&t.dispatch({type:C,payload:c}),s.next=36,H.a.awrap(e.getCharacteristic(z.BatteryUuid));case 36:if(t.batteryCharacteristic=s.sent,t.batteryCharacteristic){s.next=39;break}throw new Error("Failed to retrieve the battery characteristic.");case 39:return s.next=41,H.a.awrap(t.readNumericValue(t.batteryCharacteristic));case 41:(i=s.sent)&&t.dispatch({type:j,payload:i});case 43:case"end":return s.stop()}}))},this.getMiscCharacteristics=function(e){var a,n,r,c,i,s;return H.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,H.a.awrap(e.getCharacteristic(z.SettingsUuid));case 2:if(t.settingsCharacteristic=o.sent,t.settingsCharacteristic){o.next=5;break}throw new Error("Failed to retrieve settings characteristic.");case 5:return o.next=7,H.a.awrap(t.readNumericValue(t.settingsCharacteristic));case 7:return(a=o.sent)&&t.dispatch({type:O,payload:a}),o.next=11,H.a.awrap(e.getCharacteristic(z.HoursOfOperationUuid));case 11:if(n=o.sent){o.next=14;break}throw new Error("Failed to retrieve hours of operation characteristic.");case 14:return o.next=16,H.a.awrap(t.readNumericValue(n));case 16:return(r=o.sent)&&t.dispatch({type:_,payload:r}),o.next=20,H.a.awrap(e.getCharacteristic(z.PowerUuid));case 20:if(t.powerStateCharacteristic=o.sent,t.powerStateCharacteristic){o.next=23;break}throw new Error("Failed to retrieve the power state characteristic.");case 23:return o.next=25,H.a.awrap(e.getCharacteristic(z.PowerBoostHeatStateUuid));case 25:if(t.powerBoostHeatStateCharacteristic=o.sent,t.powerBoostHeatStateCharacteristic){o.next=28;break}throw new Error("Failed to retrieve the power/boost/heat state characteristic.");case 28:return o.next=30,H.a.awrap(e.getCharacteristic(z.ChargingUuid));case 30:if(t.chargeCharacteristic=o.sent,t.chargeCharacteristic){o.next=33;break}throw new Error("Failed to retrieve the charging state characteristic.");case 33:return o.next=35,H.a.awrap(t.readNumericValue(t.powerStateCharacteristic));case 35:return c=o.sent,o.next=38,H.a.awrap(t.readNumericValue(t.powerBoostHeatStateCharacteristic));case 38:return i=o.sent,o.next=41,H.a.awrap(t.readNumericValue(t.chargeCharacteristic));case 41:s=o.sent,void 0!==c&&void 0!==i&&void 0!==s&&Object(G.isNumber)(c)&&Object(G.isNumber)(i)&&Object(G.isNumber)(s)&&t.dispatch({type:A,payload:[c,i,s]});case 43:case"end":return o.stop()}}))},this.getMetaDataCharacteristics=function(e){var a,n,r,c,i,s;return H.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,H.a.awrap(e.getCharacteristic(z.SerialUuid));case 2:if(a=o.sent){o.next=5;break}throw new Error("Failed to retrieve the serial # characteristic.");case 5:return o.next=7,H.a.awrap(t.readStringValue(a));case 7:return(n=o.sent)&&t.dispatch({type:U,payload:n}),o.next=11,H.a.awrap(e.getCharacteristic(z.ModelUuid));case 11:if(r=o.sent){o.next=14;break}throw new Error("Failed to retrieve the model # characteristic.");case 14:return o.next=16,H.a.awrap(t.readStringValue(r));case 16:return(c=o.sent)&&t.dispatch({type:N,payload:c}),o.next=20,H.a.awrap(e.getCharacteristic(z.VersionUuid));case 20:if(i=o.sent){o.next=23;break}throw new Error("Failed to retrieve the version # characteristic.");case 23:return o.next=25,H.a.awrap(t.readStringValue(i));case 25:(s=o.sent)&&t.dispatch({type:P,payload:s});case 27:case"end":return o.stop()}}))},this.getOtherCharacteristics=function(e){var a,n,r,c,i,s,o,u,l,d,p;return H.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:a=!0,n=!1,r=void 0,h.prev=3,c=z.otherUuids.filter((function(e){return!!t.detailed||Object.values(z.Battery).includes(e.uuid)}))[Symbol.iterator]();case 5:if(a=(i=c.next()).done){h.next=26;break}if((s=i.value).uuid.substring(7)!==e.uuid.substring(7)){h.next=23;break}return h.next=10,H.a.awrap(e.getCharacteristic(s.uuid));case 10:if(!(o=h.sent)){h.next=23;break}if("hex"!==s.type){h.next=19;break}return h.next=15,H.a.awrap(o.readValue());case 15:(u=h.sent)&&(l=u.getUint16(0,!0))&&Object(G.isNumber)(l)&&t.dispatch({type:D,payload:Object(y.a)({},s,{value:l})}),h.next=23;break;case 19:return h.next=21,H.a.awrap(o.readValue());case 21:(d=h.sent)&&(p=X.decode(d.buffer))&&t.dispatch({type:D,payload:Object(y.a)({},s,{value:p})});case 23:a=!0,h.next=5;break;case 26:h.next=32;break;case 28:h.prev=28,h.t0=h.catch(3),n=!0,r=h.t0;case 32:h.prev=32,h.prev=33,a||null==c.return||c.return();case 35:if(h.prev=35,!n){h.next=38;break}throw r;case 38:return h.finish(35);case 39:return h.finish(32);case 40:case"end":return h.stop()}}),null,null,[[3,28,32,40],[33,,35,39]])},this.updateSetPoint=function(e){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.dispatch({type:k}),t.setPointCharacteristic){a.next=4;break}throw new Error("Failed to retrieve BLE Crafty Set Point Characteristic.");case 4:return a.next=6,H.a.awrap(t.writeTemp(t.units,t.setPointCharacteristic,e));case 6:t.dispatch({type:w,payload:e});case 7:return a.prev=7,t.dispatch({type:T}),a.finish(7);case 10:case"end":return a.stop()}}),null,null,[[0,,7,10]])}));case 1:case"end":return a.stop()}}))},this.updateBoost=function(e){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.dispatch({type:k}),t.boostCharacteristic){a.next=4;break}throw new Error("Failed to retrieve BLE Crafty Boost Characteristic.");case 4:return a.next=6,H.a.awrap(t.writeTemp(t.units,t.boostCharacteristic,e));case 6:t.dispatch({type:x,payload:e});case 7:return a.prev=7,t.dispatch({type:T}),a.finish(7);case 10:case"end":return a.stop()}}),null,null,[[0,,7,10]])}));case 1:case"end":return a.stop()}}))},this.updateLED=function(e){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){var a,n;return H.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.dispatch({type:k}),t.ledCharacteristic){r.next=4;break}throw new Error("Failed to retrieve BLE Crafty LED Brightness Characteristic.");case 4:return a=new ArrayBuffer(2),(n=new DataView(a)).setUint16(0,e,!0),r.next=10,H.a.awrap(t.ledCharacteristic.writeValue(n));case 10:return r.prev=10,t.dispatch({type:T}),r.finish(10);case 13:case"end":return r.stop()}}),null,null,[[0,,10,13]])}));case 1:case"end":return a.stop()}}))},this.settingUpdating=!1,this.updateCraftySettings=function(e){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.settingUpdating){a.next=2;break}return a.abrupt("return");case 2:t.queue.enqueue((function(){var a,n;return H.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.settingUpdating=!0,t.dispatch({type:k}),t.settingsCharacteristic){r.next=5;break}throw new Error("Failed to retrieve BLE Crafty Settings Characteristic.");case 5:return a=new ArrayBuffer(2),(n=new DataView(a)).setUint16(0,e,!0),r.next=10,H.a.awrap(t.settingsCharacteristic.writeValue(n));case 10:return r.prev=10,t.settingUpdating=!1,t.dispatch({type:T}),r.finish(10);case 14:case"end":return r.stop()}}),null,null,[[0,,10,14]])}));case 3:case"end":return a.stop()}}))},this.writeTemp=function(e,t,a){var r,c,i;return H.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=a,r=e===n.F?Math.round((r-32)/.18):Math.round(r/.1),c=new ArrayBuffer(2),(i=new DataView(c)).setUint16(0,r,!0),s.next=7,H.a.awrap(t.writeValue(i));case 7:case"end":return s.stop()}}))},this.readTemp=function(e,t){var a,r,c,i=arguments;return H.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:1,s.next=3,H.a.awrap(t.readValue());case 3:if(!(r=s.sent)){s.next=10;break}return c=r.getUint16(0,!0),c=e===n.F?Math.round((.18*c+32)*Math.pow(10,a))/Math.pow(10,a):Math.round(.1*c*Math.pow(10,a))/Math.pow(10,a),s.abrupt("return",c);case 10:throw new Error("Failed to read temperature value.");case 11:case"end":return s.stop()}}))},this.updateUnits=function(e){return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.queue.enqueue((function(){var a;return H.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.units=e,n.next=4,H.a.awrap(t.readTemp(t.units,t.temperatureCharacteristic));case 4:return(a=n.sent)&&Object(G.isNumber)(a)&&t.dispatch({type:E,payload:a}),n.next=8,H.a.awrap(t.readTemp(t.units,t.setPointCharacteristic));case 8:return(a=n.sent)&&Object(G.isNumber)(a)&&t.dispatch({type:w,payload:a}),n.next=12,H.a.awrap(t.readTemp(t.units,t.boostCharacteristic));case 12:(a=n.sent)&&Object(G.isNumber)(a)&&t.dispatch({type:x,payload:a});case 14:return n.prev=14,t.dispatch({type:T}),n.finish(14);case 17:case"end":return n.stop()}}),null,null,[[0,,14,17]])}));case 1:case"end":return a.stop()}}))},this.readNumericValue=function(e){var t,a;return H.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.a.awrap(e.readValue());case 2:if(!(t=n.sent)){n.next=7;break}if(void 0===(a=t.getUint16(0,!0))||!Object(G.isNumber)(a)){n.next=7;break}return n.abrupt("return",a);case 7:return n.abrupt("return");case 8:case"end":return n.stop()}}))},this.readStringValue=function(e){var t;return H.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H.a.awrap(e.readValue());case 2:if(!(t=a.sent)){a.next=5;break}return a.abrupt("return",X.decode(t.buffer));case 5:return a.abrupt("return");case 6:case"end":return a.stop()}}))}},Q=a(153).version,Z=function(e){var t=e.history,a=Object(r.useContext)(q),n=a.state,i=a.dispatch,s=Object(r.useState)(!1),o=Object(f.a)(s,2),l=o[0],d=o[1],p=Object(r.useState)(""),h=Object(f.a)(p,2),m=h[0],y=h[1],b=Object(r.useState)(!1),v=Object(f.a)(b,2),E=v[0],w=v[1];return c.a.createElement(u.s,null,c.a.createElement(u.n,{class:"connect-version-label"},Q),c.a.createElement(u.g,null,c.a.createElement(u.D,null,c.a.createElement(u.i,{slot:"start",src:"".concat("https://www.jcatvapes.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.B,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),c.a.createElement(u.f,{class:"connect-content",scrollX:!1,scrollY:!1,fullscreen:!0},c.a.createElement(u.p,{lines:"none"},c.a.createElement(u.q,null,c.a.createElement(u.n,null,"Connect")),c.a.createElement(u.k,{class:"spacer"}),c.a.createElement(u.k,{hidden:n.connecting||n.connected},c.a.createElement(u.d,{onClick:function(){K.connect(n.settings.units,E,i).then((function(){t.push("/home")})).catch((function(e){i({type:g}),y(e),d(!0)}))},size:"large"},"Connect to Crafty")),c.a.createElement(u.k,{hidden:n.connecting||n.connected},c.a.createElement(u.e,{checked:E,onIonChange:function(e){w(e.detail.checked)},slot:"start"}),c.a.createElement(u.n,null,"Get Detailed Information?")),c.a.createElement(u.k,{class:"spacer"})),c.a.createElement(u.r,{message:"Connecting ...",isOpen:n.connecting})),c.a.createElement(u.b,{isOpen:l,onDidDismiss:function(){return d(!1)},header:"Error Connecting",message:m,buttons:["Ok"]}))},$=a(408),ee=a(409),te=a(410),ae=a(411),ne=(a(305),a(153).version),re=function(){var e=Object(r.useContext)(q).state,t=Object(r.useState)(-1),a=Object(f.a)(t,2),i=a[0],s=a[1],l=Object(r.useState)(!1),d=Object(f.a)(l,2),p=d[0],h=d[1];Object(r.useEffect)((function(){(i<=0||!p)&&i!==e.setPoint&&s(e.setPoint)}),[e.setPoint,p,i]);var m=function(t){var a=e.settings.units===n.C?40:104,r=e.settings.units===n.C?210:410,c=Math.floor(t);t<a?c=a:t>r&&(c=r),K.updateSetPoint(c).then((function(){c+e.settings.boostStep>r&&K.updateBoost(r-c)}))},y=function(t){var a=e.settings.units===n.C?210:410,r=Math.floor(t);r<0?r=0:e.setPoint+t>a&&(r=a-e.setPoint),K.updateBoost(r)};return e.connected?c.a.createElement(u.s,null,c.a.createElement(u.n,{class:"version-label"},ne),c.a.createElement(u.g,null,c.a.createElement(u.D,null,c.a.createElement(u.i,{slot:"start",src:"".concat("https://www.jcatvapes.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.B,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"),c.a.createElement(u.h,{slot:"end",className:e.info.powerState&&e.info.heatingState||!e.info.powerState&&e.info.pluggedInState&&e.info.chargingState?"power-icon-flashing":"power-icon",icon:e.info.powerState?$.a:e.info.pluggedInState?ee.a:"",hidden:!e.info.powerState&&!e.info.pluggedInState}))),c.a.createElement(u.f,{class:"content",scrollX:!1,scrollY:!1,fullscreen:!0},c.a.createElement(u.p,{lines:"none"},c.a.createElement(u.q,null,c.a.createElement(u.n,null,"Temperature")),c.a.createElement(u.k,{class:"spacer-home"}),c.a.createElement(u.k,{class:"temperature-item"},c.a.createElement(u.n,{class:"temperature-label"},e.temperature.toFixed(1),"\xb0",e.settings.units===n.C?"C":"F")),c.a.createElement(u.k,{class:"setpoint-item"},c.a.createElement(u.h,{class:"spacer"}),c.a.createElement(u.d,{class:"setpoint-button",onClick:function(){return m(e.setPoint-e.settings.setPointStep)}},c.a.createElement(u.h,{icon:te.a})),c.a.createElement(u.n,{class:"setpoint-input",onClick:function(){return h(!0)}},e.setPoint.toFixed(1),"\xb0",e.settings.units===n.C?"C":"F"),c.a.createElement(u.d,{class:"setpoint-button",onClick:function(){return m(e.setPoint+e.settings.setPointStep)}},c.a.createElement(u.h,{icon:ae.a})),c.a.createElement(u.h,{class:"spacer"})),c.a.createElement(u.k,null,c.a.createElement(u.h,{class:"spacer"}),c.a.createElement("svg",{width:200,height:60,className:"battery",key:e.batteryPercent},c.a.createElement("rect",{width:180,height:40,stroke:"#CCC",strokeWidth:2,x:5,y:5,rx:10,ry:10,className:"battery-container"}),c.a.createElement("rect",{width:Math.round(e.batteryPercent/100*160),height:20,x:15,y:15,rx:5,ry:5,className:"battery-gauge"}),c.a.createElement("rect",{width:10,height:20,x:185,y:15,className:"battery-button"}),c.a.createElement("text",{x:100,y:30,className:"battery-text"},e.batteryPercent.toFixed(0),"%")),c.a.createElement(u.h,{class:"spacer"})),c.a.createElement(u.k,{class:"spacer-home"}),c.a.createElement(u.k,{class:"booster"},c.a.createElement(u.v,{class:"booster-row"},c.a.createElement(u.d,{class:"booster-button",onClick:function(){return y(e.boost-e.settings.boostStep)}},c.a.createElement(u.h,{icon:te.a})),c.a.createElement(u.v,{class:"booster-text"},c.a.createElement(u.n,{class:"booster-title"},"Booster Temperature"),c.a.createElement(u.h,{class:"spacer"}),c.a.createElement(u.n,{class:"booster-value"},"+",e.boost," \xb0",e.settings.units===n.C?"C":"F")),c.a.createElement(u.d,{class:"booster-button",onClick:function(){return y(e.boost+e.settings.boostStep)}},c.a.createElement(u.h,{icon:ae.a})))))),c.a.createElement(u.b,{isOpen:p,onDidDismiss:function(){return h(!1)},header:"Set Point",message:"Please enter a new set point value",inputs:[{name:"setPoint",label:"Set Point",type:"number",value:i}],buttons:[{text:"Ok",handler:function(e){m(e.setPoint)}}]})):c.a.createElement(o.a,{to:"/connect"})},ce=(a(306),function(e){e.history;var t,a=Object(r.useContext)(q),i=a.state,s=a.dispatch,l=Object(r.useState)((function(){return 1!==(1&i.craftySettings)})),d=Object(f.a)(l,2),p=d[0],h=d[1],m=Object(r.useState)((function(){return 2!==(2&i.craftySettings)})),y=Object(f.a)(m,2),b=y[0],g=y[1],v=Object(r.useState)(-1),E=Object(f.a)(v,2),w=E[0],x=E[1],j=Object(r.useState)((function(){return i.settings.setPointStep})),k=Object(f.a)(j,2),T=k[0],U=k[1],N=Object(r.useState)((function(){return i.settings.boostStep})),P=Object(f.a)(N,2),_=P[0],D=P[1];Object(r.useEffect)((function(){var e=1!==(1&i.craftySettings);p!==e&&h(e),e=2!==(2&i.craftySettings),b!==e&&g(e),-1===w&&i.led>=0&&x(i.led),T!==i.settings.setPointStep&&U(i.settings.setPointStep),_!==i.settings.boostStep&&D(i.settings.boostStep)}),[i.craftySettings,p,b,i.led,w,T,i.settings.setPointStep,_,i.settings.boostStep]);return i.connected?c.a.createElement(u.s,null,c.a.createElement(u.g,null,c.a.createElement(u.D,null,c.a.createElement(u.i,{slot:"start",src:"".concat("https://www.jcatvapes.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.B,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),c.a.createElement(u.f,{class:"settings-content",scrollX:!1,scrollY:!1,fullscreen:!0},c.a.createElement(u.p,{lines:"none"},c.a.createElement(u.q,null,c.a.createElement(u.n,null,"Settings")),c.a.createElement(u.k,{class:"spacer"}),c.a.createElement(u.k,null,c.a.createElement(u.n,null,"Units"),c.a.createElement(u.w,{value:i.settings.units,onIonChange:function(e){if(e.detail.value){var t=e.detail.value;K.updateUnits(t).then((function(){s({type:S,payload:t})}))}}},c.a.createElement(u.x,{value:n.C},"\xb0C"),c.a.createElement(u.x,{value:n.F},"\xb0F"))),c.a.createElement(u.k,null,c.a.createElement(u.n,null,"Set Point Step"),c.a.createElement(u.j,{inputMode:"numeric",value:T.toFixed(0),type:"number",min:"1",max:"10",onIonChange:function(e){if(e.detail.value){var t=parseInt(e.detail.value);Object(G.isNumber)(t)&&t>0&&t<=10&&s({type:F,payload:t})}},disabled:i.updating})),c.a.createElement(u.k,null,c.a.createElement(u.n,null,"Booster Step"),c.a.createElement(u.j,{inputMode:"numeric",value:_.toFixed(0),type:"number",min:"1",max:"5",onIonChange:function(e){if(e.detail.value){var t=parseInt(e.detail.value);Object(G.isNumber)(t)&&t>0&&t<=5&&s({type:B,payload:t})}},disabled:i.updating})),c.a.createElement(u.k,null,c.a.createElement(u.n,null,"Vibration"),c.a.createElement(u.C,{checked:p,onIonChange:function(e){if(!i.updating){var t=1===(1&i.craftySettings);if(p!==t){var a=2&i.craftySettings|(t?0:1);console.log("updating settings: ".concat(a)),K.updateCraftySettings(a).then((function(){s({type:O,payload:a}),h(!p)}))}}},disabled:i.updating})),c.a.createElement(u.k,null,c.a.createElement(u.n,null,"Charge Indicator"),c.a.createElement(u.C,{checked:b,onIonChange:function(e){if(!i.updating){var t=2===(2&i.craftySettings);if(b!==t){var a=1&i.craftySettings|(t?0:2);console.log("updating settings: ".concat(a)),K.updateCraftySettings(a).then((function(){s({type:O,payload:a}),g(!b)})).catch((function(e){s({type:O,payload:i.craftySettings}),console.log("Error updating characteristic.")}))}}},disabled:i.updating})),c.a.createElement(u.k,null,c.a.createElement(u.v,{class:"led-item"},c.a.createElement(u.n,null,"LED Brightness"),c.a.createElement(u.t,{min:0,max:100,value:w,onIonChange:function(e){if(!i.updating&&e.detail.value){var a=e.detail.value;t=a,x(a),a!==i.led&&setTimeout((function(){console.log("LED: ".concat(a," ? ").concat(t)),a===t&&K.updateLED(a).then((function(){s({type:C,payload:a})}))}),500)}},step:5}))),c.a.createElement(u.k,{class:"spacer"})))):c.a.createElement(o.a,{to:"/connect"})}),ie=(a(307),function(){var e=Object(r.useContext)(q).state,t=Object.keys(e.info.data).filter((function(e){return!Object.values(z.Battery).includes(e)}));return e.connected?c.a.createElement(u.s,null,c.a.createElement(u.g,null,c.a.createElement(u.D,null,c.a.createElement(u.i,{slot:"start",src:"".concat("https://www.jcatvapes.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),c.a.createElement(u.B,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),c.a.createElement(u.f,{class:"info-content",scrollY:!0},c.a.createElement(u.p,{lines:"none"},c.a.createElement(u.q,null,c.a.createElement(u.n,null,"Information")),c.a.createElement(u.k,{class:"spacer"}),c.a.createElement(u.m,null,c.a.createElement(u.l,null,c.a.createElement(u.n,null,"General")),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Serial #:"),c.a.createElement(u.n,{className:"value"},e.info.serial.substr(0,8))),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Model:"),c.a.createElement(u.n,{className:"value"},e.info.model)),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Version:"),c.a.createElement(u.n,{className:"value"},e.info.version)),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Hours:"),c.a.createElement(u.n,{className:"value"},e.info.hoursOfOperation))),c.a.createElement(u.m,null,c.a.createElement(u.l,null,c.a.createElement(u.n,null,"Battery")),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Remaining:"),c.a.createElement(u.n,{className:"value"},e.info.data[z.Battery.RemainingUuid]?e.info.data[z.Battery.RemainingUuid].value:"","mAh")),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Capacity:"),c.a.createElement(u.n,{className:"value"},e.info.data[z.Battery.TotalUuid]?e.info.data[z.Battery.TotalUuid].value:"","mAh")),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Design:"),c.a.createElement(u.n,{className:"value"},e.info.data[z.Battery.DesignUuid]?e.info.data[z.Battery.DesignUuid].value:"","mAh")),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Discharge Cycles:"),c.a.createElement(u.n,{className:"value"},e.info.data[z.Battery.DischargeCyclesUuid]?e.info.data[z.Battery.DischargeCyclesUuid].value:"")),c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},"Charge Cycles:"),c.a.createElement(u.n,{className:"value"},e.info.data[z.Battery.ChargeCyclesUuid]?e.info.data[z.Battery.ChargeCyclesUuid].value:""))),c.a.createElement(u.m,{hidden:0===t.length},c.a.createElement(u.l,null,c.a.createElement(u.n,null,"Miscellaneous")),t.map((function(t){var a=e.info.data[t];return c.a.createElement(u.k,null,c.a.createElement(u.n,{className:"label"},a.label),c.a.createElement(u.n,{className:"value"},("hex"===a.type?(a.value/(a.divider||1)).toFixed(Math.floor((a.divider||0)/10)):a.value)+(a.suffix||"")))}))),c.a.createElement(u.k,{class:"spacer"})))):c.a.createElement(o.a,{to:"/connect"})}),se=(a(308),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(316),a(317),a(318),function(){var e=Object(r.useContext)(q).state;return c.a.createElement(u.c,null,c.a.createElement(l.a,null,c.a.createElement(u.A,null,c.a.createElement(u.u,null,c.a.createElement(o.b,{path:"/connect",component:Z,exact:!0}),c.a.createElement(o.b,{path:"/home",component:re,exact:!0}),c.a.createElement(o.b,{path:"/settings",component:ce,exact:!0}),c.a.createElement(o.b,{path:"/info",component:ie,exact:!0}),c.a.createElement(o.b,{path:"/",render:function(){return c.a.createElement(o.a,{to:"/connect"})},exact:!0})),c.a.createElement(u.y,{slot:"bottom"},c.a.createElement(u.z,{tab:"home",href:"/home",disabled:!e.connected},c.a.createElement(u.h,{icon:d.a}),c.a.createElement(u.n,null,"Temperature")),c.a.createElement(u.z,{tab:"settings",href:"/settings",disabled:!e.connected},c.a.createElement(u.h,{icon:p.a}),c.a.createElement(u.n,null,"Settings")),c.a.createElement(u.z,{tab:"info",href:"/info",disabled:!e.connected},c.a.createElement(u.h,{icon:h.a}),c.a.createElement(u.n,null,"Information"))))))}),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(c.a.createElement((function(e){var t=c.a.useReducer(L,M),a=Object(f.a)(t,2),n={state:a[0],dispatch:a[1]};return c.a.createElement(q.Provider,{value:n},e.children)}),null,c.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://www.jcatvapes.com/crafty",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://www.jcatvapes.com/crafty","/service-worker.js");oe?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ue(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ue(t,e)}))}}()}},[[189,9,10]]]);
//# sourceMappingURL=main.5b7a02ac.chunk.js.map
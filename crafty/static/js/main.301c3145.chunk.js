(this["webpackJsonpcrafty-control"]=this["webpackJsonpcrafty-control"]||[]).push([[8],{69:function(e,t,n){e.exports=n(98)},75:function(e,t,n){var a={"./ion-action-sheet-controller_8.entry.js":[104,43],"./ion-action-sheet-ios.entry.js":[105,44],"./ion-action-sheet-md.entry.js":[106,45],"./ion-alert-ios.entry.js":[107,24],"./ion-alert-md.entry.js":[108,25],"./ion-app_8-ios.entry.js":[109,11],"./ion-app_8-md.entry.js":[110,12],"./ion-avatar_3-ios.entry.js":[111,46],"./ion-avatar_3-md.entry.js":[112,47],"./ion-back-button-ios.entry.js":[113,48],"./ion-back-button-md.entry.js":[114,49],"./ion-backdrop-ios.entry.js":[115,81],"./ion-backdrop-md.entry.js":[116,82],"./ion-button_2-ios.entry.js":[117,50],"./ion-button_2-md.entry.js":[118,51],"./ion-card_5-ios.entry.js":[119,52],"./ion-card_5-md.entry.js":[120,53],"./ion-checkbox-ios.entry.js":[121,54],"./ion-checkbox-md.entry.js":[122,55],"./ion-chip-ios.entry.js":[123,56],"./ion-chip-md.entry.js":[124,57],"./ion-col_3.entry.js":[125,83],"./ion-datetime_3-ios.entry.js":[126,20],"./ion-datetime_3-md.entry.js":[127,21],"./ion-fab_3-ios.entry.js":[128,58],"./ion-fab_3-md.entry.js":[129,59],"./ion-img.entry.js":[130,84],"./ion-infinite-scroll_2-ios.entry.js":[131,39],"./ion-infinite-scroll_2-md.entry.js":[132,40],"./ion-input-ios.entry.js":[133,60],"./ion-input-md.entry.js":[134,61],"./ion-item-option_3-ios.entry.js":[135,62],"./ion-item-option_3-md.entry.js":[136,63],"./ion-item_8-ios.entry.js":[137,64],"./ion-item_8-md.entry.js":[138,65],"./ion-loading-ios.entry.js":[139,26],"./ion-loading-md.entry.js":[140,27],"./ion-menu_4-ios.entry.js":[141,18],"./ion-menu_4-md.entry.js":[142,19],"./ion-modal-ios.entry.js":[143,14],"./ion-modal-md.entry.js":[144,15],"./ion-nav_5.entry.js":[145,13],"./ion-popover-ios.entry.js":[146,16],"./ion-popover-md.entry.js":[147,17],"./ion-progress-bar-ios.entry.js":[148,66],"./ion-progress-bar-md.entry.js":[149,67],"./ion-radio_2-ios.entry.js":[150,32],"./ion-radio_2-md.entry.js":[151,33],"./ion-range-ios.entry.js":[152,68],"./ion-range-md.entry.js":[153,69],"./ion-refresher_2-ios.entry.js":[154,41],"./ion-refresher_2-md.entry.js":[155,42],"./ion-reorder_2-ios.entry.js":[156,37],"./ion-reorder_2-md.entry.js":[157,38],"./ion-ripple-effect.entry.js":[158,85],"./ion-route_4.entry.js":[159,70],"./ion-searchbar-ios.entry.js":[160,28],"./ion-searchbar-md.entry.js":[161,29],"./ion-segment_2-ios.entry.js":[162,71],"./ion-segment_2-md.entry.js":[163,72],"./ion-select_3-ios.entry.js":[164,34],"./ion-select_3-md.entry.js":[165,35],"./ion-slide_2-ios.entry.js":[166,86],"./ion-slide_2-md.entry.js":[167,87],"./ion-spinner.entry.js":[168,73],"./ion-split-pane-ios.entry.js":[169,88],"./ion-split-pane-md.entry.js":[170,89],"./ion-tab-bar_2-ios.entry.js":[171,74],"./ion-tab-bar_2-md.entry.js":[172,75],"./ion-tab_2.entry.js":[173,36],"./ion-text.entry.js":[174,76],"./ion-textarea-ios.entry.js":[175,77],"./ion-textarea-md.entry.js":[176,78],"./ion-toast-ios.entry.js":[177,30],"./ion-toast-md.entry.js":[178,31],"./ion-toggle-ios.entry.js":[179,22],"./ion-toggle-md.entry.js":[180,23],"./ion-virtual-scroll.entry.js":[181,90]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=75,e.exports=r},76:function(e,t,n){var a={"./ion-icon.entry.js":[185,98]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=76,e.exports=r},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},86:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(25),o=n.n(c),s=n(7),l=n(1),u=n(55),d=n(189),f=n(190),m=n(191),h=n(14),p=n(3),y="CRAFTY/CONNECTING",g="CRAFTY/DISCONNECTED",E="CRAFTY/CONNECTED",b="CRAFTY/SET_CURRENT_TEMPERATURE",j="CRAFTY/SET_SETPOINT",v="CRAFTY/SET_BOOST",C="CRAFTY/SET_LED",S="CRAFTY/SET_BATTERY_PERCENT",O="CRAFTY/UPDATE_UNITS",w="CRAFTY/UPDATE_SETTINGS",P="CRAFTY/UPDATING",T="CRAFTY/SET_SERIAL",k="CRAFTY/SET_MODEL",_="CRAFTY/SET_VERSION",x="CRAFTY/SET_HOURS_OF_OP",A="CRAFTY/SETPOINT_STEP",F="CRAFTY/BOOST_STEP";!function(e){e[e.F=0]="F",e[e.C=1]="C"}(a||(a={}));var N=localStorage.getItem("crafty-control-units"),R=localStorage.getItem("crafty-control-setpoint-step"),I=localStorage.getItem("crafty-control-boost-step"),U={settings:{units:N?parseInt(N):a.C,setPointStep:R?parseInt(R):5,boostStep:I?parseInt(I):1},info:{serial:"",model:"",version:"",hoursOfOperation:0,data:[]},connecting:!1,connected:!1,updating:!1,temperature:0,setPoint:0,boost:0,batteryPercent:0,craftySettings:0,led:-1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(p.a)({},e,{connecting:!0});case E:return Object(p.a)({},e,{connecting:!1,connected:!0});case b:return Object(p.a)({},e,{temperature:t.payload});case j:return Object(p.a)({},e,{updating:!1,setPoint:t.payload});case S:return Object(p.a)({},e,{batteryPercent:t.payload});case v:return Object(p.a)({},e,{updating:!1,boost:t.payload});case C:return Object(p.a)({},e,{updating:!1,led:t.payload});case g:return Object(p.a)({},e,{connected:!1,connecting:!1});case O:return localStorage.setItem("crafty-control-units",t.payload.toString()),Object(p.a)({},e,{settings:Object(p.a)({},e.settings,{units:t.payload})});case A:return localStorage.setItem("crafty-control-setpoint-step",t.payload.toString()),Object(p.a)({},e,{settings:Object(p.a)({},e.settings,{setPointStep:t.payload})});case F:return localStorage.setItem("crafty-control-boost-step",t.payload.toString()),Object(p.a)({},e,{settings:Object(p.a)({},e.settings,{boostStep:t.payload})});case w:return Object(p.a)({},e,{updating:!1,craftySettings:t.payload});case P:return Object(p.a)({},e,{updating:!0});case T:return Object(p.a)({},e,{info:Object(p.a)({},e.info,{serial:t.payload})});case k:return Object(p.a)({},e,{info:Object(p.a)({},e.info,{model:t.payload})});case x:return Object(p.a)({},e,{info:Object(p.a)({},e.info,{hoursOfOperation:t.payload})});case _:return Object(p.a)({},e,{info:Object(p.a)({},e.info,{version:t.payload})});default:return e}},M=i.a.createContext(void 0);M.Consumer;n(81);var Y=n(4),B="00000001-4c45-4b43-4942-265a524f5453",V="00000011-4c45-4b43-4942-265a524f5453",L="00000021-4c45-4b43-4942-265a524f5453",W="00000031-4c45-4b43-4942-265a524f5453",X="00000041-4c45-4b43-4942-265a524f5453",z="00000051-4c45-4b43-4942-265a524f5453",G="00000002-4c45-4b43-4942-265a524f5453",q="00000022-4c45-4b43-4942-265a524f5453",H="00000032-4c45-4b43-4942-265a524f5453",J="00000052-4c45-4b43-4942-265a524f5453",K="00000003-4c45-4b43-4942-265a524f5453",Z="00000023-4c45-4b43-4942-265a524f5453",$="000001c3-4c45-4b43-4942-265a524f5453",Q=new function e(){var t=this;Object(Y.a)(this,e),this.units=a.C,this.dispatch=void 0,this.service=void 0,this.setPointCharacteristic=void 0,this.boostCharacteristic=void 0,this.temperatureCharacteristic=void 0,this.settingsCharacteristic=void 0,this.ledCharacteristic=void 0,this.connect=function(e,n){return t.units=e,t.dispatch=n,new Promise((function(e,n){navigator.bluetooth.requestDevice({filters:[{name:"STORZ&BICKEL"}]}).then((function(e){if(e&&e.gatt)return t.dispatch({type:y}),e.gatt.connect()})).then((function(e){if(e)return e.getPrimaryServices()})).then((function(n){var a=[];if(n){var r=!0,i=!1,c=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;switch(l.uuid){case G:a.push(t.getMetaDataCharacteristics(l));break;case K:a.push(t.getMiscCharacteristics(l));break;case B:t.service=l,a.push(t.getDataServiceCharacteristics(l))}}}catch(u){i=!0,c=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw c}}}Promise.all(a).then((function(){t.dispatch({type:E}),e()}))})).catch((function(e){n(e)}))}))},this.getDataServiceCharacteristics=function(e){var n=[];return n.push(e.getCharacteristic(V).then((function(e){if(e)return t.temperatureCharacteristic=e,new Promise((function(n){t.readTemp(t.units,e).then((function(a){t.dispatch({type:b,payload:a}),e.startNotifications().then((function(e){e.oncharacteristicvaluechanged=function(n){t.readTemp(t.units,e).then((function(e){t.dispatch({type:b,payload:e})}))},n()}))}))}))}))),n.push(e.getCharacteristic(L).then((function(e){if(e)return t.setPointCharacteristic=e,new Promise((function(n){t.readTemp(t.units,e,0).then((function(e){t.dispatch({type:j,payload:e}),n()}))}))}))),n.push(e.getCharacteristic(W).then((function(e){if(e)return t.boostCharacteristic=e,new Promise((function(n){t.readTemp(t.units,e,0).then((function(e){t.dispatch({type:v,payload:e}),n()}))}))}))),n.push(e.getCharacteristic(z).then((function(e){if(e)return t.ledCharacteristic=e,new Promise((function(n){e.readValue().then((function(e){var a=e.getUint16(0,!0);t.dispatch({type:C,payload:a}),n()}))}))}))),n.push(e.getCharacteristic(X).then((function(e){if(e)return new Promise((function(n){e.readValue().then((function(a){var r=a.getUint16(0,!0);t.dispatch({type:S,payload:r}),e.startNotifications().then((function(e){e.oncharacteristicvaluechanged=function(n){e.readValue().then((function(e){var n=e.getUint16(0,!0);t.dispatch({type:S,payload:n})}))},n()}))}))}))}))),Promise.all(n)},this.getMiscCharacteristics=function(e){var n=[];return n.push(e.getCharacteristic($).then((function(e){if(e)return t.settingsCharacteristic=e,new Promise((function(n,a){e.readValue().then((function(e){var a=e.getUint16(0,!0);t.dispatch({type:w,payload:a}),n()})).catch((function(e){a(e)}))}))}))),n.push(e.getCharacteristic(Z).then((function(e){if(e)return new Promise((function(n,a){e.readValue().then((function(e){var a=e.getUint16(0,!0);t.dispatch({type:x,payload:a}),n()})).then((function(e){a(e)}))}))}))),new Promise((function(e,t){Promise.all(n).then((function(){e()})).catch((function(e){t(e)}))}))},this.getMetaDataCharacteristics=function(e){var n=new TextDecoder("utf8"),a=[];return a.push(e.getCharacteristic(J).then((function(e){if(e)return new Promise((function(a,r){e.readValue().then((function(e){var r=n.decode(e.buffer);t.dispatch({type:T,payload:r}),a()})).catch((function(e){r(e)}))}))}))),a.push(e.getCharacteristic(q).then((function(e){if(e)return new Promise((function(a,r){e.readValue().then((function(e){var r=n.decode(e.buffer);t.dispatch({type:k,payload:r}),a()})).catch((function(e){r(e)}))}))}))),a.push(e.getCharacteristic(H).then((function(e){if(e)return new Promise((function(a,r){e.readValue().then((function(e){var r=n.decode(e.buffer);t.dispatch({type:_,payload:r}),a()})).catch((function(e){r(e)}))}))}))),new Promise((function(e,t){Promise.all(a).then((function(){e()})).catch((function(e){t(e)}))}))},this.updateSetPoint=function(e){return t.dispatch({type:P}),new Promise((function(n,a){t.setPointCharacteristic?t.writeTemp(t.units,t.setPointCharacteristic,e).then((function(){t.dispatch({type:j,payload:e}),n()})).catch((function(e){a(e)})):a("Failed to retrieve BLE Crafty Set Point Characteristic.")}))},this.updateBoost=function(e){return t.dispatch({type:P}),new Promise((function(n,a){t.boostCharacteristic?t.writeTemp(t.units,t.boostCharacteristic,e).then((function(){t.dispatch({type:v,payload:e}),n()})).catch((function(e){a(e)})):a("Failed to retrieve BLE Crafty Boost Characteristic.")}))},this.updateLED=function(e){return t.dispatch({type:P}),new Promise((function(n,a){if(t.ledCharacteristic){var r=new ArrayBuffer(2),i=new DataView(r);i.setUint16(0,e,!0),t.ledCharacteristic.writeValue(i).then((function(){n()})).catch((function(e){a(e)}))}else a("Failed to retrieve BLE Crafty LED Brightness Characteristic.")}))},this.settingUpdating=!1,this.updateCraftySettings=function(e){return t.settingUpdating?Promise.reject("Setting already updating."):(t.settingUpdating=!0,t.dispatch({type:P}),new Promise((function(n,a){if(t.settingsCharacteristic){var r=new ArrayBuffer(2),i=new DataView(r);i.setUint16(0,e,!0),t.settingsCharacteristic.writeValue(i).then((function(){t.settingUpdating=!1,n()})).catch((function(e){t.settingUpdating=!1,a(e)}))}else a("Failed to retrieve BLE Crafty Settings Characteristic.")})))},this.writeTemp=function(e,t,n){return new Promise((function(r,i){var c=n;c=e===a.F?Math.round((c-32)/.18):Math.round(c/.1);var o=new ArrayBuffer(2),s=new DataView(o);s.setUint16(0,c,!0),t.writeValue(s).then((function(){r()})).catch((function(e){i(e)}))}))},this.readTemp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((function(r,i){t.readValue().then((function(t){var i=t.getUint16(0,!0);i=e===a.F?Math.round((.18*i+32)*Math.pow(10,n))/Math.pow(10,n):Math.round(.1*i*Math.pow(10,n))/Math.pow(10,n),r(i)})).catch((function(e){i(e)}))}))},this.updateUnits=function(e){return new Promise((function(n,a){t.units=e;var r=[];return r.push(t.readTemp(t.units,t.temperatureCharacteristic).then((function(e){t.dispatch({type:b,payload:e})}))),r.push(t.readTemp(t.units,t.setPointCharacteristic).then((function(e){t.dispatch({type:j,payload:e})}))),r.push(t.readTemp(t.units,t.boostCharacteristic).then((function(e){t.dispatch({type:v,payload:e})}))),Promise.all(r).then((function(){n()})).catch((function(e){a(e)}))}))}},ee=function(e){var t=e.history,n=Object(r.useContext)(M),a=n.state,c=n.dispatch,o=Object(r.useState)(!1),s=Object(h.a)(o,2),u=s[0],d=s[1],f=Object(r.useState)(""),m=Object(h.a)(f,2),p=m[0],y=m[1];return i.a.createElement(l.p,null,i.a.createElement(l.f,null,i.a.createElement(l.A,null,i.a.createElement(l.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),i.a.createElement(l.y,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),i.a.createElement(l.e,{class:"content",scrollX:!1,scrollY:!1,fullscreen:!0},i.a.createElement(l.m,{lines:"none"},i.a.createElement(l.n,null,i.a.createElement(l.k,null,"Connect")),i.a.createElement(l.j,{class:"spacer"}),i.a.createElement(l.j,{onClick:function(){Q.connect(a.settings.units,c).then((function(){t.push("/home")})).catch((function(e){c({type:g}),y(e),d(!0)}))},hidden:a.connecting||a.connected},i.a.createElement(l.d,{size:"large"},"Connect to Crafty")),i.a.createElement(l.j,{class:"spacer"})),i.a.createElement(l.o,{message:"Connecting ...",isOpen:a.connecting})),i.a.createElement(l.b,{isOpen:u,onDidDismiss:function(){return d(!1)},header:"Error Connecting",message:p,buttons:["Ok"]}))},te=n(187),ne=n(188),ae=(n(82),function(){var e=Object(r.useContext)(M).state,t=Object(r.useState)(-1),n=Object(h.a)(t,2),c=n[0],o=n[1],u=Object(r.useState)(!1),d=Object(h.a)(u,2),f=d[0],m=d[1];Object(r.useEffect)((function(){(c<=0||!f)&&c!==e.setPoint&&o(e.setPoint)}),[e.setPoint,f,c]);var p=function(t){var n=e.settings.units===a.C?40:104,r=e.settings.units===a.C?210:410,i=Math.floor(t);t<n?i=n:t>r&&(i=r),Q.updateSetPoint(i).then((function(){i+e.settings.boostStep>r&&Q.updateBoost(r-i)}))},y=function(t){var n=e.settings.units===a.C?210:410,r=Math.floor(t);r<0?r=0:e.setPoint+t>n&&(r=n-e.setPoint),Q.updateBoost(r)};return e.connected?i.a.createElement(l.p,null,i.a.createElement(l.f,null,i.a.createElement(l.A,null,i.a.createElement(l.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),i.a.createElement(l.y,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),i.a.createElement(l.e,{class:"content",scrollX:!1,scrollY:!1,fullscreen:!0},i.a.createElement(l.m,{lines:"none"},i.a.createElement(l.n,null,i.a.createElement(l.k,null,"Temperature")),i.a.createElement(l.j,{class:"spacer"}),i.a.createElement(l.j,{class:"temperature-item"},i.a.createElement(l.k,{class:"temperature-label"},e.temperature.toFixed(1),"\xb0",e.settings.units===a.C?"C":"F")),i.a.createElement(l.j,{class:"setpoint-item"},i.a.createElement(l.g,{class:"spacer"}),i.a.createElement(l.d,{class:"setpoint-button",onClick:function(){return p(e.setPoint-e.settings.setPointStep)}},i.a.createElement(l.g,{icon:te.a})),i.a.createElement(l.k,{class:"setpoint-input",onClick:function(){return m(!0)}},e.setPoint.toFixed(1),"\xb0",e.settings.units===a.C?"C":"F"),i.a.createElement(l.d,{class:"setpoint-button",onClick:function(){return p(e.setPoint+e.settings.setPointStep)}},i.a.createElement(l.g,{icon:ne.a})),i.a.createElement(l.g,{class:"spacer"})),i.a.createElement(l.j,null,i.a.createElement(l.g,{class:"spacer"}),i.a.createElement("svg",{width:200,height:60,className:"battery",key:e.batteryPercent},i.a.createElement("rect",{width:180,height:40,stroke:"#CCC",strokeWidth:2,x:5,y:5,rx:10,ry:10,className:"battery-container"}),i.a.createElement("rect",{width:Math.round(e.batteryPercent/100*160),height:20,x:15,y:15,rx:5,ry:5,className:"battery-gauge"}),i.a.createElement("rect",{width:10,height:20,x:185,y:15,className:"battery-button"}),i.a.createElement("text",{x:100,y:30,className:"battery-text"},e.batteryPercent.toFixed(0),"%")),i.a.createElement(l.g,{class:"spacer"})),i.a.createElement(l.j,{class:"spacer"}),i.a.createElement(l.j,{class:"booster"},i.a.createElement(l.s,{class:"booster-row"},i.a.createElement(l.d,{class:"booster-button",onClick:function(){return y(e.boost-e.settings.boostStep)}},i.a.createElement(l.g,{icon:te.a})),i.a.createElement(l.s,{class:"booster-text"},i.a.createElement(l.k,{class:"booster-title"},"Booster Temperature"),i.a.createElement(l.g,{class:"spacer"}),i.a.createElement(l.k,{class:"booster-value"},"+",e.boost," \xb0",e.settings.units===a.C?"C":"F")),i.a.createElement(l.d,{class:"booster-button",onClick:function(){return y(e.boost+e.settings.boostStep)}},i.a.createElement(l.g,{icon:ne.a})))))),i.a.createElement(l.b,{isOpen:f,onDidDismiss:function(){return m(!1)},header:"Set Point",message:"Please enter a new set point value",inputs:[{name:"setPoint",label:"Set Point",type:"number",value:c}],buttons:[{text:"Ok",handler:function(e){p(e.setPoint)}}]})):i.a.createElement(s.a,{to:"/connect"})}),re=(n(83),n(31)),ie=function(e){e.history;var t,n=Object(r.useContext)(M),c=n.state,o=n.dispatch,u=Object(r.useState)((function(){return 1!==(1&c.craftySettings)})),d=Object(h.a)(u,2),f=d[0],m=d[1],p=Object(r.useState)((function(){return 2!==(2&c.craftySettings)})),y=Object(h.a)(p,2),g=y[0],E=y[1],b=Object(r.useState)(-1),j=Object(h.a)(b,2),v=j[0],S=j[1],P=Object(r.useState)((function(){return c.settings.setPointStep})),T=Object(h.a)(P,2),k=T[0],_=T[1],x=Object(r.useState)((function(){return c.settings.boostStep})),N=Object(h.a)(x,2),R=N[0],I=N[1];Object(r.useEffect)((function(){var e=1!==(1&c.craftySettings);f!==e&&m(e),e=2!==(2&c.craftySettings),g!==e&&E(e),-1===v&&c.led>=0&&S(c.led),k!==c.settings.setPointStep&&_(c.settings.setPointStep),R!==c.settings.boostStep&&I(c.settings.boostStep)}),[c.craftySettings,f,g,c.led,v,k,c.settings.setPointStep,R,c.settings.boostStep]);return c.connected?i.a.createElement(l.p,null,i.a.createElement(l.f,null,i.a.createElement(l.A,null,i.a.createElement(l.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),i.a.createElement(l.y,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),i.a.createElement(l.e,{class:"settings-content",scrollX:!1,scrollY:!1,fullscreen:!0},i.a.createElement(l.m,{lines:"none"},i.a.createElement(l.n,null,i.a.createElement(l.k,null,"Settings")),i.a.createElement(l.j,{class:"spacer"}),i.a.createElement(l.j,null,i.a.createElement(l.k,null,"Units"),i.a.createElement(l.t,{value:c.settings.units,onIonChange:function(e){var t=e.target.value;Q.updateUnits(t).then((function(){o({type:O,payload:t})}))}},i.a.createElement(l.u,{value:a.C},"\xb0C"),i.a.createElement(l.u,{value:a.F},"\xb0F"))),i.a.createElement(l.j,null,i.a.createElement(l.k,null,"Set Point Step"),i.a.createElement(l.i,{inputMode:"numeric",value:k.toFixed(0),type:"number",min:"1",max:"10",onIonChange:function(e){var t=parseInt(e.target.value);Object(re.isNumber)(t)&&t>0&&t<=10&&o({type:A,payload:t})},disabled:c.updating})),i.a.createElement(l.j,null,i.a.createElement(l.k,null,"Booster Step"),i.a.createElement(l.i,{inputMode:"numeric",value:R.toFixed(0),type:"number",min:"1",max:"5",onIonChange:function(e){var t=parseInt(e.target.value);Object(re.isNumber)(t)&&t>0&&t<=5&&o({type:F,payload:t})},disabled:c.updating})),i.a.createElement(l.j,null,i.a.createElement(l.k,null,"Vibration"),i.a.createElement(l.z,{checked:f,onIonChange:function(e){if(!c.updating){var t=1===(1&c.craftySettings);if(f!==t){var n=2&c.craftySettings|(t?0:1);console.log("updating settings: ".concat(n)),Q.updateCraftySettings(n).then((function(){o({type:w,payload:n}),m(!f)}))}}},disabled:c.updating})),i.a.createElement(l.j,null,i.a.createElement(l.k,null,"Charge Indicator"),i.a.createElement(l.z,{checked:g,onIonChange:function(e){if(!c.updating){var t=2===(2&c.craftySettings);if(g!==t){var n=1&c.craftySettings|(t?0:2);console.log("updating settings: ".concat(n)),Q.updateCraftySettings(n).then((function(){o({type:w,payload:n}),E(!g)})).catch((function(e){o({type:w,payload:c.craftySettings}),console.log("Error updating characteristic.")}))}}},disabled:c.updating})),i.a.createElement(l.j,null,i.a.createElement(l.s,{class:"led-item"},i.a.createElement(l.k,null,"LED Brightness"),i.a.createElement(l.q,{min:0,max:100,value:v,onIonChange:function(e){if(!c.updating){var n=e.target.value;t=n,S(n),n!==c.led&&setTimeout((function(){console.log("LED: ".concat(n," ? ").concat(t)),n===t&&Q.updateLED(n).then((function(){o({type:C,payload:n})}))}),500)}},step:5}))),i.a.createElement(l.j,{class:"spacer"})))):i.a.createElement(s.a,{to:"/connect"})},ce=(n(86),function(){var e=Object(r.useContext)(M).state;return e.connected?i.a.createElement(l.p,null,i.a.createElement(l.f,null,i.a.createElement(l.A,null,i.a.createElement(l.h,{slot:"start",src:"".concat("https://github.cataford.com/crafty","/assets/icon/favicon.png"),style:{width:40,height:40,margin:8}}),i.a.createElement(l.y,{style:{textAlign:"center",paddingRight:56}},"Crafty Control"))),i.a.createElement(l.e,{class:"info-content",scrollX:!1,scrollY:!1,fullscreen:!0},i.a.createElement(l.m,{lines:"none"},i.a.createElement(l.n,null,i.a.createElement(l.k,null,"Information")),i.a.createElement(l.j,{class:"spacer"}),i.a.createElement(l.j,null,i.a.createElement(l.k,{className:"label"},"Serial #:"),i.a.createElement(l.k,{className:"value"},e.info.serial.substr(0,8))),i.a.createElement(l.j,null,i.a.createElement(l.k,{className:"label"},"Model:"),i.a.createElement(l.k,{className:"value"},e.info.model)),i.a.createElement(l.j,null,i.a.createElement(l.k,{className:"label"},"Version:"),i.a.createElement(l.k,{className:"value"},e.info.version)),i.a.createElement(l.j,null,i.a.createElement(l.k,{className:"label"},"Hours:"),i.a.createElement(l.k,{className:"value"},e.info.hoursOfOperation)),i.a.createElement(l.j,{class:"spacer"})))):i.a.createElement(s.a,{to:"/connect"})}),oe=(n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),function(){var e=Object(r.useContext)(M).state;return i.a.createElement(l.c,null,i.a.createElement(u.a,null,i.a.createElement(l.x,null,i.a.createElement(l.r,null,i.a.createElement(s.b,{path:"/connect",component:ee,exact:!0}),i.a.createElement(s.b,{path:"/home",component:ae,exact:!0}),i.a.createElement(s.b,{path:"/settings",component:ie,exact:!0}),i.a.createElement(s.b,{path:"/info",component:ce,exact:!0}),i.a.createElement(s.b,{path:"/",render:function(){return i.a.createElement(s.a,{to:"/connect"})},exact:!0})),i.a.createElement(l.v,{slot:"bottom"},i.a.createElement(l.w,{tab:"home",href:"/home",disabled:!e.connected},i.a.createElement(l.g,{icon:d.a}),i.a.createElement(l.k,null,"Temperature")),i.a.createElement(l.w,{tab:"settings",href:"/settings",disabled:!e.connected},i.a.createElement(l.g,{icon:f.a}),i.a.createElement(l.k,null,"Settings")),i.a.createElement(l.w,{tab:"info",href:"/info",disabled:!e.connected},i.a.createElement(l.g,{icon:m.a}),i.a.createElement(l.k,null,"Information"))))))}),se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(i.a.createElement((function(e){var t=i.a.useReducer(D,U),n=Object(h.a)(t,2),a={state:n[0],dispatch:n[1]};return i.a.createElement(M.Provider,{value:a},e.children)}),null,i.a.createElement(oe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://github.cataford.com/crafty",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://github.cataford.com/crafty","/service-worker.js");se?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(t,e)}))}}()}},[[69,9,10]]]);
//# sourceMappingURL=main.301c3145.chunk.js.map
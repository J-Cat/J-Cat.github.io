{"version":3,"sources":["routes/home/home.tsx","models/constants.ts","reducers/enailReducer.ts","routes/home/container.ts","models/IWatiTempStep.ts","helpers/stepHelper.ts","routes/scripts/scripts.tsx","routes/scripts/container.ts","routes/settings/general/general.tsx","routes/settings/general/container.ts","routes/settings/profiles/profiles.tsx","routes/settings/profiles/container.ts","routes/settings/settings.tsx","routes/settings/container.ts","config/index.ts","routes/reconnect/reconnect.tsx","routes/reconnect/container.ts","routes/signin/signin.tsx","routes/signin/container.ts","App.tsx","AppContainer.ts","history.ts","registerServiceWorker.ts","reducers/versionReducer.ts","reducers/index.ts","store/socketIoMiddleware.ts","store/securityMiddleware.ts","index.tsx","store/createStore.ts","../node_modules/@ionic/core/dist/esm/es5/build lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ groupOptions: {} namespace object"],"names":["Home","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","checkSP","setTimeout","console","log","concat","state","sliderValue","startingValue","changing","setSP","setState","bind","assertThisInitialized","onSetPointBeginChange","event","value","detail","sp","setPoint","toggleState","running","runningChanging","runEndScript","isScriptRunning","scriptRunning","endScript","runScript","scriptAfterChange","slider","scriptChanging","getActiveIndex","then","index","currentScript","setScript","setQuickTemp","renderScriptItem","script","react","dist","hidden","deleted","title","slot","onClick","name","style","color","getTimeRemaining","milliseconds","autoShutoff","Date","now","runningSince","hours","Math","floor","format","showSPDialog","isMounted","scripts","inherits","createClass","key","prevProps","prevState","_this2","p","undefined","slideTo","length","update","e","_this3","class","scrollY","version","size","pv","checked","disabled","tuning","assign","numScripts","pager","ref","options","initialSlide","onIonSlideDidChange","onIonSlideTouchStart","onIonSlidesDidLoad","target","map","presets","preset","onIonChange","max","min","step","isOpen","onDidDismiss","header","message","inputs","type","placeholder","buttons","text","role","cssClass","handler","nextProps","toConsumableArray","filter","s","findIndex","n","objectSpread","React","SERVICE_FOUND","RECONNECT","LOCAL_STORAGE_FCENAIL_SERVICE_URL","STEP_LOOP","STEP_FEEDBACK","STEP_MOVETEMP","STEP_WAITTEMP","STEP_TIMER","STEP_SEQUENTIAL","ICONS","SOUNDS","initialState","serviceFound","connected","requesting","reconnect","tokenError","token","profiles","theme","localStorage","saveScript","defineProperty","RSAA","endpoint","getServiceUrl","method","headers","Content-Type","types","payload","body","JSON","stringify","deleteProfile","profile","deleteScript","retry","ignoreCache","arguments","_ref6","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","serviceUrl","wrap","_context","prev","next","fetchServiceUrl","sent","Constants","t0","stop","_x","apply","connectManual","fetch","response","status","getItem","Promise","resolve","reject","timeout2","Zeroconf","watch","subscribe","result","action","clearTimeout","url","service","ipv4Addresses","port","timeout3","catch","unwatch","timeout","toggleTuning","savePidSettings","pidSettings","generatePassphrase","verifyPassphrase","passphrase","persistSavedState","savedState","meta","setTheme","setItem","connect","Direction","ownProps","enail","emitState","withRouter","remapScript","root","rootStep","loopCount","steps","parent","last","stepIndex","mapStep","newStep","count","getNextStepKey","subStep","subStepIndex","parentKey","split","parentIndex","parseInt","Scripts","createNew","preventDefault","menuVisible","submit","confirmDeleteOpen","saveDialogOpen","addStepStart","addStepDialogOpen","currentStep","addStepComplete","getNewStep","addStep","deleteStep","reorder","newScript","reorderStep","from","to","stopPropagation","complete","newSteps","slice","getStepByKey","reduce","previous","current","find","renderStep","menuOpen","includes","getStepTitle","getStepPanel","onIonItemReorder","base","offset","direction","DOWN","setStepValue","updatedStep","updateStepValue","loop","position","toString","required","isNaN","timer","waitStep","UP","moveStep","feedbackStep","icon","i","flashRate","sound","led","changed","saved","history","push","label","GeneralSettings","dirty","validationStatus","errorMsg","Profiles","d","start","deleteDialogOpen","keys","className","uuid","toUpperCase","newState","dirtry","currentProfile","settings","Settings","location","pathname","indexOf","react_router","path","component","config","require","Reconnect","handleInputChange","input","onSubmit","autoCorrect","onInput","autofocus","SignIn","ready","App","rel","href","exact","tab","createHashHistory","isLocalhost","Boolean","window","hostname","match","register","navigator","URL","process","origin","addEventListener","swUrl","get","serviceWorker","registration","unregister","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","error","pjson","makeRootReducer","combineReducers","savedProfiles","_state$profiles$profi","newProfiles","objectWithoutProperties","_toPropertyKey","success","socketIoMiddleware","store","socketIo","io","query","getState","on","reading","receiveEnailState","securityMiddleware","callApi","authorization","authorizationMiddleware","endsWith","startApp","middlewares","thunk","apiMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","configureStore","__INITIAL_STATE__","ReactDOM","es","AppContainer","document","getElementById","CodePush","sync","installMode","InstallMode","IMMEDIATE","mandatoryInstallMode","updateDialog","appendReleaseDescription","data","err","getCurrentPackage","packInfo","registerServiceWorker","cordova","./1fcq78hk.entry.js","./1fcq78hk.sc.entry.js","./2i50w2lv.entry.js","./2i50w2lv.sc.entry.js","./39fhulxe.entry.js","./39fhulxe.sc.entry.js","./3hbcnxuc.entry.js","./3hbcnxuc.sc.entry.js","./3kzauze7.entry.js","./3kzauze7.sc.entry.js","./3pkkvczk.entry.js","./3pkkvczk.sc.entry.js","./5zcdwzsx.entry.js","./5zcdwzsx.sc.entry.js","./6kgso7pq.entry.js","./6kgso7pq.sc.entry.js","./7hlpr3fd.entry.js","./7hlpr3fd.sc.entry.js","./8wdovu8e.entry.js","./8wdovu8e.sc.entry.js","./admmxern.entry.js","./admmxern.sc.entry.js","./aubabxbm.entry.js","./aubabxbm.sc.entry.js","./azzrjyyu.entry.js","./azzrjyyu.sc.entry.js","./b65tzyas.entry.js","./b65tzyas.sc.entry.js","./bb7q7tld.entry.js","./bb7q7tld.sc.entry.js","./bcmaaa8l.entry.js","./bcmaaa8l.sc.entry.js","./bygik61u.entry.js","./bygik61u.sc.entry.js","./ddlg9urb.entry.js","./ddlg9urb.sc.entry.js","./devt5yhg.entry.js","./devt5yhg.sc.entry.js","./dhprnqol.entry.js","./dhprnqol.sc.entry.js","./djkq5plb.entry.js","./djkq5plb.sc.entry.js","./efdsz9yy.entry.js","./efdsz9yy.sc.entry.js","./eghwkqif.entry.js","./eghwkqif.sc.entry.js","./ek05jvfc.entry.js","./ek05jvfc.sc.entry.js","./ficmbhoi.entry.js","./ficmbhoi.sc.entry.js","./fkzdmlip.entry.js","./fkzdmlip.sc.entry.js","./fmzmhk3d.entry.js","./fmzmhk3d.sc.entry.js","./fz2rcnow.entry.js","./fz2rcnow.sc.entry.js","./gnkkjvvk.entry.js","./gnkkjvvk.sc.entry.js","./helxzsef.entry.js","./helxzsef.sc.entry.js","./i5bu78vq.entry.js","./i5bu78vq.sc.entry.js","./imcdx1xe.entry.js","./imcdx1xe.sc.entry.js","./iqlhkurd.entry.js","./iqlhkurd.sc.entry.js","./isuxxasv.entry.js","./isuxxasv.sc.entry.js","./iwgahuhw.entry.js","./iwgahuhw.sc.entry.js","./j20d1ikn.entry.js","./j20d1ikn.sc.entry.js","./jzwyowjw.entry.js","./jzwyowjw.sc.entry.js","./k6eoch7h.entry.js","./k6eoch7h.sc.entry.js","./kgjnfunx.entry.js","./kgjnfunx.sc.entry.js","./lb8tayd0.entry.js","./lb8tayd0.sc.entry.js","./ldqvnzrr.entry.js","./ldqvnzrr.sc.entry.js","./llyqw4no.entry.js","./llyqw4no.sc.entry.js","./lsxwd44p.entry.js","./lsxwd44p.sc.entry.js","./mf2ayo12.entry.js","./mf2ayo12.sc.entry.js","./migtpkzd.entry.js","./migtpkzd.sc.entry.js","./mo7qeek2.entry.js","./mo7qeek2.sc.entry.js","./mri9bdlj.entry.js","./mri9bdlj.sc.entry.js","./mrs0ks1r.entry.js","./mrs0ks1r.sc.entry.js","./najnlwm4.entry.js","./najnlwm4.sc.entry.js","./narso64l.entry.js","./narso64l.sc.entry.js","./nqozldol.entry.js","./nqozldol.sc.entry.js","./o6zsuoqi.entry.js","./o6zsuoqi.sc.entry.js","./oc7j8k7y.entry.js","./oc7j8k7y.sc.entry.js","./ofd4s8dw.entry.js","./ofd4s8dw.sc.entry.js","./pd9wflli.entry.js","./pd9wflli.sc.entry.js","./pdzm9bfy.entry.js","./pdzm9bfy.sc.entry.js","./r8dtlwvb.entry.js","./r8dtlwvb.sc.entry.js","./rkecsmgc.entry.js","./rkecsmgc.sc.entry.js","./rrpxfm2a.entry.js","./rrpxfm2a.sc.entry.js","./senscofp.entry.js","./senscofp.sc.entry.js","./tjefn81q.entry.js","./tjefn81q.sc.entry.js","./tlbladaf.entry.js","./tlbladaf.sc.entry.js","./tn7df4wj.entry.js","./tn7df4wj.sc.entry.js","./uhyavx6a.entry.js","./uhyavx6a.sc.entry.js","./vompwuhi.entry.js","./vompwuhi.sc.entry.js","./vypdotd0.entry.js","./vypdotd0.sc.entry.js","./wb4mk1b9.entry.js","./wb4mk1b9.sc.entry.js","./whjbxjrd.entry.js","./whjbxjrd.sc.entry.js","./wjdsdnuu.entry.js","./wjdsdnuu.sc.entry.js","./wrpzmdqx.entry.js","./wrpzmdqx.sc.entry.js","./wzw9zscm.entry.js","./wzw9zscm.sc.entry.js","./x5xnv4jv.entry.js","./x5xnv4jv.sc.entry.js","./xajhwvib.entry.js","./xajhwvib.sc.entry.js","./xo7dncgt.entry.js","./xo7dncgt.sc.entry.js","./yifvz1ud.entry.js","./yifvz1ud.sc.entry.js","./ymem7pf1.entry.js","./ymem7pf1.sc.entry.js","./ziv0mko0.entry.js","./ziv0mko0.sc.entry.js","webpackAsyncContext","req","__webpack_require__","o","Error","code","ids","id","module","exports"],"mappings":"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AEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,KAEAC,sBAAA,CACA,KACA,IAEAC,yBAAA,CACA,KACA,IAEAC,sBAAA,CACA,KACA,KAEAC,yBAAA,CACA,KACA,MAGA,SAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAAhe,EAAA8d,GACA,OAAAnY,QAAAC,UAAAzJ,KAAA,WACA,IAAAyC,EAAA,IAAAqf,MAAA,uBAAAH,EAAA,KAEA,MADAlf,EAAAsf,KAAA,mBACAtf,IAIA,IAAAuf,EAAAne,EAAA8d,GAAAM,EAAAD,EAAA,GACA,OAAAJ,EAAAnf,EAAAuf,EAAA,IAAAhiB,KAAA,WACA,OAAA4hB,EAAAK,KAGAP,EAAAxQ,KAAA,WACA,OAAAvT,OAAAuT,KAAArN,IAEA6d,EAAAO,GAAA,IACAC,EAAAC,QAAAT","file":"static/js/main.5b6e7c17.chunk.js","sourcesContent":["import * as React from 'react';\nimport './home.less';\n\nimport * as HomeProps from './container';\nimport { format } from 'date-fns';\n\nimport { IEnailScript } from '../../models/IEnailScript';\nimport { IonContent, IonLabel, IonHeader, IonGrid, IonRow, IonCol, IonToggle, IonBadge, IonSlides, IonSlide, IonItem, IonButton, IonIcon, IonSegment, IonSegmentButton, IonRange, IonText, IonAlert } from '@ionic/react';\nimport { RangeChangeEventDetail } from '@ionic/core';\n\nconst MAX_TEMP = 1000;\n\nexport class Home extends React.Component<HomeProps.IProps, HomeProps.IState> {\n    constructor(props: HomeProps.IProps) {\n        super(props);\n\n        this.state = {\n            changing: false,\n            sliderValue: this.props.state ? this.props.state.sp : 0,\n            startingValue: this.props.state ? this.props.state.sp : 0,\n            setPoint: this.props.state ? this.props.state.sp : 0,\n            running: this.props.state ? this.props.state.running : false,\n            scriptRunning: this.props.state ? this.props.state.scriptRunning : false,\n            currentScript: this.props.state ? this.props.state.currentScript || 0 : 0,\n            scriptChanging: true,\n            showSPDialog: false,\n            runningChanging: false,\n            isMounted: false,\n            scripts: this.props.scripts\n        };\n\n        this.scriptAfterChange = this.scriptAfterChange.bind(this);\n        this.onSetPointBeginChange = this.onSetPointBeginChange.bind(this);\n    }\n\n    static getDerivedStateFromProps(nextProps: HomeProps.IProps, prevState: HomeProps.IState) {\n        if (!nextProps.state && !nextProps.scripts) {\n            return null;\n        }\n\n        if (nextProps.scripts.length !== prevState.scripts.length) {\n            return {\n                currentScript: nextProps.state ? nextProps.state.currentScript : 0,\n                scripts: [\n                    ...nextProps.scripts,\n                    ...prevState.scripts.filter(s => nextProps.scripts.findIndex(n => n.title === s.title) < 0).map(s => ({\n                        ...s,\n                        deleted: true\n                    }))\n                ]\n            };\n        }\n\n        if (!nextProps.state) {\n            return null;\n        }\n\n        if (prevState.setPoint === 0) {\n            return {\n                sliderValue: nextProps.state.sp,\n                startingValue: nextProps.state.sp,\n                setPoint: nextProps.state.sp,\n                running: nextProps.state.running,\n                scriptRunning: nextProps.state.scriptRunning,\n                currentScript: nextProps.state.currentScript || prevState.currentScript\n            };\n        } else if (nextProps.state.sp !== prevState.setPoint && !prevState.changing) {\n            return {\n                setPoint: nextProps.state.sp,\n                sliderValue: nextProps.state.sp\n            };\n        } else if (nextProps.state && nextProps.state.currentScript !== undefined && prevState.currentScript !== nextProps.state.currentScript) {\n            return {\n                currentScript: nextProps.state.currentScript,\n                scriptChanging: false\n            };\n        } else if (nextProps.state && nextProps.state.running !== prevState.running && !prevState.runningChanging) {\n            return {\n                running: nextProps.state.running\n            };\n        } else if (nextProps.state && nextProps.state.running === prevState.running && prevState.runningChanging) {\n            return {\n                runningChanging: false\n            };\n        }\n\n        return null;\n    }\n\n    checkSP = () => {\n        setTimeout((() => {\n            console.log(`check sp: ${this.state.sliderValue}, ${this.state.startingValue}, ${this.state.changing}`);\n            if ((this.state.sliderValue === this.state.startingValue) && this.state.changing) {\n                console.log(`set sp: ${this.state.sliderValue}`);\n                this.props.setSP(this.state.sliderValue);\n                this.setState({\n                    changing: false\n                })\n            } else {\n                if (this.state.changing) {\n                    this.setState({\n                        startingValue: this.state.sliderValue\n                    });\n                    this.checkSP();\n                }\n            }\n        }).bind(this), 500);\n    }\n\n    onSetPointBeginChange = (event: CustomEvent<RangeChangeEventDetail>) => {\n        const value = event.detail.value as number;\n        if (this.props.state && !this.state.changing && value !== this.props.state.sp) {\n            this.setState({\n                changing: true,\n                startingValue: this.state.setPoint,\n                sliderValue: value\n            });\n            this.checkSP();\n        } else {\n            this.setState({\n                sliderValue: value\n            });\n        }\n    }\n\n    toggleState = () => {\n        this.setState({\n            running: !this.state.running,\n            runningChanging: true\n        }, () => {\n            this.props.toggleState();\n        });\n    }\n\n    runEndScript = () => {\n        if (!this.props.state) {\n            return;\n        }\n\n        const isScriptRunning = this.state.scriptRunning;\n        this.setState({\n            scriptRunning: !isScriptRunning\n        }, () => {\n            if (isScriptRunning) {\n                this.props.endScript();\n            } else {\n                this.props.runScript();\n            }\n        });\n    }\n\n    scriptAfterChange = () => {\n        if (!this.slider && !this.state.scriptChanging) {\n            return;\n        }\n\n        this.slider.getActiveIndex().then((index: number) => {\n            if (this.state && this.state.currentScript !== (index)) {\n                this.props.setScript(index);\n            } else {\n                this.setState({\n                    scriptChanging: false\n                });\n            }\n        });\n    }\n\n    setQuickTemp = (value: number) => {\n        this.props.setSP(value);\n        this.setState({\n            sliderValue: value,\n            setPoint: value\n        });\n    }\n\n    renderScriptItem = (script: IEnailScript & { deleted?: boolean }) => {\n        return <IonItem hidden={script.deleted}>\n            <IonLabel>{script.title}</IonLabel>\n            <IonButton slot=\"end\" onClick={this.runEndScript}>\n                <IonIcon name={this.state.scriptRunning ? 'square' : 'play'} style={{\n                    color: this.state.scriptRunning ? 'red' : 'unset'\n                }} />\n            </IonButton>\n        </IonItem>;\n    }\n\n    slider: any;\n\n    componentDidUpdate(prevProps: HomeProps.IProps, prevState: HomeProps.IState) {\n        try {\n            if (this.slider && !this.state.scriptChanging) {\n                const p = this.slider.getActiveIndex();\n                if (p !== undefined) {\n                    (p as Promise<number>).then(index => {\n                        if (this.slider && index !== this.state.currentScript) {\n                            this.slider.slideTo(this.state.currentScript);\n                        }\n                    });\n                }\n            }\n\n            if (this.slider && this.props.scripts.length !== prevState.scripts.length) {\n                this.slider.update();\n            }\n        } catch (e) {}\n    }\n\n    componentWillUnmount() {\n        console.log('will unmount');\n        this.setState({\n            isMounted: false\n        });\n    }\n\n    componentDidMount() {\n        console.log('did mount');\n        this.setState({\n            isMounted: true\n        });\n    }\n\n    private getTimeRemaining = (): string => {\n        if (!this.props.state) {\n            return '';\n        }\n\n        const milliseconds = (this.props.autoShutoff * 60000) - (Date.now() - this.props.state.runningSince);\n        const hours = Math.floor(milliseconds / 1000 / 60 / 60);\n        if (hours > 0) {\n            return `${hours}:${format(milliseconds, 'mm:ss')}`;\n        } else {\n            return format(milliseconds, 'm:ss');\n        }\n    }\n\n    render() {\n        return (\n            <IonContent class=\"home\" scrollY={false}>\n                <IonLabel class=\"version-label\">{this.props.version}</IonLabel>\n                {this.props.state ?\n                    <IonGrid class=\"home-content\">\n                        <IonRow class=\"home-content-header\">\n                            <IonCol size=\"12\">\n                                <IonHeader>\n                                    <IonText>FC E-Nail</IonText>\n                                </IonHeader>\n                            </IonCol>\n                        </IonRow>\n                        <IonRow>\n                            <IonCol size=\"8\" class=\"home-content-temp\">\n                                <IonRow>\n                                    <IonLabel>{this.props.state.pv}</IonLabel>\n                                </IonRow>\n                                <IonRow onClick={() => {\n                                    this.setState({\n                                        showSPDialog: true\n                                    });\n                                }}>\n                                    <IonLabel>{this.state.sliderValue}</IonLabel>\n                                </IonRow>\n                            </IonCol>\n                            <IonCol size=\"4\" class=\"home-content-switch\">\n                                <IonRow>\n                                    <IonToggle \n                                        color=\"warning\"\n                                        onClick={this.toggleState} \n                                        checked={this.state.running} \n                                        disabled={this.props.state === undefined} \n                                    />\n                                </IonRow>\n                                <IonRow>\n                                    {this.props.state.tuning\n                                        ? <IonBadge>TUNE</IonBadge>\n                                        : ''\n                                    }\n                                    {this.props.state.running\n                                        ? <IonBadge>{this.getTimeRemaining()}</IonBadge>\n                                        : ''\n                                    }\n                                </IonRow>\n                            </IonCol>\n                        </IonRow>\n                        <IonRow class=\"home-content-scripts\">\n                            <IonCol>\n                                {this.state.isMounted && this.state.scripts.length > 0 ?\n                                <IonSlides {...{ numScripts: this.state.scripts.length }} pager={true}\n                                    ref={(ref) => {\n                                        this.slider = ref;\n                                    }}\n                                    options={{\n                                        initialSlide: this.state.currentScript\n                                    }}\n                                    onIonSlideDidChange={this.scriptAfterChange}\n                                    onIonSlideTouchStart={() => {\n                                        this.setState({\n                                            scriptChanging: true\n                                        });\n                                    }}\n                                    onIonSlidesDidLoad={(event) => {\n                                        (event.target as any).slideTo(this.state.currentScript);\n                                    }}\n                                >\n                                    {this.state.scripts.map(script => {\n                                        return this.state.isMounted ? <IonSlide key={script.key} hidden={script.deleted}>\n                                            {this.renderScriptItem(script)}\n                                        </IonSlide> : '';\n                                    })}\n                                </IonSlides>\n                                : ''}\n                            </IonCol>\n                        </IonRow>\n                        <IonRow class=\"home-content-presets\">\n                            <IonCol class=\"home-content-presets-col\">\n                                <IonSegment>\n                                    {this.props.presets.map(preset => {\n                                        // tslint:disable-next-line:jsx-no-lambda\n                                        return <IonSegmentButton key={`preset-button-${preset}`} onClick={() => this.setQuickTemp(preset)} checked={this.state.sliderValue === preset}>{preset}</IonSegmentButton>;\n                                    })}\n                                </IonSegment>\n                            </IonCol>\n                        </IonRow>\n                        <IonRow class=\"home-content-slider\">\n                            <IonCol>\n                                <IonRange\n                                    class=\"home-content-slider-range\"\n                                    onIonChange={this.onSetPointBeginChange}\n                                    value={this.state.sliderValue}\n                                    max={MAX_TEMP}\n                                    min={0}\n                                    step={5}\n                                />\n                            </IonCol>\n                        </IonRow>\n                    </IonGrid>\n                    : ''}\n                <IonAlert\n                    isOpen={this.state.showSPDialog}\n                    onDidDismiss={() => this.setState(() => ({ showSPDialog: false }))}\n                    header={'Change Set Point'}\n                    message={'Please enter a new set point.'}\n                    inputs={[{\n                        name: 'setPoint',\n                        type: 'number',\n                        value: this.state.sliderValue,\n                        placeholder: 'Set Point'\n                    }]}\n                    buttons={[\n                        {\n                            text: 'Cancel',\n                            role: 'cancel',\n                            cssClass: 'secondary'\n                        }, {\n                            text: 'Okay',\n                            handler: (value) => {\n                                this.props.setSP(value.setPoint);\n                                setTimeout((() => {\n                                    this.setState({\n                                        changing: false,\n                                        sliderValue: value.setPoint,\n                                        setPoint: value.setPoint\n                                    });\n                                }).bind(this), 500);\n                            }\n                        }\n                    ]}\n                />\n            </IonContent>\n        );\n    }\n}","export const SOCKET_CONNECT = 'ENAIL/SOCKET/CONNECT';\r\nexport const SOCKET_CONNECTED = 'ENAIL/SOCKET/CONNECTED';\r\nexport const SOCKET_DISCONNECTED = 'ENAIL/SOCKET/DISCONNECTED';\r\nexport const SOCKET_EMIT_STATE = 'ENAIL/EMIT/STATE';\r\n\r\nexport const SCRIPTS_REQUEST = 'ENAIL/SCRIPTS/REQUEST';\r\nexport const SCRIPTS_RESPONSE = 'ENAIL/SCRIPTS/RESPONSE';\r\nexport const SCRIPTS_ERROR = 'ENAIL/SCRIPTS/ERROR';\r\n\r\nexport const SAVE_SCRIPT_REQUEST = 'ENAIL/SCRIPT/SAVE/REQUEST';\r\nexport const SAVE_SCRIPT_RESPONSE = 'ENAIL/SCRIPT/SAVE/RESPONSE';\r\nexport const SAVE_SCRIPT_ERROR = 'ENAIL/SCRIPT/SAVE/ERROR';\r\n\r\nexport const DELETE_SCRIPT_REQUEST = 'ENAIL/SCRIPT/DELETE/REQUEST';\r\nexport const DELETE_SCRIPT_RESPONSE = 'ENAIL/SCRIPT/DELETE/RESPONSE';\r\nexport const DELETE_SCRIPT_ERROR = 'ENAIL/SCRIPT/DELETE/ERROR';\r\n\r\nexport const PROFILES_REQUEST = 'ENAIL/PROFILES/REQUEST';\r\nexport const PROFILES_RESPONSE = 'ENAIL/PROFILES/RESPONSE';\r\nexport const PROFILES_ERROR = 'ENAIL/PROFILES/ERROR';\r\n\r\nexport const DELETE_PROFILE_REQUEST = 'ENAIL/PROFILE/DELETE/REQUEST';\r\nexport const DELETE_PROFILE_RESPONSE = 'ENAIL/PROFILE/DELETE/RESPONSE';\r\nexport const DELETE_PROFILE_ERROR = 'ENAIL/PROFILE/DELETE/ERROR';\r\n\r\nexport const SETSP_REQUEST = 'ENAIL/SETSP/REQUEST';\r\nexport const SETSP_RESPONSE = 'ENAIL/SETSP/RESPONSE';\r\nexport const SETSP_ERROR = 'ENAIL/SETSP/ERROR';\r\n\r\nexport const TOGGLE_STATE_REQUEST = 'ENAIL/TOGGLESTATE/REQUEST';\r\nexport const TOGGLE_STATE_RESPONSE = 'ENAIL/TOGGLESTATE/RESPONSE';\r\nexport const TOGGLE_STATE_ERROR = 'ENAIL/TOGGLESTATE/ERROR';\r\n\r\nexport const RUN_SCRIPT_REQUEST = 'ENAIL/RUN_SCRIPT/REQUEST';\r\nexport const RUN_SCRIPT_RESPONSE = 'ENAIL/RUN_SCRIPT/RESPONSE';\r\nexport const RUN_SCRIPT_ERROR = 'ENAIL/RUN_SCRIPT/ERROR';\r\n\r\nexport const END_SCRIPT_REQUEST = 'ENAIL/END_SCRIPT/REQUEST';\r\nexport const END_SCRIPT_RESPONSE = 'ENAIL/END_SCRIPT/RESPONSE';\r\nexport const END_SCRIPT_ERROR = 'ENAIL/END_SCRIPT/ERROR';\r\n\r\nexport const SET_SCRIPT_REQUEST = 'ENAIL/SET_SCRIPT/REQUEST';\r\nexport const SET_SCRIPT_RESPONSE = 'ENAIL/SET_SCRIPT/RESPONSE';\r\nexport const SET_SCRIPT_ERROR = 'ENAIL/SET_SCRIPT/ERROR';\r\n\r\nexport const SERVICE_FOUND = 'ENAIL/SERVICE/FOUND';\r\nexport const RECONNECT = 'ENAIL/SERVICE/RECONNECT';\r\n\r\nexport const LOCAL_STORAGE_FCENAIL_SERVICE_URL = 'FCENAIL:SERVICEURL';\r\nexport const LOCAL_STORAGE_FCENAIL_KEY = 'FCENAIL:AUTH';\r\nexport const LOCAL_STORAGE_FCENAIL_THEME = 'FCENAIL:THEME';\r\n\r\nexport const LOAD_SAVED_STATE_REQUEST = 'ENAIL/SAVED_STATE/LOAD/REQUEST';\r\nexport const LOAD_SAVED_STATE_RESPONSE = 'ENAIL/SAVED_STATE/LOAD/RESPONSE';\r\nexport const LOAD_SAVED_STATE_ERROR = 'ENAIL/SAVED_STATE/LOAD/ERROR';\r\n\r\nexport const PERSIST_SAVED_STATE_REQUEST = 'ENAIL/SAVED_STATE/PERSIST/REQUEST';\r\nexport const PERSIST_SAVED_STATE_RESPONSE = 'ENAIL/SAVED_STATE/PERSIST/RESPONSE';\r\nexport const PERSIST_SAVED_STATE_ERROR = 'ENAIL/SAVED_STATE/PERSIST/ERROR';\r\n\r\nexport const PASSPHRASE_GENERATE_REQUEST = 'ENAIL/PASSPHRASE/GENERATE/REQUEST';\r\nexport const PASSPHRASE_GENERATE_RESPONSE = 'ENAIL/PASSPHRASE/GENERATE/RESPONSE';\r\nexport const PASSPHRASE_GENERATE_ERROR = 'ENAIL/PASSPHRASE/GENERATE/ERROR';\r\n\r\nexport const PASSPHRASE_VERIFY_REQUEST = 'ENAIL/PASSPHRASE/VERIFY/REQUEST';\r\nexport const PASSPHRASE_VERIFY_RESPONSE = 'ENAIL/PASSPHRASE/VERIFY/RESPONSE';\r\nexport const PASSPHRASE_VERIFY_ERROR = 'ENAIL/PASSPHRASE/VERIFY/ERROR';\r\n\r\nexport const AUTOTUNE_REQUEST = 'ENAIL/AUTOTUNE/REQUEST';\r\nexport const AUTOTUNE_RESPONSE = 'ENAIL/AUTOTUNE/RESPONSE';\r\nexport const AUTOTUNE_ERROR = 'ENAIL/AUTOTUNE/ERROR';\r\n\r\nexport const SAVEPID_REQUEST = 'ENAIL/SAVEPID/REQUEST';\r\nexport const SAVEPID_RESPONSE = 'ENAIL/SAVEPID/RESPONSE';\r\nexport const SAVEPID_ERROR = 'ENAIL/SAVEPID/ERROR';\r\n\r\nexport const SET_THEME = 'ENAIL/THEME';\r\n\r\nexport const LOAD_TOKEN = 'ENAIL/TOKEN/LOAD';\r\nexport const TOKEN_LOADED = 'ENAIL/TOKEN/LOADED';\r\n\r\nexport const MOVE_STEP = 'ENAIL/STEP/MOVE';\r\n\r\nexport const STEP_PARALLEL = 'parallel';\r\nexport const STEP_LOOP = 'loop';\r\nexport const STEP_FEEDBACK = 'feedback';\r\nexport const STEP_MOVETEMP = 'movetemp';\r\nexport const STEP_WAITTEMP = 'waittemp';\r\nexport const STEP_TIMER = 'timer';\r\nexport const STEP_SEQUENTIAL = 'sequential';\r\n\r\nexport const UPDATE_VERSION = 'ENAIL/VERSION/UPDATE';\r\n\r\nexport const ICONS = [\r\n    {title: '-None-', value: ''}, \r\n    {title: 'Home', value: 'home'}, \r\n    {title: 'Cloud', value: 'cloud'}, \r\n    {title: 'Drop', value: 'drop'}, \r\n    {title: 'Gear', value: 'gear'}, \r\n    {title: 'Script', value: 'script'}, \r\n    {title: 'Thermometer', value: 'thermometerDown'}\r\n];\r\n\r\nexport const SOUNDS = [\r\n    {title: '-None-', value: ''}, \r\n    {title: 'Appear', value: 'appear'}, \r\n    {title: 'Beep', value: 'beep'}, \r\n    {title: 'Bell', value: 'bell'}, \r\n    {title: 'Chime', value: 'chime'}, \r\n    {title: 'Complete', value: 'complete'}, \r\n    {title: 'Disconnected', value: 'disconnected'}, \r\n    {title: 'Error', value: 'error'}, \r\n    {title: 'Money', value: 'money'}, \r\n    {title: 'Organ', value: 'organ'}\r\n];","import { Dispatch } from 'redux';\r\nimport { RSAA } from 'redux-api-middleware';\r\n\r\nimport { IEnailState } from '../models/IEnailState';\r\nimport { ISavedState } from '../models/ISavedState';\r\nimport { EnailAction, IErrorAction } from '../models/Actions';\r\nimport * as Constants from '../models/constants';\r\nimport { IEnailEmitState } from '../models/IEnailEmitState';\r\nimport { IEnailScript } from '../models/IEnailScript';\r\nimport { IVerifyTokenResponse } from '../models/IVerifyTokenResponse';\r\nimport { IPidSettings } from '../models/IPidSettings';\r\nimport { ISavedProfiles } from '../models/ISavedProfiles';\r\nimport { Zeroconf } from '@ionic-native/zeroconf';\r\n\r\nconst initialState: IEnailState = {\r\n    serviceFound: false,\r\n    connected: false,\r\n    requesting: false,\r\n    reconnect: false,\r\n    tokenError: false,\r\n    presets: [],\r\n    autoShutoff: 45,\r\n    token: '',\r\n    profiles: {\r\n        profiles: {}\r\n    },\r\n    theme: localStorage[Constants.LOCAL_STORAGE_FCENAIL_THEME] || 'dark'\r\n};\r\n\r\nexport const connectSocket = () => {\r\n    return {\r\n        type: Constants.SOCKET_CONNECT\r\n    };\r\n}\r\n\r\nexport const socketConnected = () => {\r\n    return {\r\n        type: Constants.SOCKET_CONNECTED\r\n    }\r\n}\r\n\r\nexport const socketDisconnected = () => {\r\n    return {\r\n        type: Constants.SOCKET_DISCONNECTED\r\n    }\r\n}\r\n\r\nexport const receiveEnailState = (reading: IEnailEmitState) => {\r\n    return {\r\n        type: Constants.SOCKET_EMIT_STATE,\r\n        payload: reading\r\n    }\r\n}\r\n\r\nexport const getScripts = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/scripts`,\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.SCRIPTS_REQUEST,\r\n                Constants.SCRIPTS_RESPONSE,\r\n                Constants.SCRIPTS_ERROR\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport const saveScript = (script: IEnailScript) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/script`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.SAVE_SCRIPT_REQUEST,\r\n                { type: Constants.SAVE_SCRIPT_RESPONSE, payload: script },\r\n                Constants.SAVE_SCRIPT_ERROR\r\n            ],\r\n            body: JSON.stringify(script)\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport const getProfiles = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/profiles`,\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.PROFILES_REQUEST,\r\n                Constants.PROFILES_RESPONSE,\r\n                Constants.PROFILES_ERROR\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteProfile = (profile: string) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/profile/delete`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ profile }),\r\n            types: [\r\n                { type: Constants.DELETE_PROFILE_REQUEST, payload: profile },\r\n                Constants.DELETE_PROFILE_RESPONSE,\r\n                Constants.DELETE_PROFILE_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const deleteScript = (title: string) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/script/delete`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ title }),\r\n            types: [\r\n                { type: Constants.DELETE_SCRIPT_REQUEST, payload: title },\r\n                Constants.DELETE_SCRIPT_RESPONSE,\r\n                Constants.DELETE_SCRIPT_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport const reconnect = (retry: boolean, ignoreCache: boolean = false) => {\r\n    return async (dispatch: Dispatch<EnailAction>) => {\r\n        if (retry) {\r\n            try {\r\n                // dispatch({\r\n                //     type: Constants.SERVICE_FOUND,\r\n                //     payload: 'http://172.19.0.21:4000'\r\n                // });\r\n                // return;\r\n                const serviceUrl = await fetchServiceUrl(ignoreCache);\r\n\r\n                dispatch({\r\n                    type: Constants.SERVICE_FOUND,\r\n                    payload: serviceUrl\r\n                });\r\n            } catch {\r\n                if (!ignoreCache) {\r\n                    dispatch<any>(reconnect(true, true));\r\n                } else {\r\n                    dispatch<any>(reconnect(false, false));\r\n                }\r\n            }\r\n            // dispatch<any>(getScripts());\r\n            // dispatch<any>(getSavedState());\r\n            // dispatch<any>(connectSocket());\r\n        } else {\r\n            dispatch({\r\n                type: Constants.RECONNECT,\r\n                payload: retry\r\n            });        \r\n        }\r\n    };\r\n}\r\n\r\nexport const connectManual = (serviceUrl: string) => {\r\n    return (dispatch: Dispatch<EnailAction>) => {\r\n        fetch(serviceUrl)\r\n        .then((response: Response) => {\r\n            if (response.status !== 200) {\r\n                dispatch<any>(reconnect(false, false));\r\n            } else {\r\n                dispatch({\r\n                    type: Constants.SERVICE_FOUND,\r\n                    payload: serviceUrl\r\n                })\r\n            }\r\n        });\r\n    };\r\n}\r\n\r\nconst getServiceUrl = (): string => {\r\n    return localStorage.getItem(Constants.LOCAL_STORAGE_FCENAIL_SERVICE_URL) || '';\r\n}\r\n\r\nconst fetchServiceUrl = (ignoreCache: boolean): Promise<string> => {\r\n    return new Promise<string>((resolve, reject) => {\r\n        const serviceUrl = ignoreCache ? '' : localStorage.getItem(Constants.LOCAL_STORAGE_FCENAIL_SERVICE_URL) || '';\r\n        if (serviceUrl !== '') {\r\n            const timeout = setTimeout(() => {\r\n                reject();\r\n            }, 5000);\r\n\r\n            fetch(serviceUrl)\r\n            .then((response: Response) => {\r\n                clearTimeout(timeout);\r\n                if (response.status !== 200) {\r\n                    reject();\r\n                } else {\r\n                    resolve(serviceUrl);\r\n                }\r\n            }).catch(() => {\r\n                reject();\r\n            });\r\n            return;\r\n        }\r\n\r\n        const timeout2 = setTimeout(() => {\r\n            reject();\r\n        }, 5000);\r\n\r\n        Zeroconf.watch('_fc-enail._tcp.', 'local.').subscribe((result: { action: string, service: any }) => {\r\n            switch (result.action) {\r\n                case 'resolved': {\r\n                    clearTimeout(timeout2);\r\n                    \r\n                    const url = `http://${result.service.ipv4Addresses[0]}:${result.service.port}`;\r\n\r\n                    const timeout3 = setTimeout(() => {\r\n                        reject();\r\n                    }, 5000);\r\n                    \r\n                    fetch(url)\r\n                    .then((response: Response) => {\r\n                        clearTimeout(timeout3);\r\n                        if (response.status !== 200) {\r\n                            reject();\r\n                        } else {\r\n                            resolve(url);\r\n                        }\r\n                    }).catch(() => {\r\n                        reject();\r\n                    });\r\n\r\n                    Zeroconf.unwatch('_fc-enail._tcp.', 'local.');\r\n                    break;\r\n                }\r\n            }\r\n        }, () => {\r\n            // localStorage.setItem(Constants.LOCAL_STORAGE_FCENAIL_SERVICE_URL, config.serviceUrl);\r\n            reject();\r\n            return;    \r\n        });\r\n    });\r\n}\r\n\r\nexport const setSP = (value: number) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/sp/${value}`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.SETSP_REQUEST,\r\n                Constants.SETSP_RESPONSE,\r\n                Constants.SETSP_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const toggleState = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/state`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.TOGGLE_STATE_REQUEST,\r\n                Constants.TOGGLE_STATE_RESPONSE,\r\n                Constants.TOGGLE_STATE_ERROR\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport const toggleTuning = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/autotune`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.AUTOTUNE_REQUEST,\r\n                Constants.AUTOTUNE_RESPONSE,\r\n                Constants.AUTOTUNE_ERROR\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport const savePidSettings = (pidSettings: IPidSettings) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/savepid`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(pidSettings),\r\n            types: [\r\n                Constants.SAVEPID_REQUEST,\r\n                { type: Constants.SAVEPID_RESPONSE, payload: pidSettings },\r\n                Constants.SAVEPID_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const runScript = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/script/run`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.RUN_SCRIPT_REQUEST,\r\n                Constants.RUN_SCRIPT_RESPONSE,\r\n                Constants.RUN_SCRIPT_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const endScript = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/script/end`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.END_SCRIPT_REQUEST,\r\n                Constants.END_SCRIPT_RESPONSE,\r\n                Constants.END_SCRIPT_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const setScript = (index: number) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/script/set/${index}`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.SET_SCRIPT_REQUEST,\r\n                Constants.SET_SCRIPT_RESPONSE,\r\n                Constants.SET_SCRIPT_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const generatePassphrase = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/passphrase/generate`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.PASSPHRASE_GENERATE_REQUEST,\r\n                Constants.PASSPHRASE_GENERATE_RESPONSE,\r\n                Constants.PASSPHRASE_GENERATE_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const verifyPassphrase = (passphrase: string) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/passphrase/verify`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ passphrase } as { passphrase: string }),\r\n            types: [\r\n                Constants.PASSPHRASE_VERIFY_REQUEST,\r\n                Constants.PASSPHRASE_VERIFY_RESPONSE,\r\n                Constants.PASSPHRASE_VERIFY_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const findEnailService = () => {\r\n    return (dispatch: Dispatch<EnailAction>) => {\r\n        Zeroconf.watch('_fc-enail._tcp.', 'local.').subscribe((result: { action: string, service: any }) => {\r\n            switch (result.action) {\r\n                case 'added': case 'resolved': {\r\n                    dispatch({\r\n                        type: Constants.SERVICE_FOUND,\r\n                        payload: `http://${result.service.ipv4Addresses[0]}:${result.service.port}`\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const getSavedState = () => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/savedstate`,\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.LOAD_SAVED_STATE_REQUEST,\r\n                Constants.LOAD_SAVED_STATE_RESPONSE,\r\n                Constants.LOAD_SAVED_STATE_ERROR\r\n            ]\r\n        }\r\n    };\r\n}\r\n\r\nexport const persistSavedState = (savedState: ISavedState) => {\r\n    return {\r\n        [RSAA]: {\r\n            endpoint: `${getServiceUrl()}/savedstate`,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            types: [\r\n                Constants.PERSIST_SAVED_STATE_REQUEST,\r\n                { type: Constants.PERSIST_SAVED_STATE_RESPONSE, meta: savedState },\r\n                Constants.PERSIST_SAVED_STATE_ERROR\r\n            ],\r\n            body: JSON.stringify(savedState)\r\n        }\r\n    };\r\n}\r\n\r\nexport const loadToken = (token: string) => {\r\n    return {\r\n        type: Constants.LOAD_TOKEN,\r\n        payload: token\r\n    }\r\n}\r\n\r\nexport const tokenLoaded = () => {\r\n    return {\r\n        type: Constants.TOKEN_LOADED\r\n    }\r\n}\r\n\r\nexport const moveStep = (key: string, destinationKey: string, destinationIndex: number) => {\r\n    return {\r\n        type: Constants.MOVE_STEP,\r\n        payload: {\r\n            key,\r\n            destinationKey,\r\n            destinationIndex\r\n        }\r\n    }\r\n}\r\n\r\nexport const setTheme = (theme: string) => {\r\n    return (dispatch: Dispatch<EnailAction>) => {\r\n        localStorage.setItem(Constants.LOCAL_STORAGE_FCENAIL_THEME, theme);\r\n        dispatch({\r\n            type: Constants.SET_THEME,\r\n            payload: theme\r\n        });\r\n    }\r\n}\r\n\r\nexport const enailReducer = (state: IEnailState = initialState, action: EnailAction): IEnailState => {\r\n    switch (action.type) {\r\n        case Constants.SET_THEME: {\r\n            return {\r\n                ...state,\r\n                theme: action.payload as string\r\n            };\r\n        }\r\n\r\n        case Constants.SOCKET_CONNECTED: {\r\n            return {\r\n                ...state,\r\n                connected: true\r\n            };\r\n        }\r\n\r\n        case Constants.SOCKET_DISCONNECTED: {\r\n            return {\r\n                ...state,\r\n                connected: false\r\n            };\r\n        }\r\n\r\n        case Constants.SOCKET_EMIT_STATE: {\r\n            return {\r\n                ...state,\r\n                emitState: action.payload as IEnailEmitState\r\n            };\r\n        }\r\n\r\n        case Constants.SETSP_REQUEST: case Constants.TOGGLE_STATE_REQUEST: \r\n        case Constants.RUN_SCRIPT_REQUEST: case Constants.END_SCRIPT_REQUEST: \r\n        case Constants.SET_SCRIPT_REQUEST: case Constants.LOAD_SAVED_STATE_REQUEST: \r\n        case Constants.PERSIST_SAVED_STATE_REQUEST: case Constants.PASSPHRASE_GENERATE_REQUEST: \r\n        case Constants.PASSPHRASE_VERIFY_REQUEST: case Constants.AUTOTUNE_REQUEST: \r\n        case Constants.SAVEPID_REQUEST: case Constants.PROFILES_ERROR:\r\n        case Constants.PROFILES_REQUEST: case Constants.SCRIPTS_REQUEST:\r\n        case Constants.SAVE_SCRIPT_REQUEST: {\r\n            return {\r\n                ...state,\r\n                requesting: true,\r\n                error: false\r\n            };\r\n        }\r\n\r\n        case Constants.SETSP_RESPONSE: case Constants.TOGGLE_STATE_RESPONSE: \r\n        case Constants.RUN_SCRIPT_RESPONSE: case Constants.RUN_SCRIPT_RESPONSE: \r\n        case Constants.SET_SCRIPT_RESPONSE: case Constants.PASSPHRASE_GENERATE_RESPONSE: \r\n        case Constants.AUTOTUNE_RESPONSE: case Constants.DELETE_PROFILE_RESPONSE: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false\r\n            };\r\n        }\r\n\r\n        case Constants.SCRIPTS_ERROR: case Constants.SETSP_ERROR: case Constants.TOGGLE_STATE_ERROR: \r\n        case Constants.RUN_SCRIPT_ERROR: case Constants.END_SCRIPT_ERROR: \r\n        case Constants.SET_SCRIPT_ERROR: case Constants.PERSIST_SAVED_STATE_ERROR:\r\n        case Constants.PASSPHRASE_GENERATE_ERROR: case Constants.PASSPHRASE_VERIFY_ERROR: \r\n        case Constants.AUTOTUNE_ERROR: case Constants.SAVEPID_ERROR: case Constants.DELETE_PROFILE_ERROR: \r\n        case Constants.SAVE_SCRIPT_ERROR: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: true,\r\n                message: !action.payload ? undefined : (action as IErrorAction).payload!.message\r\n            };\r\n        }\r\n\r\n        case Constants.SCRIPTS_RESPONSE: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                scripts: action.payload as IEnailScript[]\r\n            };\r\n        }\r\n\r\n        case Constants.SAVEPID_RESPONSE: {\r\n            const profile = action.payload as IPidSettings;\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                profiles: {\r\n                    currentProfile: profile.title,\r\n                    profiles: {\r\n                        ...state.profiles.profiles,\r\n                        [profile.title]: profile\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        \r\n        case Constants.PROFILES_RESPONSE: {\r\n            const savedProfiles = action.payload as ISavedProfiles;\r\n            if (!savedProfiles) {\r\n                return state;\r\n            }\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                profiles: {\r\n                    currentProfile: savedProfiles.currentProfile,\r\n                    profiles: {\r\n                        ...savedProfiles.profiles\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        case Constants.DELETE_PROFILE_REQUEST: {\r\n            if (!state.profiles) {\r\n                return state;\r\n            }\r\n            const profile = action.payload as string;\r\n            const { [profile]: removedValue, ...newProfiles } = state.profiles.profiles;\r\n            return {\r\n                ...state,\r\n                profiles: {\r\n                    currentProfile: state.profiles.currentProfile ? state.profiles.currentProfile === profile ? undefined : state.profiles.currentProfile : undefined,\r\n                    profiles: {\r\n                        ...newProfiles\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        case Constants.DELETE_SCRIPT_REQUEST: {\r\n            if (!state.scripts) {\r\n                return state;\r\n            }\r\n            \r\n            const title = action.payload as string;\r\n            const index = state.scripts.findIndex(s => s.key === title);\r\n            if (index < 0) {\r\n                return state;\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                emitState: {\r\n                    ...state.emitState!,\r\n                    currentScript: 0\r\n                },\r\n                scripts: [\r\n                    ...state.scripts.slice(0, index),\r\n                    ...(index < state.scripts.length ? state.scripts.slice(index+1).map(s => ({\r\n                        ...s,\r\n                        index: s.index!-1\r\n                    })) : [])\r\n                ]\r\n            };\r\n        }\r\n\r\n        case Constants.PERSIST_SAVED_STATE_RESPONSE: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                presets: (action.meta as ISavedState).presets,\r\n                autoShutoff: (action.meta as ISavedState).autoShutoff\r\n            }\r\n        }\r\n\r\n        case Constants.SAVE_SCRIPT_RESPONSE: {\r\n            const script = action.payload as IEnailScript;\r\n            if (!state.scripts) {\r\n                return {\r\n                    ...state,\r\n                    scripts: [{\r\n                        ...script,\r\n                        index: 0\r\n                    }],\r\n                    emitState: {\r\n                        ...state.emitState!,\r\n                        currentScript: 0\r\n                    }\r\n                };\r\n            }\r\n\r\n            const index = state.scripts.findIndex(s => s.key === script.key);\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                scripts: index >= 0\r\n                    ? [\r\n                        ...state.scripts.slice(0, index),\r\n                        script,\r\n                        ...state.scripts.slice(index+1)\r\n                    ].map((s, i) => ({\r\n                        ...s,\r\n                        index: i\r\n                    }))\r\n                    : [\r\n                        ...state.scripts,\r\n                        {\r\n                            ...script,\r\n                            index: state.scripts.length\r\n                        }\r\n                    ],\r\n                emitState: {\r\n                    ...state.emitState!,\r\n                    currentScript: index >= 0 ? index : state.scripts.length\r\n                }\r\n            };\r\n        }\r\n\r\n        case Constants.PASSPHRASE_VERIFY_RESPONSE: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                tokenError: !(action.payload as IVerifyTokenResponse).success,\r\n                token: (action.payload as IVerifyTokenResponse).token\r\n            };\r\n        }\r\n\r\n        case Constants.LOAD_TOKEN: {\r\n            return {\r\n                ...state,\r\n                token: action.payload as string\r\n            }\r\n        }\r\n\r\n        case Constants.LOAD_SAVED_STATE_RESPONSE: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: false,\r\n                presets: (action.payload as ISavedState).presets,\r\n                autoShutoff: (action.payload as ISavedState).autoShutoff\r\n            };\r\n        }\r\n\r\n        case Constants.LOAD_SAVED_STATE_ERROR: {\r\n            return {\r\n                ...state,\r\n                requesting: false,\r\n                error: true,\r\n                message: !action.payload ? undefined : (action as IErrorAction).payload!.message,\r\n                presets: [],\r\n                autoShutoff: 45\r\n            };\r\n        }\r\n\r\n        case Constants.SERVICE_FOUND: {\r\n            return {\r\n                ...state,\r\n                serviceFound: true,\r\n                reconnect: false\r\n            }\r\n        }\r\n\r\n        case Constants.RECONNECT: {\r\n            return {\r\n                ...state,\r\n                reconnect: true\r\n            };\r\n        }\r\n\r\n        case Constants.MOVE_STEP: {\r\n            return {\r\n                ...state\r\n            };\r\n\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}","/*\n * File: c:\\fc-enail\\fc-enail-client\\src\\routes\\home\\container.ts\n * Project: c:\\fc-enail\\fc-enail-client\n * Created Date: Sunday November 11th 2018\n * Author: J-Cat\n * -----\n * Last Modified:\n * Modified By:\n * -----\n * License: \n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\n * -----\n * Copyright (c) 2018\n */\nimport { connect } from 'react-redux'\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { IEnailStore } from '../../models/IEnailStore';\nimport { Home } from './home';\nimport { IEnailEmitState } from '../../models/IEnailEmitState';\nimport { IEnailScript } from '../../models/IEnailScript';\nimport { setSP, toggleState, runScript, endScript, setScript } from '../../reducers/enailReducer';\nexport interface IStateProps {\n    readonly version: string;\n    readonly state?: IEnailEmitState;\n    readonly scripts: IEnailScript[];\n    readonly presets: number[];\n    readonly autoShutoff: number;\n}\n\nexport interface IDispatchProps {\n    setSP: (value: number) => void;\n    toggleState: () => void;\n    runScript: () => void;\n    endScript: () => void;\n    setScript: (index: number) => void;\n}\n\nexport interface IOwnProps {\n}\n\nexport interface IProps extends RouteComponentProps<any, any>, IStateProps, IDispatchProps, IOwnProps {\n}\n\nexport interface IState {\n    readonly changing: boolean;\n    readonly sliderValue: number;\n    readonly startingValue: number;\n    readonly setPoint: number;\n    readonly running: boolean;\n    readonly scriptRunning: boolean;\n    readonly currentScript: number;\n    readonly scriptChanging: boolean;\n    readonly showSPDialog: boolean;\n    readonly runningChanging: boolean;\n    readonly isMounted: boolean;\n    readonly scripts: (IEnailScript & { deleted?: boolean })[];\n}\n\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\n    return {\n        version: state.version.version,\n        state: state.enail.emitState,\n        scripts: state.enail.scripts || [],\n        presets: state.enail.presets,\n        autoShutoff: state.enail.autoShutoff\n    };\n}\n\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\n    return {\n        setSP: (value: number) => dispatch(setSP(value)),\n        toggleState: () => dispatch(toggleState()),\n        runScript: () => dispatch(runScript()),\n        endScript: () => dispatch(endScript()),\n        setScript: (index: number) => dispatch(setScript(index))\n    };\n}\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(withRouter(Home));","/*\r\n * File: c:\\enail-magic\\src\\models\\IConditionalStep.ts\r\n * Project: c:\\enail-magic\r\n * Created Date: Saturday August 25th 2018\r\n * Author: J-Cat\r\n * -----\r\n * Last Modified:\r\n * Modified By:\r\n * -----\r\n * License: \r\n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \r\n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\r\n * -----\r\n * Copyright (c) 2018\r\n */\r\nimport { IStep } from \"./IStep\";\r\n\r\nexport interface IWaitTempStep extends IStep {\r\n    readonly offset: number;\r\n    readonly direction: Direction;\r\n    readonly timeout: number;\r\n}\r\n\r\nexport enum Direction {\r\n    DOWN = \"DOWN\",\r\n    UP = \"UP\",\r\n    UNDEFINED = \"UNDEFINED\"\r\n}","import { IStep } from '../models/IStep';\nimport { ILoopStep } from '../models/ILoopStep';\nimport * as Constants from '../models/constants';\n\nexport const mapStep = (step: IStep, stepIndex: number, parent: IStep, root: IStep): IStep => {\n    const key: string = `${parent.key !== '' ? `${parent.key}.` : ''}${stepIndex}`;\n    let newStep = {\n        ...step,\n        key,\n        parent: parent.key,\n        loopCount: parent.type === Constants.STEP_LOOP ? (parent as ILoopStep).count : 0,\n        last: parent.steps === undefined ? true : stepIndex >= parent.steps.length - 1\n    };\n    newStep = {\n        ...newStep,\n        next: getNextStepKey(newStep, stepIndex, parent, root)\n    };\n\n    return {\n        ...newStep,\n        steps: step.steps === undefined ? [] : step.steps.map((subStep, subStepIndex) => {\n            return mapStep(subStep, subStepIndex, newStep, root);\n        })\n    }\n}\n\nexport const remapScript = (root: IStep): IStep => {\n    const rootStep = {\n        ...root,\n        key: '',\n        loopCount: 0,\n        next: root.steps && root.steps.length > 0 ? '0' : undefined,\n        parent: undefined,\n        last: true\n    };\n\n    return {\n        ...rootStep,\n        steps: rootStep.steps === undefined ? [] : rootStep.steps.map((step, stepIndex) => {\n           return mapStep(step, stepIndex, rootStep, rootStep); \n        })\n    };\n}\n\nexport const getStepByKey = (root: IStep, key: string): IStep | undefined => {\n    if (key === '') {\n        return root;\n    }\n\n    let step = root;\n    for (const index of key.split('.').map(s => parseInt(s))) {\n        if (step.steps === undefined) {\n            break;\n        }\n\n        if (step.steps.length < index) {\n            break;\n        }\n\n        step = step.steps[index];\n    }\n\n    return step;\n}\n\nconst getNextStepKey = (step: IStep, stepIndex: number, parent: IStep, root: IStep) => {\n    if (step.steps !== undefined && step.steps.length > 0) {\n        return `${step.key !== '' ? `${step.key}.0` : '0'}`\n    }\n\n    if (parent.steps === undefined) {\n        return;\n    }\n    \n    if (!step.last! && parent.type !== Constants.STEP_PARALLEL) {\n        return `${parent.key !== '' ? `${parent.key}.` : ''}${stepIndex + 1}`;\n    } else {\n        if (parent === undefined || parent.last!) {\n            return;\n        }\n\n        const parentKey = parent.key!.split('.');\n        const parentIndex = parseInt(parentKey[parentKey.length - 1]);\n\n        return `${parent.parent !== '' ? `${parent.parent}.` : ''}${parentIndex+1}`;\n    }\n}\n\nexport const addItem = (step: IStep, item: IStep, destinationKey: string, destinationIndex: number): IStep => {\n    if (!step.steps) {\n        return step;\n    }\n\n    if ((step.key === destinationKey) || \n        (step.key === '' && destinationKey === 'root')\n    ) {\n        return {\n            ...step,\n            steps: [\n                ...step.steps.slice(0, destinationIndex),\n                item,\n                ...step.steps.slice(destinationIndex)\n            ]\n        };  \n    } else {\n        return {\n            ...step,\n            steps: step.steps.map(s => {\n                return addItem(s, item, destinationKey, destinationIndex);\n            }) \n        };    \n    }\n}\n\nexport const deleteKey = (step: IStep, key: string): IStep => {\n    if (!step.steps) {\n        return step;\n    }\n\n    const index = step.steps.findIndex(s => s.key === key);\n    let steps = [...step.steps];\n    if (index >= 0) {\n        steps = [...step.steps.slice(0, index), ...step.steps.slice(index+1)]\n    }\n\n    return {\n        ...step,\n        steps: steps.map(s => {\n            return deleteKey(s, key);\n        }) \n    };\n}\n\nexport const moveStep = (root: IStep, key: string, destinationKey: string, destinationIndex: number): IStep => {\n    if (key === '') {\n        return root;\n    }\n\n    const newRoot = deleteKey(root, key); \n    const item = getStepByKey(root, key);\n    if (item) {\n        const final = addItem(newRoot, item, destinationKey, destinationIndex);\n        return remapScript(final);\n    } else {\n        return root;\n    }\n}\n","import * as React from 'react';\r\nimport { IonContent, IonReorderGroup, IonReorder, IonLabel, IonItem, IonButton, IonIcon, IonItemGroup, IonItemSliding, IonItemOptions, IonItemOption, IonInput, IonText, IonSelect, IonSelectOption, IonHeader, IonToolbar, IonButtons, IonPopover, IonList, IonTitle, IonAlert } from '@ionic/react';\r\nimport { ItemReorderEventDetail } from '@ionic/core';\r\nimport * as ScriptsProps from './container';\r\nimport { Step } from '../../models/Step';\r\nimport { IStep } from '../../models/IStep';\r\nimport { IEnailScript } from '../../models/IEnailScript';\r\nimport { remapScript } from '../../helpers/stepHelper';\r\nimport { ILoopStep } from '../../models/ILoopStep';\r\nimport { IMoveTempStep } from '../../models/IMoveTempStep';\r\nimport { IFeedbackStep } from '../../models/IFeedbackStep';\r\nimport { IWaitTempStep, Direction } from '../../models/IWatiTempStep';\r\nimport { ITimerStep } from '../../models/ITimerStep';\r\nimport * as Constants from '../../models/constants';\r\n// import config from '../../config';\r\n\r\nimport './scripts.less';\r\n\r\nexport default class Scripts extends React.Component<ScriptsProps.IProps, ScriptsProps.IState> {\r\n    constructor(props: ScriptsProps.IProps) {\r\n        super(props);\r\n        this.state = {\r\n            script: this.props.script \r\n                ? {...this.props.script}\r\n                : undefined,\r\n            changed: false,\r\n            saved: false,\r\n            menuOpen: [],\r\n            menuVisible: false,\r\n            confirmDeleteOpen: false,\r\n            saveDialogOpen: false,\r\n            addStepDialogOpen: false,\r\n            currentStep: ''\r\n        };\r\n\r\n        this.deleteScript = this.deleteScript.bind(this);\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps: ScriptsProps.IProps, prevState: ScriptsProps.IState) {\r\n        if ((!prevState.script && nextProps.script)\r\n            || (prevState.script && nextProps.script && prevState.script.title !== nextProps.script.title && prevState.script.title !== '')\r\n         ) {\r\n            return {\r\n                script: {...nextProps.script},\r\n                menuOpen: []\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    createNew = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n\r\n        const script = {\r\n            title: '',\r\n            step: remapScript({\r\n                type: Constants.STEP_SEQUENTIAL,\r\n                steps: []\r\n            })\r\n        } as IEnailScript;\r\n\r\n        this.setState({\r\n            menuVisible: false,\r\n            script\r\n        });\r\n    }\r\n\r\n    submit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    deleteScript = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            confirmDeleteOpen: this.state.script ? true : false\r\n        });\r\n    }\r\n\r\n    saveScript = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            saveDialogOpen: this.state.script ? true : false\r\n        });\r\n    }\r\n\r\n    addStepStart = (step: IStep) => {\r\n        this.setState({\r\n            menuVisible: false,\r\n            addStepDialogOpen: true,\r\n            currentStep: step.key!\r\n        });\r\n    }\r\n\r\n    addStepComplete = (type: string) => {\r\n        const step = this.getNewStep(type);\r\n        this.setState({\r\n            script: {\r\n                ...this.state.script!,\r\n                step: this.addStep(this.state.currentStep, this.state.script!.step, step as IStep)\r\n            }\r\n        });\r\n    }\r\n\r\n    addStep = (key: string, step: IStep, newStep: IStep): IStep => {\r\n        return {\r\n            ...step,\r\n            steps: step.key! === key \r\n                ? [...step.steps!, {\r\n                    ...newStep,\r\n                    key: `${step.key!}${step.key! !== '' ? '.' : ''}${step.steps!.length}`\r\n                }]\r\n                : step.steps!.map(s => {\r\n                    return this.addStep(key, s, newStep)\r\n                })\r\n        };\r\n    }\r\n\r\n    deleteStep = (key: string, step: IStep): IStep => {\r\n        return {\r\n            ...step,\r\n            steps: step.steps!.filter(s => s.key! !== key).map((s, index) => {\r\n                return this.deleteStep(key, s)\r\n            })\r\n        }\r\n    }\r\n\r\n    reorder = (key: string, event: CustomEvent<ItemReorderEventDetail>) => {\r\n        if (this.state.script && this.state.script.step.steps) {\r\n            const newScript = {\r\n                ...this.state.script,\r\n                step: this.reorderStep(this.state.script!.step, key, event.detail.from, event.detail.to)\r\n            }\r\n            this.setState({\r\n                script: newScript\r\n            });\r\n        }\r\n        event.stopPropagation();\r\n        event.detail.complete();\r\n    }\r\n\r\n    reorderStep = (step: IStep, key: string, from: number, to: number): IStep => {\r\n        if (!step.steps) {\r\n            return {\r\n                ...step\r\n            };\r\n        } else if (step.key !== key) {\r\n            return {\r\n                ...step,\r\n                steps: step.steps.map(s => {\r\n                    return this.reorderStep(s, key, from, to)\r\n                })\r\n            };\r\n        } else {\r\n            const newSteps = step.steps.filter((s, index) => index !== from);\r\n            return {\r\n                ...step,\r\n                steps: [\r\n                    ...newSteps.slice(0, to),\r\n                    step.steps[from],\r\n                    ...newSteps.slice(to)\r\n                ]\r\n            };\r\n        }\r\n    }\r\n\r\n    getStepByKey = (key: string): IStep => {\r\n        const keyParts = key.split('.');\r\n        return keyParts.reduce<IStep>((previous, current) => {\r\n            const key = `${previous.key!}${previous.key! !== '' ? '.' : ''}${current}`;\r\n\r\n            if (previous.steps) {\r\n                const step = previous.steps.find(s => s.key! === key);\r\n                if (step) {\r\n                    return step;\r\n                }\r\n            } \r\n\r\n            return previous;\r\n        }, this.state.script!.step);\r\n    }\r\n\r\n    renderStep = (step: IStep) => {\r\n        return <IonItemGroup key={step.key!} class=\"scripts\">\r\n            <IonItemSliding>\r\n                <IonItemOptions>\r\n                    {step.type === Constants.STEP_LOOP || step.type === Constants.STEP_SEQUENTIAL\r\n                        ? <IonItemOption onClick={() => this.addStepStart(step)}>\r\n                            Add Step\r\n                        </IonItemOption>    \r\n                        : ''\r\n                    }\r\n                    <IonItemOption color=\"danger\" onClick={() => this.setState({\r\n                        script: {\r\n                            ...this.state.script!,\r\n                            step: this.deleteStep(step.key!, this.state.script!.step)\r\n                        }\r\n                    })}>\r\n                        Delete\r\n                    </IonItemOption>\r\n                </IonItemOptions>\r\n                <IonItem class=\"step-item\">\r\n                    <IonIcon name={this.state.menuOpen.includes(step.key!) ? \"arrow-dropdown\" : \"arrow-dropright\"} slot=\"start\" onClick={() => {\r\n                        if (this.state.menuOpen.includes(step.key!)) {\r\n                            this.setState({\r\n                                menuOpen: [\r\n//                                    ...this.state.menuOpen.filter(m => m !== step.key!)\r\n                                ]\r\n                            });    \r\n                        } else {\r\n                            this.setState({\r\n                                menuOpen: [\r\n//                                    ...this.state.menuOpen,\r\n                                    step.key!\r\n                                ]\r\n                            })\r\n                        }\r\n                    }} />\r\n                    <IonLabel>{this.getStepTitle(step)}</IonLabel>\r\n                    <IonReorder slot=\"end\" />\r\n                </IonItem>\r\n            </IonItemSliding>\r\n            {this.state.menuOpen.includes(step.key!)\r\n                ? this.getStepPanel(step)\r\n                : ''\r\n            }\r\n            {step.steps && step.steps.length > 0 \r\n                ? <IonItem>\r\n                    <IonReorderGroup class=\"step-item-steps\" disabled={false} onIonItemReorder={event => this.reorder(step.key!, event)}>\r\n                        {step.steps.map(subStep => {\r\n                            return this.renderStep(subStep);\r\n                        })}\r\n                    </IonReorderGroup>\r\n                </IonItem>\r\n                : ''\r\n            }\r\n        </IonItemGroup>;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <IonHeader>\r\n                    <IonToolbar>\r\n                        <IonButtons slot=\"start\">\r\n                            <IonButton onClick={() => {\r\n                                this.setState({menuVisible: true});\r\n                            }}>\r\n                                <IonIcon slot=\"icon-only\" name=\"menu\" />\r\n                            </IonButton>\r\n                        </IonButtons>\r\n                        <IonTitle>{this.state.script ? this.state.script.title || '-New-' : 'Scripts'}</IonTitle>\r\n                    </IonToolbar>\r\n                </IonHeader>\r\n                <IonContent>\r\n                    {this.state.script && this.state.script.step.steps ? (\r\n                        <IonReorderGroup disabled={false} onIonItemReorder={event => this.reorder('', event)}>\r\n                            {this.state.script.step.steps.map(step => {\r\n                                return this.renderStep(step);\r\n                            })}\r\n                        </IonReorderGroup>\r\n                    ) : ''}\r\n                </IonContent>\r\n                <IonAlert\r\n                    isOpen={this.state.confirmDeleteOpen}\r\n                    onDidDismiss={() => this.setState({ confirmDeleteOpen: false })}\r\n                    header={'Delete Script?'}\r\n                    message={'Are you sure you want to delete this script?'}\r\n                    buttons={[{\r\n                        text: 'Cancel',\r\n                        role: 'cancel',\r\n                        cssClass: 'secondary'\r\n                    }, {\r\n                        text: 'Ok',\r\n                        handler: () => {\r\n                            this.props.deleteScript(this.state.script!.key || this.state.script!.title);\r\n                            this.setState({\r\n                                menuVisible: false\r\n                            }, () => {\r\n                                setTimeout((() => {\r\n                                    this.props.history.push('/home');\r\n                                }).bind(this), 500);                                    \r\n                            });\r\n                        }\r\n                    }]}\r\n                />\r\n                <IonAlert\r\n                    isOpen={this.state.saveDialogOpen}\r\n                    onDidDismiss={() => this.setState({ saveDialogOpen: false })}\r\n                    header={'Save Script?'}\r\n                    message={'Please enter the script title.'}\r\n                    inputs={[{\r\n                        name: 'title',\r\n                        type: 'text',\r\n                        value: this.state.script ? this.state.script.title : '',\r\n                        placeholder: 'Script Title'\r\n                    }]}\r\n                    buttons={[{\r\n                        text: 'Cancel',\r\n                        role: 'cancel',\r\n                        cssClass: 'secondary'\r\n                    }, {\r\n                        text: 'Ok',\r\n                        handler: (value) => {\r\n                            this.props.saveScript({\r\n                                ...this.state.script!,\r\n                                title: value.title\r\n                            });\r\n                            setTimeout((() => {\r\n                                this.setState({\r\n                                    menuVisible: false,\r\n                                    script: {\r\n                                        ...this.state.script!,\r\n                                        title: value.title\r\n                                    }\r\n                                })\r\n                            }).bind(this), 500);\r\n                        }\r\n                    }]}\r\n                />\r\n                <IonAlert\r\n                    isOpen={this.state.addStepDialogOpen}\r\n                    onDidDismiss={() => this.setState({ addStepDialogOpen: false })}\r\n                    header={'Add Step?'}\r\n                    message={'Please select a new step type.'}\r\n                    inputs={[{\r\n                        name: 'stepType',\r\n                        type: 'radio',\r\n                        label: 'Loop',\r\n                        value: Constants.STEP_LOOP\r\n                    }, {\r\n                        name: 'stepType',\r\n                        type: 'radio',\r\n                        label: 'Feedback',\r\n                        value: Constants.STEP_FEEDBACK\r\n                    }, {\r\n                        name: 'stepType',\r\n                        type: 'radio',\r\n                        label: 'Move Temperature',\r\n                        value: Constants.STEP_MOVETEMP\r\n                    }, {\r\n                        name: 'stepType',\r\n                        type: 'radio',\r\n                        label: 'Timer',\r\n                        value: Constants.STEP_TIMER\r\n                    }, {\r\n                        name: 'stepType',\r\n                        type: 'radio',\r\n                        label: 'Wait for Set Point',\r\n                        value: Constants.STEP_WAITTEMP\r\n                    }]}\r\n                    buttons={[{\r\n                        text: 'Cancel',\r\n                        role: 'cancel',\r\n                        cssClass: 'secondary'\r\n                    }, {\r\n                        text: 'Ok',\r\n                        handler: (value) => {\r\n                            this.addStepComplete(value);\r\n                            this.setState({\r\n                                menuVisible: false\r\n                            });\r\n                        }\r\n                    }]}\r\n                />\r\n                <IonPopover\r\n                    isOpen={this.state.menuVisible}\r\n                    onDidDismiss={() => this.setState(() => ({ menuVisible: false }))}\r\n                >\r\n                    <IonList>\r\n                        <IonItem onClick={() => this.addStepStart(this.state.script!.step)}>\r\n                            <IonIcon name=\"add\" slot=\"start\" />\r\n                            <IonLabel>Add Step</IonLabel>\r\n                        </IonItem>\r\n                        <IonItem onClick={this.createNew}>\r\n                            <IonIcon name=\"code\" slot=\"start\" />\r\n                            <IonLabel>New Script</IonLabel>\r\n                        </IonItem>\r\n                        <IonItem onClick={this.saveScript}>\r\n                            <IonIcon name=\"save\" slot=\"start\" />\r\n                            <IonLabel>Save Script</IonLabel>\r\n                        </IonItem>\r\n                        <IonItem onClick={this.deleteScript}>\r\n                            <IonIcon name=\"trash\" slot=\"start\" />\r\n                            <IonLabel>Delete Script</IonLabel>\r\n                        </IonItem>\r\n                    </IonList>\r\n                </IonPopover>                \r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    getNewStep = (type: string): IStep => {\r\n        const base = {\r\n            type,\r\n            steps: []\r\n        };\r\n        switch (type) {\r\n            case Constants.STEP_LOOP: {\r\n                return {\r\n                    ...base,\r\n                    count: 1\r\n                } as ILoopStep;\r\n            }\r\n            case Constants.STEP_MOVETEMP: {\r\n                return {\r\n                    ...base,\r\n                    value: 20\r\n                } as IMoveTempStep;\r\n            }\r\n            case Constants.STEP_TIMER: {\r\n                return {\r\n                    ...base,\r\n                    timeout: 5\r\n                } as ITimerStep;\r\n            }\r\n            case Constants.STEP_WAITTEMP: {\r\n                return {\r\n                    ...base,\r\n                    offset: 0,\r\n                    direction: Direction.DOWN,\r\n                    timeout: 90\r\n                } as IWaitTempStep\r\n            }\r\n            default: {\r\n                return {\r\n                    ...base,\r\n                } as IStep\r\n            }\r\n        }\r\n    }\r\n\r\n    setStepValue = (updatedStep: Step) => {\r\n        this.setState({\r\n            script: {\r\n                ...this.state.script!,\r\n                step: this.updateStepValue(this.state.script!.step, updatedStep)\r\n            }\r\n        });\r\n    }\r\n\r\n    updateStepValue = (step: IStep, updatedStep: Step): IStep => {\r\n        const props = step.key! === updatedStep.key! ? updatedStep : {};\r\n        const newStep = {\r\n            ...step,\r\n            ...props,\r\n            steps: step.steps!.map(s => this.updateStepValue(s, updatedStep))\r\n        };\r\n        return newStep;\r\n    }\r\n\r\n    getStepPanel = (step: IStep) => {\r\n        switch (step.type) {\r\n            case Constants.STEP_LOOP: {\r\n                const loop = step as ILoopStep;\r\n                return (\r\n                    <IonItem class=\"step-panel\">\r\n                        <IonLabel position=\"fixed\">Count <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={loop.count.toString()}\r\n                            required={true}\r\n                            placeholder=\"# of Loops\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...loop, count: value});\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                );\r\n            }\r\n    \r\n            case Constants.STEP_TIMER: {\r\n                const timer = step as ITimerStep;\r\n                return (\r\n                    <IonItem class=\"step-panel\">\r\n                        <IonLabel position=\"fixed\">Timeout <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={timer.timeout.toString()}\r\n                            required={true}\r\n                            placeholder=\"Timeout in seconds\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...timer, timeout: value});\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                );\r\n            }\r\n\r\n            case Constants.STEP_WAITTEMP: {\r\n                const waitStep = step as IWaitTempStep;\r\n                return (\r\n                    <IonItemGroup class=\"step-panel\">\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">Direction <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonSelect\r\n                            value={waitStep.direction}\r\n                            placeholder=\"Direction\"\r\n                            onIonChange={event => {\r\n                                const value = event.detail.value\r\n                                if (![Direction.DOWN, Direction.UP].includes(value)) {\r\n                                    return;\r\n                                }\r\n                                this.setStepValue({...waitStep, direction: value});\r\n                            }}\r\n                        >\r\n                            <IonSelectOption value={Direction.DOWN}>Down</IonSelectOption>\r\n                            <IonSelectOption value={Direction.UP}>Up</IonSelectOption>\r\n                        </IonSelect>\r\n                    </IonItem>\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">Offset <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={waitStep.offset.toString()}\r\n                            required={true}\r\n                            placeholder=\"Offset degrees\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...waitStep, offset: value});\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">Timeout <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={waitStep.timeout.toString()}\r\n                            required={true}\r\n                            placeholder=\"Timeout in seconds\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...waitStep, timeout: value});\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                    </IonItemGroup>\r\n                );\r\n            }\r\n    \r\n            case Constants.STEP_MOVETEMP: {\r\n                const moveStep = step as IMoveTempStep;\r\n                return (\r\n                    <IonItem class=\"step-panel\">\r\n                        <IonLabel position=\"fixed\">Change (+/-) <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={moveStep.value.toString()}\r\n                            required={true}\r\n                            placeholder=\"Temperature change in \\xb0\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...moveStep, value });\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                );\r\n            }\r\n    \r\n            case Constants.STEP_FEEDBACK: {\r\n                const feedbackStep = step as IFeedbackStep;\r\n                return (\r\n                    <IonItemGroup class=\"step-panel\">\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">Icon <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonSelect\r\n                            value={feedbackStep.icon || ''}\r\n                            placeholder=\"Icon\"\r\n                            onIonChange={event => {\r\n                                const value = event.detail.value;\r\n                                if (Constants.ICONS.findIndex(i => i.value === value) < 0) {\r\n                                    return;\r\n                                }\r\n                                this.setStepValue({...feedbackStep, icon: value});\r\n                            }}\r\n                        >{Constants.ICONS.map(icon => {\r\n                            return <IonSelectOption key={icon.value} value={icon.value}>{icon.title}</IonSelectOption>;\r\n                        })}\r\n                        </IonSelect>\r\n                    </IonItem>\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">Flash (s) <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={(feedbackStep.flashRate || 0).toString()}\r\n                            required={true}\r\n                            placeholder=\"Icon flash rate\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...feedbackStep, flashRate: value});\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">Sound <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonSelect\r\n                            value={feedbackStep.sound || ''}\r\n                            placeholder=\"Icon\"\r\n                            onIonChange={event => {\r\n                                const value = event.detail.value;\r\n                                if (Constants.SOUNDS.findIndex(s => s.value === value) < 0) {\r\n                                    return;\r\n                                }\r\n                                this.setStepValue({...feedbackStep, sound: value});\r\n                            }}\r\n                        >{Constants.SOUNDS.map(sound => {\r\n                            return <IonSelectOption key={sound.value} value={sound.value}>{sound.title}</IonSelectOption>;\r\n                        })}\r\n                        </IonSelect>\r\n                    </IonItem>\r\n                    <IonItem class=\"step-panel-item\">\r\n                        <IonLabel position=\"fixed\">LED (s) <IonText color=\"danger\">*</IonText></IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={(feedbackStep.led || 0).toString()}\r\n                            required={true}\r\n                            placeholder=\"LED flash rate\"\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value as string);\r\n                                if (isNaN(value)) {\r\n                                    return;   \r\n                                }\r\n                                this.setStepValue({...feedbackStep, led: value});\r\n                            }}\r\n                        />\r\n                    </IonItem>\r\n                    </IonItemGroup>\r\n                );\r\n            }\r\n  \r\n            default: {\r\n                return \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    getStepTitle = (step: IStep) => {\r\n        switch (step.type) {\r\n            case Constants.STEP_LOOP: {\r\n                return `Loop Step (${(step as ILoopStep).count})`;\r\n            }\r\n            case Constants.STEP_FEEDBACK: {\r\n                return `Feedback Step`;\r\n            }\r\n            case Constants.STEP_MOVETEMP: {\r\n                return `Move Temperature Step (${(step as IMoveTempStep).value})`;\r\n            }\r\n            case Constants.STEP_SEQUENTIAL: {\r\n                return \"Sequential Step\";\r\n            }\r\n            case Constants.STEP_TIMER: {\r\n                return `Timer Step (${(step as ITimerStep).timeout}s)`;\r\n            }\r\n            case Constants.STEP_WAITTEMP: {\r\n                return \"Wait for Set Point\";\r\n            }\r\n            default: {\r\n                return \"Invalid Step\";\r\n            }\r\n        }\r\n    }\r\n}","/*\r\n * File: c:\\fc-enail\\fc-enail-client\\src\\routes\\scripts\\container.ts\r\n * Project: c:\\fc-enail\\fc-enail-client\r\n * Created Date: Tuesday November 13th 2018\r\n * Author: J-Cat\r\n * -----\r\n * Last Modified:\r\n * Modified By:\r\n * -----\r\n * License: \r\n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \r\n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\r\n * -----\r\n * Copyright (c) 2018\r\n */\r\nimport { connect } from 'react-redux'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { IEnailStore } from '../../models/IEnailStore';\r\nimport { IEnailScript } from '../../models/IEnailScript';\r\nimport Scripts from './scripts';\r\nimport { saveScript, deleteScript, setScript } from '../../reducers/enailReducer';\r\n\r\nexport interface IStateProps {\r\n    readonly version: string;\r\n    readonly script?: IEnailScript;\r\n}\r\n\r\nexport interface IDispatchProps {\r\n    readonly saveScript: (script: IEnailScript) => void;\r\n    readonly deleteScript: (title: string) => void;\r\n    readonly push: (location: string) => void;\r\n    readonly setScript: (index: number) => void;\r\n}\r\n\r\nexport interface IOwnProps {\r\n}\r\n\r\nexport interface IProps extends RouteComponentProps<any>, IStateProps, IDispatchProps, IOwnProps {\r\n}\r\n\r\nexport interface IState {\r\n    readonly script?: IEnailScript;\r\n    readonly changed: boolean;\r\n    readonly saved: boolean;\r\n    readonly menuOpen: string[];\r\n    readonly menuVisible: boolean;\r\n    readonly confirmDeleteOpen: boolean;\r\n    readonly saveDialogOpen: boolean;\r\n    readonly addStepDialogOpen: boolean;\r\n    readonly currentStep: string;\r\n}\r\n\r\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\r\n    const script = state.enail.emitState && state.enail.scripts && (state.enail.emitState.currentScript !== undefined)\r\n        ? state.enail.scripts[state.enail.emitState.currentScript] : undefined;\r\n    return {\r\n        version: state.version.version,\r\n        script\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: (...args: any)=> void) {\r\n    return {\r\n        saveScript: (script: IEnailScript) => dispatch(saveScript(script)),\r\n        deleteScript: (title: string) => dispatch(deleteScript(title)),\r\n        setScript: (index: number) => dispatch(setScript(index))\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, mapDispatchToProps\r\n)(withRouter(Scripts));","import * as React from 'react';\r\nimport * as GeneralSettingsProps from './container';\r\nimport { IonContent, IonItemGroup, IonItem, IonLabel, IonText, IonInput, IonItemDivider, IonButton, IonSelectPopover, IonSelectOption, IonSelect } from '@ionic/react';\r\nimport * as Constants from '../../../models/constants';\r\nimport './general.less';\r\n\r\nexport default class GeneralSettings extends React.Component<GeneralSettingsProps.IProps, GeneralSettingsProps.IState> {\r\n    constructor(props: GeneralSettingsProps.IProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            presets: {},\r\n            autoShutoff: this.props.autoShutoff,\r\n            dirty: false\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps: GeneralSettingsProps.IProps, prevState: GeneralSettingsProps.IState) {\r\n        if (nextProps.autoShutoff !== prevState.autoShutoff && !prevState.dirty) {\r\n            return {\r\n                autoShutoff: nextProps.autoShutoff\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    submit = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.props.persistSavedState({\r\n            presets: this.props.presets.map((value, index) => (\r\n                this.state.presets[index]\r\n                    ? this.state.presets[index].value\r\n                    : value\r\n            )),\r\n            autoShutoff: this.state.autoShutoff\r\n        });\r\n        setTimeout((() => {\r\n            this.setState({\r\n                dirty: false\r\n            }, () => {\r\n                this.props.history.push('/home');\r\n            });    \r\n        }).bind(this), 500);\r\n    }\r\n\r\n    render() {\r\n        return <IonContent>\r\n            <IonItemGroup class=\"settings\">\r\n                <IonItemDivider>\r\n                    <IonLabel>Presets</IonLabel>\r\n                </IonItemDivider>\r\n                {this.props.presets.map((preset, index) => {\r\n                    return <IonItem>\r\n                        <IonLabel position=\"fixed\">Preset #{index+1}</IonLabel>\r\n                        <IonInput \r\n                            type=\"number\"\r\n                            value={this.state.presets[index] !== undefined\r\n                                ? this.state.presets[index].value === 0\r\n                                    ? ''\r\n                                    : this.state.presets[index].value.toString() \r\n                                : preset.toString()}\r\n                            required={true}\r\n                            placeholder={`Preset #${index+1}`}\r\n                            onIonChange={event => {\r\n                                const value = parseInt(event.detail.value || '0');\r\n                                if (isNaN(value)) {\r\n                                    return;\r\n                                }\r\n\r\n                                this.setState({\r\n                                    presets: {\r\n                                        ...this.state.presets,\r\n                                        [index]: {\r\n                                            value,\r\n                                            validationStatus: 'success',\r\n                                            errorMsg: ''\r\n                                        }\r\n                                    },\r\n                                    dirty: true\r\n                                });\r\n                            }}\r\n                        />\r\n                    </IonItem>;\r\n                })}\r\n                <IonItemDivider>\r\n                    <IonLabel>Auto Shutoff</IonLabel>\r\n                </IonItemDivider>\r\n                <IonItem>\r\n                    <IonLabel position=\"fixed\"># of Minutes</IonLabel>\r\n                    <IonInput \r\n                        type=\"number\"\r\n                        value={this.state.autoShutoff === 0 ? '' : this.state.autoShutoff.toString()}\r\n                        required={true}\r\n                        placeholder={`minutes`}\r\n                        onIonChange={event => {\r\n                            const value = parseInt(event.detail.value || '0');\r\n                            if (isNaN(value)) {\r\n                                return;\r\n                            }\r\n\r\n                            this.setState({\r\n                                autoShutoff: value,\r\n                                dirty: true\r\n                            });\r\n                        }}\r\n                    />\r\n                </IonItem>\r\n                <IonItemDivider>\r\n                    <IonLabel>Theme</IonLabel>\r\n                </IonItemDivider>\r\n                <IonItem class=\"theme\">\r\n                    <IonLabel position=\"fixed\">Current</IonLabel>\r\n                    <IonSelect onIonChange={(event) => this.props.setTheme(event.detail.value)} value={this.props.theme}>\r\n                        <IonSelectPopover>\r\n                            <IonSelectOption key=\"dark\" value=\"dark\">Dark</IonSelectOption>\r\n                            <IonSelectOption key=\"ionic\" value=\"ionic\">Ionic</IonSelectOption>\r\n                        </IonSelectPopover>\r\n                    </IonSelect>\r\n                </IonItem>\r\n            </IonItemGroup>\r\n            <IonItem class=\"settings\">\r\n                <IonButton \r\n                    type=\"submit\"\r\n                    size=\"default\"\r\n                    disabled={!this.state.dirty}\r\n                    onClick={this.submit}\r\n                >\r\n                    Save\r\n                </IonButton>                \r\n            </IonItem>\r\n        </IonContent>\r\n    }\r\n}","import { connect } from 'react-redux'\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { IEnailStore } from '../../../models/IEnailStore';\nimport GeneralSettings from './general';\nimport { IEnailEmitState } from '../../../models/IEnailEmitState';\nimport { ISavedState } from '../../../models/ISavedState';\nimport { persistSavedState, setTheme } from '../../../reducers/enailReducer';\n\nexport interface IStateProps {\n    readonly version: string;\n    readonly state?: IEnailEmitState;\n    readonly presets: number[];\n    readonly autoShutoff: number;\n    readonly theme: string;\n}\n\nexport interface IDispatchProps {\n    persistSavedState: (savedState: ISavedState) => void;\n    setTheme: (theme: string) => void;\n}\n\nexport interface IOwnProps {\n}\n\nexport interface IProps extends RouteComponentProps<any>, IStateProps, IDispatchProps, IOwnProps {\n}\n\nexport interface IState {\n    readonly presets: {\n        [index: number]: {\n            value: number;\n            validationStatus: 'success'|'warning'|'error'|'validating'|undefined;\n            errorMsg: string|undefined;    \n        }\n    };\n    readonly autoShutoff: number;\n    readonly dirty: boolean;\n}\n\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\n    return {\n        version: state.version.version,\n        state: state.enail.emitState,\n        presets: state.enail.presets,\n        autoShutoff: state.enail.autoShutoff,\n        theme: state.enail.theme\n    };\n}\n\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\n    return {\n        persistSavedState: (savedState: ISavedState) => dispatch(persistSavedState(savedState)),\n        setTheme: (theme: string) => dispatch(setTheme(theme))\n    };\n}\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(withRouter(GeneralSettings));","import * as React from 'react';\r\nimport uuid from  'uuid/v4';\r\nimport * as ProfilesProps from './container';\r\nimport './profiles.less';\r\nimport { IonContent, IonItemGroup, IonItem, IonSelect, IonSelectOption, IonLabel, IonItemDivider, IonInput, IonButton, IonAlert } from '@ionic/react';\r\n\r\nexport default class Profiles extends React.Component<ProfilesProps.IProps, ProfilesProps.IState> {\r\n    constructor(props: ProfilesProps.IProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            p: this.props.p,\r\n            i: this.props.i,\r\n            d: this.props.d,\r\n            start: {\r\n                p: this.props.p,\r\n                i: this.props.i,\r\n                d: this.props.d,\r\n                profile: this.props.profile\r\n            },\r\n            profile: this.props.profile,\r\n            dirty: false,\r\n            saveDialogOpen: false,\r\n            deleteDialogOpen: false,\r\n            tuning: this.props.tuning\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps: ProfilesProps.IProps, prevState: ProfilesProps.IState) {\r\n        let newState = {};\r\n\r\n        if (nextProps.p !== prevState.start.p) {\r\n            newState = {\r\n                ...newState,\r\n                p: nextProps.p,\r\n                start: {\r\n                    ...prevState.start,\r\n                    p: nextProps.p\r\n                }\r\n            };\r\n        }\r\n        if (nextProps.i !== prevState.start.i) {\r\n            newState = {\r\n                ...newState,\r\n                i: nextProps.i,\r\n                start: {\r\n                    ...prevState.start,\r\n                    i: nextProps.i\r\n                }\r\n            };\r\n        }\r\n        if (nextProps.d !== prevState.start.d) {\r\n            newState = {\r\n                ...newState,\r\n                d: nextProps.d,\r\n                start: {\r\n                    ...prevState.start,\r\n                    d: nextProps.d\r\n                }            \r\n            };\r\n        }\r\n        if (nextProps.profile !== prevState.start.profile) {\r\n            newState = {\r\n                ...newState,\r\n                profile: nextProps.profile || '',\r\n                start: {\r\n                    ...prevState.start,\r\n                    profile: nextProps.profile\r\n                }            \r\n            };\r\n        }\r\n\r\n        if (nextProps.tuning !== prevState.tuning) {\r\n            if (!nextProps.tuning) {\r\n                newState = {\r\n                    tuning: nextProps.tuning,\r\n                    profile: '',\r\n                    dirtry: true\r\n                };\r\n            } else {\r\n                newState = {\r\n                    tuning: nextProps.tuning\r\n                };\r\n            }\r\n        }\r\n\r\n        if (newState === {}) {\r\n            return null;\r\n        } else {\r\n            return newState;\r\n        }\r\n    }\r\n\r\n    savePidSettings = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            saveDialogOpen: true\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return <React.Fragment>\r\n            <IonContent>\r\n                <IonItemGroup class=\"profiles\">\r\n                    <IonItemDivider><IonLabel>Current Profile</IonLabel></IonItemDivider>\r\n                    <IonItem class=\"profiles-current\">\r\n                        <IonSelect value={this.state.profile}\r\n                            style={this.props.profile !== this.state.profile \r\n                                ? {\r\n                                    color: 'var(--ion-color-danger)'\r\n                                } \r\n                                : {}\r\n                            }\r\n                            disabled={this.state.tuning}\r\n                            onIonChange={event => {\r\n                                const profile = this.props.profiles[event.detail.value];\r\n                                if (!profile) {\r\n                                    return;\r\n                                }\r\n\r\n                                this.setState({\r\n                                    profile: profile.key,\r\n                                    p: profile.p,\r\n                                    i: profile.i,\r\n                                    d: profile.d\r\n                                });\r\n                            }}\r\n                        >\r\n                            {this.props.profiles \r\n                                ? Object.keys(this.props.profiles).map((key) => {\r\n                                    const profile = this.props.profiles[key];\r\n                                    return <IonSelectOption key={profile.key} value={profile.key}>\r\n                                        {profile.title}\r\n                                    </IonSelectOption>\r\n                                })\r\n                                : ''\r\n                            }\r\n                        </IonSelect>\r\n                    </IonItem>\r\n                    <IonItemDivider><IonLabel>Profile Settings</IonLabel></IonItemDivider>\r\n                    <IonItem>\r\n                        <IonLabel slot=\"start\">Proportional Band</IonLabel>\r\n                        <IonInput \r\n                                type=\"number\"\r\n                                value={this.state.p.toString()}\r\n                                required={true}\r\n                                placeholder={`P`}\r\n                                disabled={this.state.tuning}\r\n                                onIonChange={event => {\r\n                                    const value = parseInt(event.detail.value || '0');\r\n                                    if (isNaN(value)) {\r\n                                        return;\r\n                                    }\r\n                                    if (this.state.p !== value) {\r\n                                        this.setState({\r\n                                            p: value,\r\n                                            dirty: true\r\n                                        });\r\n                                    }\r\n                                }}\r\n                            />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel slot=\"start\">Integral Time</IonLabel>\r\n                        <IonInput \r\n                                type=\"number\"\r\n                                value={this.state.i.toString()}\r\n                                required={true}\r\n                                placeholder={`I`}\r\n                                disabled={this.state.tuning}\r\n                                onIonChange={event => {\r\n                                    const value = parseInt(event.detail.value || '0');\r\n                                    if (isNaN(value)) {\r\n                                        return;\r\n                                    }\r\n\r\n                                    if (this.state.i !== value) {\r\n                                        this.setState({\r\n                                            i: value,\r\n                                            dirty: true\r\n                                        });\r\n                                    }\r\n                                }}\r\n                            />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel slot=\"start\">Derivative Time</IonLabel>\r\n                        <IonInput \r\n                                type=\"number\"\r\n                                value={this.state.d.toString()}\r\n                                required={true}\r\n                                placeholder={`D`}\r\n                                disabled={this.state.tuning}\r\n                                onIonChange={event => {\r\n                                    const value = parseInt(event.detail.value || '0');\r\n                                    if (isNaN(value)) {\r\n                                        return;\r\n                                    }\r\n\r\n                                    if (this.state.d !== value) {\r\n                                        this.setState({\r\n                                            d: value,\r\n                                            dirty: true\r\n                                        });\r\n                                    }\r\n                                }}\r\n                            />\r\n                    </IonItem>\r\n                </IonItemGroup>\r\n                <IonItem class=\"profiles\">\r\n                    <div className=\"profiles-buttons\">\r\n                    <IonButton \r\n                        type=\"submit\"\r\n                        size=\"default\"\r\n                        disabled={this.state.tuning || (this.state.profile !== '' && (!this.state.dirty && (this.props.profile === this.state.profile)))}\r\n                        onClick={this.savePidSettings}\r\n                    >\r\n                        Save\r\n                    </IonButton>                \r\n                    <IonButton \r\n                        type=\"button\"\r\n                        size=\"default\"\r\n                        disabled={this.state.tuning}\r\n                        onClick={() => this.setState({deleteDialogOpen: true})}\r\n                    >\r\n                        Delete\r\n                    </IonButton>                \r\n                    <IonButton \r\n                        type=\"button\"\r\n                        size=\"default\"\r\n                        disabled={this.state.tuning}\r\n                        onClick={() => this.setState({\r\n                            profile: ''\r\n                        })}\r\n                    >\r\n                        New\r\n                    </IonButton>                \r\n                    <IonButton \r\n                        type=\"button\"\r\n                        size=\"default\"\r\n                        disabled={this.state.tuning !== this.props.tuning}\r\n                        onClick={() => {\r\n                            this.setState({\r\n                                tuning: !this.props.tuning\r\n                            }, () => {\r\n                                this.props.toggleTuning()\r\n                            });\r\n                        }}\r\n                    >\r\n                        {this.state.tuning ? 'Cancel Tuning' : 'Auto-Tune'}\r\n                    </IonButton>                \r\n                    </div>\r\n                </IonItem>\r\n            </IonContent>\r\n            <IonAlert\r\n                isOpen={this.state.saveDialogOpen}\r\n                onDidDismiss={() => this.setState({ saveDialogOpen: false })}\r\n                header={'Save Profile?'}\r\n                message={'Please enter the profile title.'}\r\n                inputs={[{\r\n                    name: 'title',\r\n                    type: 'text',\r\n                    value: this.state.profile && this.props.profiles[this.state.profile]\r\n                        ? this.props.profiles[this.state.profile].title \r\n                        : '',\r\n                    placeholder: 'Profile Title'\r\n                }]}\r\n                buttons={[{\r\n                    text: 'Cancel',\r\n                    role: 'cancel',\r\n                    cssClass: 'secondary'\r\n                }, {\r\n                    text: 'Ok',\r\n                    handler: (value) => {\r\n                        this.props.savePidSettings({\r\n                            key: this.state.profile === '' ? uuid().toUpperCase() : this.state.profile,\r\n                            title: value.title,\r\n                            p: this.state.p,\r\n                            i: this.state.i,\r\n                            d: this.state.d\r\n                        });\r\n                    }\r\n                }]}    \r\n            />\r\n            <IonAlert\r\n                isOpen={this.state.deleteDialogOpen}\r\n                onDidDismiss={() => this.setState({ deleteDialogOpen: false })}\r\n                header={'Delete Profile?'}\r\n                message={'Are you sure you want to delete this profile?'}\r\n                buttons={[{\r\n                    text: 'Cancel',\r\n                    role: 'cancel',\r\n                    cssClass: 'secondary'\r\n                }, {\r\n                    text: 'Ok',\r\n                    handler: () => {\r\n                        this.props.deleteProfile(this.state.profile);\r\n                        this.setState({\r\n                            start: {\r\n                                p: this.state.p,\r\n                                i: this.state.i,\r\n                                d: this.state.d,\r\n                                profile: this.props.profile\r\n                            },\r\n                            profile: this.props.profile,\r\n                        });\r\n                    }\r\n                }]}\r\n            />\r\n        </React.Fragment>\r\n   }\r\n}","import { connect } from 'react-redux'\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { IEnailStore } from '../../../models/IEnailStore';\nimport Profiles from './profiles';\nimport { IEnailEmitState } from '../../../models/IEnailEmitState';\nimport { ISavedState } from '../../../models/ISavedState';\nimport { persistSavedState, toggleTuning, savePidSettings, deleteProfile } from '../../../reducers/enailReducer';\nimport { IPidSettings } from '../../../models/IPidSettings';\n\nexport interface IStateProps {\n    readonly p: number;\n    readonly i: number;\n    readonly d: number;\n    readonly start: {\n        readonly p: number;\n        readonly i: number;\n        readonly d: number;\n        readonly profile: string;\n    }\n    readonly profile: string;\n    readonly profiles: {\n        [profile: string]: IPidSettings;\n    };\n    readonly tuning: boolean;\n}\n\nexport interface IDispatchProps {\n    toggleTuning: () => void;\n    savePidSettings: (settings: IPidSettings) => void;\n    deleteProfile: (profile: string) => void;\n}\n\nexport interface IOwnProps {\n}\n\nexport interface IProps extends RouteComponentProps<any>, IStateProps, IDispatchProps, IOwnProps {\n}\n\nexport interface IState {\n    readonly p: number;\n    readonly i: number;\n    readonly d: number;\n    readonly start: {\n        readonly p: number;\n        readonly i: number;\n        readonly d: number;\n        readonly profile: string;\n    }\n    readonly profile: string;\n    readonly dirty: boolean;\n    readonly saveDialogOpen: boolean;\n    readonly deleteDialogOpen: boolean;\n    readonly tuning: boolean;\n}\n\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\n    return {\n        p: state.enail.emitState ? state.enail.emitState.p : 0,\n        i: state.enail.emitState ? state.enail.emitState.i : 0,\n        d: state.enail.emitState ? state.enail.emitState.d : 0,\n        profile: state.enail.emitState ? state.enail.emitState.profile || '' : state.enail.profiles.currentProfile || '',\n        profiles: state.enail.profiles.profiles,\n        tuning: state.enail.emitState ? state.enail.emitState.tuning : false\n    };\n}\n\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\n    return {\n        toggleTuning: () => dispatch(toggleTuning()),\n        savePidSettings: (settings: IPidSettings) => dispatch(savePidSettings(settings)),\n        deleteProfile: (profile: string) => dispatch(deleteProfile(profile))\n    };\n}\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(withRouter(Profiles));","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { IonLabel, IonHeader, IonToolbar, IonTitle, IonIcon, IonButtons, IonButton, IonPopover, IonList, IonItem } from '@ionic/react';\nimport * as SettingsProps from './container';\nimport { GeneralSettings } from './general';\nimport { Profiles } from './profiles';\nimport './settings.less';\n\nconst MIN_PRESET = 0;\nconst MAX_PRESET = 1000;\n\nexport default class Settings extends React.Component<SettingsProps.IProps, SettingsProps.IState> {\n    constructor(props: SettingsProps.IProps) {\n        super(props);\n\n        this.state = {\n            menuVisible: false\n        };\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n            <IonHeader>\n                <IonToolbar>\n                    <IonButtons slot=\"start\">\n                        <IonButton onClick={() => {\n                            this.setState({menuVisible: true});\n                        }}>\n                            <IonIcon slot=\"icon-only\" name=\"menu\" />\n                        </IonButton>\n                    </IonButtons>\n                    <IonTitle>{this.props.location.pathname.indexOf('profiles') >= 0 ? 'Profiles' : 'Settings'}</IonTitle>\n                </IonToolbar>\n            </IonHeader>\n            <Switch>\n                <Route path=\"/settings/profiles\" component={Profiles} />\n                <Route path=\"/settings\" component={GeneralSettings} />\n            </Switch>\n            <IonPopover\n                isOpen={this.state.menuVisible}\n                onDidDismiss={() => this.setState({ menuVisible: false })}\n            >\n                <IonList>\n                    <IonItem onClick={(event) => {\n                        event.preventDefault();\n                        this.props.history.push('/settings');\n                        this.setState({\n                            menuVisible: false\n                        });\n                    }}>\n                        <IonIcon name=\"settings\" slot=\"start\" />\n                        <IonLabel>Settings</IonLabel>\n                    </IonItem>\n                    <IonItem onClick={(event) => {\n                        event.preventDefault();\n                        this.props.history.push('/settings/profiles');\n                        this.setState({\n                            menuVisible: false\n                        });\n                    }}>\n                        <IonIcon name=\"options\" slot=\"start\" />\n                        <IonLabel>Profiles</IonLabel>\n                    </IonItem>\n                </IonList>\n            </IonPopover>                \n            </React.Fragment>\n        );\n    }\n}","/*\n * File: c:\\fc-enail\\fc-enail-client\\src\\routes\\settings\\container.ts\n * Project: c:\\fc-enail\\fc-enail-client\n * Created Date: Tuesday November 13th 2018\n * Author: J-Cat\n * -----\n * Last Modified:\n * Modified By:\n * -----\n * License: \n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\n * -----\n * Copyright (c) 2018\n */\nimport { connect } from 'react-redux'\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { IEnailStore } from '../../models/IEnailStore';\nimport Settings from './settings';\nimport { IEnailEmitState } from '../../models/IEnailEmitState';\nimport { ISavedState } from '../../models/ISavedState';\nimport { persistSavedState, toggleTuning, savePidSettings, deleteProfile } from '../../reducers/enailReducer';\nimport { IPidSettings } from '../../models/IPidSettings';\n\nexport interface IStateProps {\n}\n\nexport interface IDispatchProps {\n}\n\nexport interface IOwnProps {\n}\n\nexport interface IProps extends RouteComponentProps<any>, IStateProps, IDispatchProps, IOwnProps {\n}\n\nexport interface IState {\n    readonly menuVisible: boolean;\n}\n\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\n    return {\n    };\n}\n\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\n    return {\n    };\n}\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(withRouter(Settings));","/*\r\n * File: c:\\fc-enail\\fc-enail-client\\src\\config\\index.ts\r\n * Project: c:\\fc-enail\\fc-enail-client\r\n * Created Date: Sunday November 11th 2018\r\n * Author: J-Cat\r\n * -----\r\n * Last Modified:\r\n * Modified By:\r\n * -----\r\n * License: \r\n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \r\n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\r\n * -----\r\n * Copyright (c) 2018\r\n */\r\nexport interface IConfig {\r\n    readonly serviceUrl: string;\r\n    readonly socketIoUrl: string;\r\n}\r\n\r\nconst config: IConfig = require('./config.json');\r\n\r\nexport default config;\r\n","/*\r\n * File: c:\\fc-enail\\fc-enail-client\\src\\routes\\reconnect\\reconnect.tsx\r\n * Project: c:\\fc-enail\\fc-enail-client\r\n * Created Date: Tuesday November 13th 2018\r\n * Author: J-Cat\r\n * -----\r\n * Last Modified:\r\n * Modified By:\r\n * -----\r\n * License: \r\n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \r\n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\r\n * -----\r\n * Copyright (c) 2018\r\n */\r\nimport * as React from 'react';\r\n\r\nimport * as ReconnectProps from './container';\r\nimport * as Constants from '../../models/constants';\r\nimport config from '../../config';\r\n\r\nimport './reconnect.less';\r\nimport { IonContent, IonLabel, IonHeader, IonText, IonGrid, IonRow, IonCol, IonInput, IonButton } from '@ionic/react';\r\n\r\nexport default class Reconnect extends React.Component<ReconnectProps.IProps, ReconnectProps.IState> {\r\n\r\n    constructor(props: ReconnectProps.IProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            serviceUrl: localStorage.getItem(Constants.LOCAL_STORAGE_FCENAIL_SERVICE_URL) || config.serviceUrl\r\n        };\r\n    }\r\n\r\n    submit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        this.props.connectManual(this.state.serviceUrl);\r\n    }\r\n\r\n    handleInputChange = (e: Event) => {\r\n        if (e.target) {\r\n            const input = e.target as HTMLInputElement;\r\n            this.setState({\r\n                serviceUrl: input.value\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <IonContent class=\"reconnect\" scrollY={false}>\r\n                <form onSubmit={this.submit}>\r\n                    <IonLabel class=\"version-label\">{this.props.version}</IonLabel>\r\n                    <IonHeader class=\"reconnect-header\">\r\n                        <IonText>FC E-Nail</IonText>\r\n                    </IonHeader>\r\n                    <IonGrid class=\"reconnect-content\">\r\n                        <IonRow class=\"reconnect-content-datarow\">\r\n                            <IonCol>\r\n                                <IonLabel \r\n                                    class=\"reconnect-content-datarow-label\"\r\n                                >\r\n                                    Please enter the service URL.\r\n                                </IonLabel>\r\n                                <IonInput\r\n                                    class=\"reconnect-content-datarow-input\"\r\n                                    type=\"url\"\r\n                                    autoCorrect=\"off\"\r\n                                    name=\"serviceUrl\"\r\n                                    placeholder=\"http://<IP Address>\"\r\n                                    onInput={this.handleInputChange}\r\n                                    value={this.state.serviceUrl}\r\n                                    required={true}\r\n                                    autofocus={true}\r\n                                />\r\n                            </IonCol>\r\n                        </IonRow>\r\n                        <IonRow class=\"reconnect-content-buttonrow\">\r\n                            <IonCol>\r\n                                <IonButton \r\n                                    type=\"submit\"\r\n                                >\r\n                                    Submit\r\n                                </IonButton>\r\n                            </IonCol>\r\n                        </IonRow>\r\n                    </IonGrid>\r\n                </form>\r\n            </IonContent>\r\n        );\r\n    }\r\n}\r\n","/*\r\n * File: c:\\fc-enail\\fc-enail-client\\src\\routes\\reconnect\\container.ts\r\n * Project: c:\\fc-enail\\fc-enail-client\r\n * Created Date: Tuesday November 13th 2018\r\n * Author: J-Cat\r\n * -----\r\n * Last Modified:\r\n * Modified By:\r\n * -----\r\n * License: \r\n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \r\n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\r\n * -----\r\n * Copyright (c) 2018\r\n */\r\nimport { connect } from 'react-redux'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { IEnailStore } from '../../models/IEnailStore';\r\nimport Reconnect from './reconnect';\r\nimport { connectManual } from '../../reducers/enailReducer';\r\n\r\nexport interface IStateProps {\r\n    readonly version: string;\r\n}\r\n\r\nexport interface IDispatchProps {\r\n    connectManual: (serviceUrl: string) => void;\r\n}\r\n\r\nexport interface IOwnProps {\r\n}\r\n\r\nexport interface IProps extends RouteComponentProps<any>, IStateProps, IDispatchProps, IOwnProps {\r\n}\r\n\r\nexport interface IState {\r\n    readonly serviceUrl: string;\r\n}\r\n\r\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\r\n    return {\r\n        version: state.version.version\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\r\n    return {\r\n        connectManual: (serviceUrl: string) => dispatch(connectManual(serviceUrl))\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, mapDispatchToProps\r\n)(withRouter(Reconnect));","/*\n * File: c:\\fc-enail\\fc-enail-client\\src\\routes\\signin\\signin.tsx\n * Project: c:\\fc-enail\\fc-enail-client\n * Created Date: Tuesday November 13th 2018\n * Author: J-Cat\n * -----\n * Last Modified:\n * Modified By:\n * -----\n * License: \n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\n * -----\n * Copyright (c) 2018\n */\nimport * as React from 'react';\nimport * as SignInProps from './container';\nimport './signin.less';\nimport { IonContent, IonLabel, IonHeader, IonText, IonGrid, IonRow, IonInput, IonButton, IonItem, IonCol } from '@ionic/react';\n\nexport default class SignIn extends React.Component<SignInProps.IProps, SignInProps.IState> {\n\n    constructor(props: SignInProps.IProps) {\n        super(props);\n\n        this.state = {\n            passphrase: ''\n        };\n    }\n\n    submit = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!this.props.ready) {\n            return;\n        }\n        this.props.verifyPassphrase(this.state.passphrase);\n    }\n\n    handleInputChange = (e: Event) => {\n        if (e.target) {\n            const input = e.target as HTMLInputElement;\n            this.setState({\n                passphrase: input.value\n            });\n        }\n    }\n\n    render() {\n        return (\n            <IonContent class=\"signin\" scrollY={false}>\n                <form onSubmit={this.submit}>\n                    <IonLabel class=\"version-label\">{this.props.version}</IonLabel>\n                    <IonHeader class=\"signin-header\">\n                        <IonText>FC E-Nail</IonText>\n                    </IonHeader>\n                    <IonGrid class=\"signin-content\">\n                        <IonRow class=\"signin-content-datarow\">\n                            <IonCol>\n                                <IonLabel \n                                    class=\"signin-content-datarow-label\"\n                                    color={this.props.tokenError?'danger':''}\n                                >\n                                    {this.props.tokenError\n                                        ? 'Failed to verify the token.  Please try again.'\n                                        : 'Please enter the passphrase from the E-Nail.'\n                                    }\n                                </IonLabel>\n                                <IonInput\n                                    class=\"signin-content-datarow-input\"\n                                    type=\"text\"\n                                    autoCorrect=\"off\"\n                                    name=\"passphrase\"\n                                    placeholder=\"passphrase\"\n                                    onInput={this.handleInputChange}\n                                    required={true}\n                                    title=\"Passphrase did not match that on the e-nail.\"\n                                    autofocus={true}\n                                />\n                            </IonCol>\n                        </IonRow>\n                        <IonRow class=\"signin-content-buttonrow\">\n                            <IonCol>\n                                <IonButton \n                                    type=\"submit\"\n                                    disabled={!this.props.ready}\n                                >\n                                    Submit\n                                </IonButton>\n                            </IonCol>\n                        </IonRow>\n                    </IonGrid>\n                </form>\n            </IonContent>\n        );\n    }\n}\n","import { connect } from 'react-redux'\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { IEnailStore } from '../../models/IEnailStore';\nimport SignIn from './signin';\nimport { verifyPassphrase } from '../../reducers/enailReducer';\n\nexport interface IStateProps {\n    readonly version: string;\n    readonly tokenError: boolean;\n    readonly ready: boolean;\n}\n\nexport interface IDispatchProps {\n    verifyPassphrase: (passphrase: string) => void;\n}\n\nexport interface IOwnProps {\n}\n\nexport interface IProps extends RouteComponentProps<{}>, IStateProps, IDispatchProps, IOwnProps {\n}\n\nexport interface IState {\n    passphrase: string;\n}\n\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\n    return {\n        version: state.version.version,\n        tokenError: state.enail.tokenError,\n        ready: !state.enail.requesting // && state.enail.connected\n    };\n}\n\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\n    return {\n        verifyPassphrase: (passphrase: string) => dispatch(verifyPassphrase(passphrase))\n    };\n}\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(withRouter(SignIn));","import * as React from 'react';\r\nimport { withRouter, RouteComponentProps, Route, Redirect } from 'react-router';\r\nimport { IonApp, IonTabBar, IonTabButton, IonLabel, IonIcon, IonTabs, IonRouterOutlet, IonPage } from '@ionic/react';\r\nimport { Home } from './routes/home';\r\nimport { Scripts } from './routes/scripts';\r\nimport { Settings } from './routes/settings';\r\nimport { Reconnect } from './routes/reconnect';\r\nimport { SignIn } from './routes/signin';\r\nimport * as Constants from './models/constants';\r\nimport * as AppProps from './AppContainer';\r\n\r\nimport './App.less';\r\n\r\nexport class App extends React.Component<AppProps.IProps, AppProps.IState> {\r\n  constructor(props: AppProps.IProps) {\r\n    super(props);\r\n\r\n    if (this.props.location.pathname === '/') {\r\n      this.props.history.push('/home');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <IonApp class=\"app\">\r\n        <link rel=\"stylesheet\" type=\"text/css\" href={`./themes/theme.${this.props.theme}.css`} />\r\n        <IonPage className=\"app-page\">\r\n          <IonTabs>\r\n            <IonRouterOutlet>\r\n                <Route path=\"/:tab(home)\" component={Home} exact={true} />\r\n                <Route path=\"/:tab(scripts)\" component={Scripts} exact={true} />\r\n                <Route path=\"/:tab(settings)\" component={Settings} />\r\n                <Route path=\"/connect\" component={Reconnect} />\r\n                <Route path=\"/signin\" component={SignIn} />\r\n            </IonRouterOutlet>\r\n            <IonTabBar slot=\"bottom\" class=\"app-page-tabbar\">\r\n              <IonTabButton tab=\"home\" href=\"/home\">\r\n                <IonLabel>Home</IonLabel>\r\n                <IonIcon name=\"home\" />\r\n              </IonTabButton>\r\n              <IonTabButton tab=\"scripts\" href=\"/scripts\">\r\n                <IonLabel>Scripts</IonLabel>\r\n                <IonIcon name=\"code\" />\r\n              </IonTabButton>\r\n              <IonTabButton tab=\"settings\" href=\"/settings\">\r\n                <IonLabel>Settings</IonLabel>\r\n                <IonIcon name=\"settings\" />\r\n              </IonTabButton>\r\n            </IonTabBar>\r\n          </IonTabs>\r\n        </IonPage>\r\n      </IonApp>\r\n    );\r\n  }\r\n\r\n  // private navigate = (destination: string) => {\r\n  //   this.props.history.push(destination);\r\n  // }\r\n}\r\n\r\nexport default withRouter(App);\r\n\r\n","import { connect } from 'react-redux'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { IEnailStore } from './models/IEnailStore';\r\nimport { App } from './App';\r\n\r\nexport interface IStateProps {\r\n    readonly theme: string;\r\n}\r\n\r\nexport interface IDispatchProps {\r\n}\r\n\r\nexport interface IOwnProps {\r\n}\r\n\r\nexport interface IProps extends RouteComponentProps<{}>, IStateProps, IDispatchProps, IOwnProps {\r\n}\r\n\r\nexport interface IState {\r\n    passphrase: string;\r\n}\r\n\r\nfunction mapStateToProps(state: IEnailStore, ownProps: IOwnProps) {\r\n    return {\r\n        theme: state.enail.theme\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: (...args: any[]) => void) {\r\n    return {\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, mapDispatchToProps\r\n)(withRouter(App));","import { createHashHistory } from 'history';\r\n\r\nexport default createHashHistory();","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*\r\n * File: c:\\solar\\solar-monitor-client\\src\\modules\\version.ts\r\n * Project: c:\\solar\\solar-monitor-client\r\n * Created Date: Monday September 3rd 2018\r\n * Author: J-Cat\r\n * -----\r\n * Last Modified:\r\n * Modified By:\r\n * -----\r\n * License: \r\n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \r\n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\r\n * -----\r\n * Copyright (c) 2018\r\n */\r\nimport { IVersionState } from \"../models/IVersionState\";\r\nimport * as Constants from '../models/constants';\r\nimport { IBasicAction } from '../models/Actions';\r\n\r\nconst pjson: { version: string } = require('../../package.json');\r\n\r\nexport const updateVersion = (newVersion: string) => {\r\n    return {\r\n        type: Constants.UPDATE_VERSION,\r\n        payload: newVersion\r\n    };\r\n}\r\nexport const versionReducer = (state: IVersionState = { version: pjson.version }, action: IBasicAction): IVersionState => {\r\n    switch (action.type) {\r\n        case Constants.UPDATE_VERSION: {\r\n            return {\r\n                ...state,\r\n                version: action.payload as string\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n","import { combineReducers, Reducer } from 'redux';\r\nimport { IEnailStore } from '../models/IEnailStore';\r\nimport { enailReducer } from './enailReducer';\r\nimport { versionReducer } from './versionReducer';\r\n\r\nconst makeRootReducer: Reducer<IEnailStore> = \r\n    combineReducers({\r\n        enail: enailReducer,\r\n        version: versionReducer\r\n    });\r\n\r\nexport default makeRootReducer;","import { Dispatch, Store } from 'redux';\r\nimport io from 'socket.io-client';\r\nimport { \r\n    connectSocket, socketConnected, socketDisconnected, \r\n    receiveEnailState, \r\n    getScripts, getSavedState, getProfiles,\r\n    generatePassphrase, \r\n    loadToken, tokenLoaded\r\n} from '../reducers/enailReducer';\r\nimport history from '../history';\r\nimport { IEnailStore } from '../models/IEnailStore';\r\nimport * as Constants from '../models/constants';\r\nimport { EnailAction } from '../models/Actions';\r\nimport { IEnailEmitState } from '../models/IEnailEmitState';\r\nimport { IVerifyTokenResponse } from '../models/IVerifyTokenResponse';\r\n\r\nexport const socketIoMiddleware = (store: Store<IEnailStore>) => <A extends EnailAction>(next: Dispatch<A>) => (action: A) => {\r\n    // broadcast posts from MTU/ECC or from another controller diretly to SocketIO\r\n    const result = next(action);\r\n\r\n    switch (action.type) {\r\n        case Constants.SOCKET_CONNECT: {\r\n            const socketIo = io(localStorage.getItem(Constants.LOCAL_STORAGE_FCENAIL_SERVICE_URL) as string, {\r\n                query: 'token=' + store.getState().enail.token\r\n            });\r\n            socketIo.connect();\r\n            socketIo.on('connect', () => {\r\n                store.dispatch(socketConnected())\r\n            });\r\n            socketIo.on('disconnect', () => {\r\n                store.dispatch(socketDisconnected())\r\n            });\r\n            socketIo.on(Constants.SOCKET_EMIT_STATE, (reading: IEnailEmitState) => {\r\n                store.dispatch(receiveEnailState(reading));\r\n            });\r\n            break;\r\n        }\r\n\r\n        case Constants.RECONNECT: {\r\n            history.push('connect');\r\n            break;\r\n        }\r\n\r\n        case Constants.SERVICE_FOUND: {\r\n            localStorage.setItem(Constants.LOCAL_STORAGE_FCENAIL_SERVICE_URL, action.payload as string);\r\n            const key = localStorage.getItem(Constants.LOCAL_STORAGE_FCENAIL_KEY);\r\n            if (!key) {\r\n                store.dispatch<any>(generatePassphrase());\r\n                history.push('signin');\r\n            } else {\r\n                store.dispatch<any>(loadToken(key));\r\n            }\r\n            break;\r\n        }\r\n\r\n        case Constants.PASSPHRASE_VERIFY_RESPONSE: {\r\n            const response = action.payload as IVerifyTokenResponse;\r\n            if (response.success) {\r\n                localStorage.setItem(Constants.LOCAL_STORAGE_FCENAIL_KEY, response.token);\r\n                store.dispatch<any>(tokenLoaded());\r\n            }\r\n            break;\r\n        }\r\n\r\n        case Constants.LOAD_TOKEN: {\r\n            store.dispatch(tokenLoaded());\r\n            break;\r\n        }\r\n\r\n        case Constants.TOKEN_LOADED: {\r\n            store.dispatch<any>(getScripts());\r\n            store.dispatch<any>(getProfiles());\r\n            store.dispatch<any>(getSavedState());\r\n            store.dispatch<any>(connectSocket());\r\n            break;\r\n        }\r\n\r\n        case Constants.SOCKET_CONNECTED: {\r\n            // history.push('home');\r\n            break;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}","/*\n * File: c:\\fc-enail\\fc-enail-client\\src\\store\\securityMiddleware.ts\n * Project: c:\\fc-enail\\fc-enail-client\n * Created Date: Thursday November 15th 2018\n * Author: J-Cat\n * -----\n * Last Modified:\n * Modified By:\n * -----\n * License: \n *    This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 \n *    International License (http://creativecommons.org/licenses/by-nc/4.0/).\n * -----\n * Copyright (c) 2018\n */\nimport { Store, Dispatch } from \"redux\";\nimport { RSAA } from \"redux-api-middleware\";\nimport { IEnailStore } from \"../models/IEnailStore\";\nimport { EnailAction } from \"../models/Actions\";\nimport { generatePassphrase } from '../reducers/enailReducer';\nimport history from '../history';\n\nexport const securityMiddleware = (store: Store<IEnailStore>) => <A extends EnailAction>(next: Dispatch<A>) => (action: A) => {\n    const callApi = action[RSAA] || null;\n\n    if (!!callApi) {\n        const token = store.getState().enail.token;\n        if (token) {\n            // const userName = user.username;\n            callApi.headers = {\n                ...callApi.headers,\n                authorization: token,\n                'Content-Type': 'application/json'\n            };\n        }\n    }\n\n    return next(action);\n}\n\nexport const authorizationMiddleware = (store: Store<IEnailStore>) => <A extends EnailAction>(next: Dispatch<A>) => (action: A) => {\n    if (action.type.endsWith('/ERROR')) {\n        const payload = action.payload as any;\n        if (payload && payload.status \n            && (typeof(payload.status) === 'number')\n            && (payload.status === 401)\n        ) {\n            store.dispatch<any>(generatePassphrase());\n            history.push('signin');\n        }\n    }\n\n    return next(action);\n}","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { Store } from 'redux';\r\nimport { CodePush, InstallMode } from '@ionic-native/code-push';\r\n\r\nimport App from './AppContainer';\r\n\r\nimport '@ionic/core/css/core.css';\r\nimport '@ionic/core/css/ionic.bundle.css';\r\n\r\nimport './index.less';\r\n\r\nimport history from './history';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nimport { configureStore } from './store/createStore';\r\nimport { IEnailStore } from './models/IEnailStore';\r\nimport { EnailAction } from './models/Actions';\r\nimport { updateVersion } from './reducers/versionReducer';\r\n// import { registerIonic } from '@ionic/react';\r\n\r\nconst startApp = () => {\r\n  const initialState = (window as any).__INITIAL_STATE__;\r\n  const store: Store<IEnailStore, EnailAction> = configureStore(initialState);\r\n\r\n  // registerIonic();\r\n\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <App />\r\n      </Router>\r\n    </Provider>,\r\n    document.getElementById('root') as HTMLElement\r\n  );\r\n\r\n  CodePush.sync({\r\n    installMode: InstallMode.IMMEDIATE,\r\n    mandatoryInstallMode: InstallMode.IMMEDIATE,\r\n    updateDialog: {\r\n      appendReleaseDescription: true\r\n    }\r\n  }).subscribe(data => {\r\n    // alert('Updater successfull:' + data);\r\n  }, err => {\r\n    // alert('Update error:' + err);\r\n  });\r\n\r\n  CodePush.getCurrentPackage().then(packInfo => {\r\n    if (packInfo && packInfo.label) {\r\n        const version = store.getState().version.version + \".\" + packInfo.label;\r\n        store.dispatch(updateVersion(version));\r\n    }\r\n  });\r\n\r\n  document.addEventListener(\"resume\", () => {\r\n    CodePush.sync({\r\n      installMode: InstallMode.IMMEDIATE,\r\n      mandatoryInstallMode: InstallMode.IMMEDIATE,\r\n      updateDialog: {\r\n        appendReleaseDescription: true\r\n      }\r\n    }).subscribe(data => {\r\n      // alert('Updater successfull:' + data);\r\n    }, err => {\r\n      // alert('Update error:' + err);\r\n    });\r\n  });  \r\n\r\n  registerServiceWorker();\r\n};\r\n\r\nif (window.cordova) {\r\n  document.addEventListener('deviceready', startApp, false);\r\n} else {\r\n  startApp();\r\n}","import makeRootReducer from '../reducers';\r\nimport {\r\n    applyMiddleware,\r\n    compose,\r\n    createStore,\r\n    Store\r\n} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { apiMiddleware } from 'redux-api-middleware';\r\n\r\nimport { EnailAction } from '../models/Actions';\r\nimport { IEnailStore } from '../models/IEnailStore';\r\nimport { socketIoMiddleware } from './socketIoMiddleware';\r\nimport { reconnect } from '../reducers/enailReducer';\r\nimport { securityMiddleware, authorizationMiddleware } from './securityMiddleware';\r\n\r\nexport function configureStore(initialState?: IEnailStore): Store<IEnailStore, EnailAction> {\r\n    const middlewares: any = [\r\n        thunk,\r\n        securityMiddleware,\r\n        apiMiddleware,\r\n        authorizationMiddleware,\r\n        socketIoMiddleware\r\n    ];\r\n\r\n    const composeEnhancers = (typeof window === 'object' && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\n    const newState = initialState || {} as IEnailStore;\r\n    const store: Store<IEnailStore, EnailAction> = createStore(makeRootReducer, newState,         \r\n        composeEnhancers(applyMiddleware(...middlewares))\r\n    );\r\n\r\n    store.dispatch<any>(reconnect(true, false));\r\n    \r\n    return store;\r\n}","var map = {\n\t\"./1fcq78hk.entry.js\": [\n\t\t1014,\n\t\t96\n\t],\n\t\"./1fcq78hk.sc.entry.js\": [\n\t\t1015,\n\t\t97\n\t],\n\t\"./2i50w2lv.entry.js\": [\n\t\t1016,\n\t\t98\n\t],\n\t\"./2i50w2lv.sc.entry.js\": [\n\t\t1017,\n\t\t99\n\t],\n\t\"./39fhulxe.entry.js\": [\n\t\t1018,\n\t\t100\n\t],\n\t\"./39fhulxe.sc.entry.js\": [\n\t\t1019,\n\t\t101\n\t],\n\t\"./3hbcnxuc.entry.js\": [\n\t\t1020,\n\t\t24\n\t],\n\t\"./3hbcnxuc.sc.entry.js\": [\n\t\t1021,\n\t\t25\n\t],\n\t\"./3kzauze7.entry.js\": [\n\t\t1022,\n\t\t102\n\t],\n\t\"./3kzauze7.sc.entry.js\": [\n\t\t1023,\n\t\t103\n\t],\n\t\"./3pkkvczk.entry.js\": [\n\t\t1024,\n\t\t26\n\t],\n\t\"./3pkkvczk.sc.entry.js\": [\n\t\t1025,\n\t\t27\n\t],\n\t\"./5zcdwzsx.entry.js\": [\n\t\t1026,\n\t\t44\n\t],\n\t\"./5zcdwzsx.sc.entry.js\": [\n\t\t1027,\n\t\t45\n\t],\n\t\"./6kgso7pq.entry.js\": [\n\t\t1028,\n\t\t46\n\t],\n\t\"./6kgso7pq.sc.entry.js\": [\n\t\t1029,\n\t\t47\n\t],\n\t\"./7hlpr3fd.entry.js\": [\n\t\t1030,\n\t\t12\n\t],\n\t\"./7hlpr3fd.sc.entry.js\": [\n\t\t1031,\n\t\t13\n\t],\n\t\"./8wdovu8e.entry.js\": [\n\t\t1032,\n\t\t48\n\t],\n\t\"./8wdovu8e.sc.entry.js\": [\n\t\t1033,\n\t\t49\n\t],\n\t\"./admmxern.entry.js\": [\n\t\t1034,\n\t\t104\n\t],\n\t\"./admmxern.sc.entry.js\": [\n\t\t1035,\n\t\t105\n\t],\n\t\"./aubabxbm.entry.js\": [\n\t\t1036,\n\t\t50\n\t],\n\t\"./aubabxbm.sc.entry.js\": [\n\t\t1037,\n\t\t51\n\t],\n\t\"./azzrjyyu.entry.js\": [\n\t\t1038,\n\t\t52\n\t],\n\t\"./azzrjyyu.sc.entry.js\": [\n\t\t1039,\n\t\t53\n\t],\n\t\"./b65tzyas.entry.js\": [\n\t\t1040,\n\t\t28\n\t],\n\t\"./b65tzyas.sc.entry.js\": [\n\t\t1041,\n\t\t29\n\t],\n\t\"./bb7q7tld.entry.js\": [\n\t\t1042,\n\t\t106\n\t],\n\t\"./bb7q7tld.sc.entry.js\": [\n\t\t1043,\n\t\t107\n\t],\n\t\"./bcmaaa8l.entry.js\": [\n\t\t1044,\n\t\t108\n\t],\n\t\"./bcmaaa8l.sc.entry.js\": [\n\t\t1045,\n\t\t109\n\t],\n\t\"./bygik61u.entry.js\": [\n\t\t1046,\n\t\t110\n\t],\n\t\"./bygik61u.sc.entry.js\": [\n\t\t1047,\n\t\t111\n\t],\n\t\"./ddlg9urb.entry.js\": [\n\t\t1048,\n\t\t54\n\t],\n\t\"./ddlg9urb.sc.entry.js\": [\n\t\t1049,\n\t\t55\n\t],\n\t\"./devt5yhg.entry.js\": [\n\t\t1050,\n\t\t38\n\t],\n\t\"./devt5yhg.sc.entry.js\": [\n\t\t1051,\n\t\t39\n\t],\n\t\"./dhprnqol.entry.js\": [\n\t\t1052,\n\t\t56\n\t],\n\t\"./dhprnqol.sc.entry.js\": [\n\t\t1053,\n\t\t57\n\t],\n\t\"./djkq5plb.entry.js\": [\n\t\t1054,\n\t\t112\n\t],\n\t\"./djkq5plb.sc.entry.js\": [\n\t\t1055,\n\t\t113\n\t],\n\t\"./efdsz9yy.entry.js\": [\n\t\t1056,\n\t\t140\n\t],\n\t\"./efdsz9yy.sc.entry.js\": [\n\t\t1057,\n\t\t141\n\t],\n\t\"./eghwkqif.entry.js\": [\n\t\t1058,\n\t\t58\n\t],\n\t\"./eghwkqif.sc.entry.js\": [\n\t\t1059,\n\t\t59\n\t],\n\t\"./ek05jvfc.entry.js\": [\n\t\t1060,\n\t\t60\n\t],\n\t\"./ek05jvfc.sc.entry.js\": [\n\t\t1061,\n\t\t61\n\t],\n\t\"./ficmbhoi.entry.js\": [\n\t\t1062,\n\t\t62\n\t],\n\t\"./ficmbhoi.sc.entry.js\": [\n\t\t1063,\n\t\t63\n\t],\n\t\"./fkzdmlip.entry.js\": [\n\t\t1064,\n\t\t160\n\t],\n\t\"./fkzdmlip.sc.entry.js\": [\n\t\t1065,\n\t\t161\n\t],\n\t\"./fmzmhk3d.entry.js\": [\n\t\t1066,\n\t\t114\n\t],\n\t\"./fmzmhk3d.sc.entry.js\": [\n\t\t1067,\n\t\t115\n\t],\n\t\"./fz2rcnow.entry.js\": [\n\t\t1068,\n\t\t116\n\t],\n\t\"./fz2rcnow.sc.entry.js\": [\n\t\t1069,\n\t\t117\n\t],\n\t\"./gnkkjvvk.entry.js\": [\n\t\t1070,\n\t\t118\n\t],\n\t\"./gnkkjvvk.sc.entry.js\": [\n\t\t1071,\n\t\t119\n\t],\n\t\"./helxzsef.entry.js\": [\n\t\t1072,\n\t\t162\n\t],\n\t\"./helxzsef.sc.entry.js\": [\n\t\t1073,\n\t\t163\n\t],\n\t\"./i5bu78vq.entry.js\": [\n\t\t1074,\n\t\t120\n\t],\n\t\"./i5bu78vq.sc.entry.js\": [\n\t\t1075,\n\t\t121\n\t],\n\t\"./imcdx1xe.entry.js\": [\n\t\t1076,\n\t\t146\n\t],\n\t\"./imcdx1xe.sc.entry.js\": [\n\t\t1077,\n\t\t147\n\t],\n\t\"./iqlhkurd.entry.js\": [\n\t\t1078,\n\t\t122\n\t],\n\t\"./iqlhkurd.sc.entry.js\": [\n\t\t1079,\n\t\t123\n\t],\n\t\"./isuxxasv.entry.js\": [\n\t\t1080,\n\t\t124\n\t],\n\t\"./isuxxasv.sc.entry.js\": [\n\t\t1081,\n\t\t125\n\t],\n\t\"./iwgahuhw.entry.js\": [\n\t\t1082,\n\t\t64\n\t],\n\t\"./iwgahuhw.sc.entry.js\": [\n\t\t1083,\n\t\t65\n\t],\n\t\"./j20d1ikn.entry.js\": [\n\t\t1084,\n\t\t126\n\t],\n\t\"./j20d1ikn.sc.entry.js\": [\n\t\t1085,\n\t\t127\n\t],\n\t\"./jzwyowjw.entry.js\": [\n\t\t1086,\n\t\t66\n\t],\n\t\"./jzwyowjw.sc.entry.js\": [\n\t\t1087,\n\t\t67\n\t],\n\t\"./k6eoch7h.entry.js\": [\n\t\t1088,\n\t\t14\n\t],\n\t\"./k6eoch7h.sc.entry.js\": [\n\t\t1089,\n\t\t15\n\t],\n\t\"./kgjnfunx.entry.js\": [\n\t\t1090,\n\t\t68\n\t],\n\t\"./kgjnfunx.sc.entry.js\": [\n\t\t1091,\n\t\t69\n\t],\n\t\"./lb8tayd0.entry.js\": [\n\t\t1092,\n\t\t148\n\t],\n\t\"./lb8tayd0.sc.entry.js\": [\n\t\t1093,\n\t\t149\n\t],\n\t\"./ldqvnzrr.entry.js\": [\n\t\t1094,\n\t\t34\n\t],\n\t\"./ldqvnzrr.sc.entry.js\": [\n\t\t1095,\n\t\t35\n\t],\n\t\"./llyqw4no.entry.js\": [\n\t\t1096,\n\t\t128\n\t],\n\t\"./llyqw4no.sc.entry.js\": [\n\t\t1097,\n\t\t129\n\t],\n\t\"./lsxwd44p.entry.js\": [\n\t\t1098,\n\t\t36\n\t],\n\t\"./lsxwd44p.sc.entry.js\": [\n\t\t1099,\n\t\t37\n\t],\n\t\"./mf2ayo12.entry.js\": [\n\t\t1100,\n\t\t70\n\t],\n\t\"./mf2ayo12.sc.entry.js\": [\n\t\t1101,\n\t\t71\n\t],\n\t\"./migtpkzd.entry.js\": [\n\t\t1102,\n\t\t72\n\t],\n\t\"./migtpkzd.sc.entry.js\": [\n\t\t1103,\n\t\t73\n\t],\n\t\"./mo7qeek2.entry.js\": [\n\t\t1104,\n\t\t144\n\t],\n\t\"./mo7qeek2.sc.entry.js\": [\n\t\t1105,\n\t\t145\n\t],\n\t\"./mri9bdlj.entry.js\": [\n\t\t1106,\n\t\t164\n\t],\n\t\"./mri9bdlj.sc.entry.js\": [\n\t\t1107,\n\t\t165\n\t],\n\t\"./mrs0ks1r.entry.js\": [\n\t\t1108,\n\t\t40\n\t],\n\t\"./mrs0ks1r.sc.entry.js\": [\n\t\t1109,\n\t\t41\n\t],\n\t\"./najnlwm4.entry.js\": [\n\t\t1110,\n\t\t74\n\t],\n\t\"./najnlwm4.sc.entry.js\": [\n\t\t1111,\n\t\t75\n\t],\n\t\"./narso64l.entry.js\": [\n\t\t1112,\n\t\t20\n\t],\n\t\"./narso64l.sc.entry.js\": [\n\t\t1113,\n\t\t21\n\t],\n\t\"./nqozldol.entry.js\": [\n\t\t1114,\n\t\t88\n\t],\n\t\"./nqozldol.sc.entry.js\": [\n\t\t1115,\n\t\t89\n\t],\n\t\"./o6zsuoqi.entry.js\": [\n\t\t1116,\n\t\t130\n\t],\n\t\"./o6zsuoqi.sc.entry.js\": [\n\t\t1117,\n\t\t131\n\t],\n\t\"./oc7j8k7y.entry.js\": [\n\t\t1118,\n\t\t152\n\t],\n\t\"./oc7j8k7y.sc.entry.js\": [\n\t\t1119,\n\t\t153\n\t],\n\t\"./ofd4s8dw.entry.js\": [\n\t\t1120,\n\t\t94\n\t],\n\t\"./ofd4s8dw.sc.entry.js\": [\n\t\t1121,\n\t\t95\n\t],\n\t\"./pd9wflli.entry.js\": [\n\t\t1122,\n\t\t30\n\t],\n\t\"./pd9wflli.sc.entry.js\": [\n\t\t1123,\n\t\t31\n\t],\n\t\"./pdzm9bfy.entry.js\": [\n\t\t1124,\n\t\t142\n\t],\n\t\"./pdzm9bfy.sc.entry.js\": [\n\t\t1125,\n\t\t143\n\t],\n\t\"./r8dtlwvb.entry.js\": [\n\t\t1126,\n\t\t16\n\t],\n\t\"./r8dtlwvb.sc.entry.js\": [\n\t\t1127,\n\t\t17\n\t],\n\t\"./rkecsmgc.entry.js\": [\n\t\t1128,\n\t\t154\n\t],\n\t\"./rkecsmgc.sc.entry.js\": [\n\t\t1129,\n\t\t155\n\t],\n\t\"./rrpxfm2a.entry.js\": [\n\t\t1130,\n\t\t166\n\t],\n\t\"./rrpxfm2a.sc.entry.js\": [\n\t\t1131,\n\t\t167\n\t],\n\t\"./senscofp.entry.js\": [\n\t\t1132,\n\t\t76\n\t],\n\t\"./senscofp.sc.entry.js\": [\n\t\t1133,\n\t\t77\n\t],\n\t\"./tjefn81q.entry.js\": [\n\t\t1134,\n\t\t78\n\t],\n\t\"./tjefn81q.sc.entry.js\": [\n\t\t1135,\n\t\t79\n\t],\n\t\"./tlbladaf.entry.js\": [\n\t\t1136,\n\t\t80\n\t],\n\t\"./tlbladaf.sc.entry.js\": [\n\t\t1137,\n\t\t81\n\t],\n\t\"./tn7df4wj.entry.js\": [\n\t\t1138,\n\t\t150\n\t],\n\t\"./tn7df4wj.sc.entry.js\": [\n\t\t1139,\n\t\t151\n\t],\n\t\"./uhyavx6a.entry.js\": [\n\t\t1140,\n\t\t90\n\t],\n\t\"./uhyavx6a.sc.entry.js\": [\n\t\t1141,\n\t\t91\n\t],\n\t\"./vompwuhi.entry.js\": [\n\t\t1142,\n\t\t82\n\t],\n\t\"./vompwuhi.sc.entry.js\": [\n\t\t1143,\n\t\t83\n\t],\n\t\"./vypdotd0.entry.js\": [\n\t\t1144,\n\t\t84\n\t],\n\t\"./vypdotd0.sc.entry.js\": [\n\t\t1145,\n\t\t85\n\t],\n\t\"./wb4mk1b9.entry.js\": [\n\t\t1146,\n\t\t42\n\t],\n\t\"./wb4mk1b9.sc.entry.js\": [\n\t\t1147,\n\t\t43\n\t],\n\t\"./whjbxjrd.entry.js\": [\n\t\t1148,\n\t\t22\n\t],\n\t\"./whjbxjrd.sc.entry.js\": [\n\t\t1149,\n\t\t23\n\t],\n\t\"./wjdsdnuu.entry.js\": [\n\t\t1150,\n\t\t132\n\t],\n\t\"./wjdsdnuu.sc.entry.js\": [\n\t\t1151,\n\t\t133\n\t],\n\t\"./wrpzmdqx.entry.js\": [\n\t\t1152,\n\t\t32\n\t],\n\t\"./wrpzmdqx.sc.entry.js\": [\n\t\t1153,\n\t\t33\n\t],\n\t\"./wzw9zscm.entry.js\": [\n\t\t1154,\n\t\t92\n\t],\n\t\"./wzw9zscm.sc.entry.js\": [\n\t\t1155,\n\t\t93\n\t],\n\t\"./x5xnv4jv.entry.js\": [\n\t\t1156,\n\t\t18\n\t],\n\t\"./x5xnv4jv.sc.entry.js\": [\n\t\t1157,\n\t\t19\n\t],\n\t\"./xajhwvib.entry.js\": [\n\t\t1158,\n\t\t134\n\t],\n\t\"./xajhwvib.sc.entry.js\": [\n\t\t1159,\n\t\t135\n\t],\n\t\"./xo7dncgt.entry.js\": [\n\t\t1160,\n\t\t136\n\t],\n\t\"./xo7dncgt.sc.entry.js\": [\n\t\t1161,\n\t\t137\n\t],\n\t\"./yifvz1ud.entry.js\": [\n\t\t1162,\n\t\t138\n\t],\n\t\"./yifvz1ud.sc.entry.js\": [\n\t\t1163,\n\t\t139\n\t],\n\t\"./ymem7pf1.entry.js\": [\n\t\t1164,\n\t\t86\n\t],\n\t\"./ymem7pf1.sc.entry.js\": [\n\t\t1165,\n\t\t87\n\t],\n\t\"./ziv0mko0.entry.js\": [\n\t\t1166,\n\t\t156\n\t],\n\t\"./ziv0mko0.sc.entry.js\": [\n\t\t1167,\n\t\t157\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 852;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}
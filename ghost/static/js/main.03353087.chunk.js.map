{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm/legacy lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","model/GhostCharacteristics.ts","ble/GhostBle.ts","store/reducers/bleReducer.ts","pages/Dashboard/coverflowOptions.ts","pages/Dashboard/Dashboard.tsx","pages/Connect/Connect.tsx","App.tsx","serviceWorker.ts","store/index.ts","store/store.ts","index.tsx","assets/logo.svg"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","GhostCharacteristics","uuid","label","properties","notify","read","write","type","pause","ms","setTimeout","stringToHex","value","buffer","ArrayBuffer","dv","DataView","i","setUint8","parseInt","substr","hexToString","rawValue","bits","s","byteLength","getUint8","toString","getUint16","padStart","readCharacteristicStringValue","characteristic","a","async","readValue","hexToNumberValue","readTemperatures","values","push","writeTemperatures","length","currentValue","setUint16","writeValue","ghostBle","dispatch","getState","device","server","service","batteryService","authCharacteristic","batteryCharacteristic","currentProfileCharacteristic","temperatureCharacteristic","statusCharacteristic","queue","TaskQueue","autorun","stoppable","initialize","initializeBle","allDevices","gatt","navigator","bluetooth","requestDevice","optionalServices","acceptAllDevices","nameFilters","deviceName","localStorage","getItem","name","toLowerCase","toUpperCase","filters","services","setItem","ongattserverdisconnected","event","connectFailed","connectStart","connect","getPrimaryService","pair","connected","getCharacteristic","addEventListener","ev","stopNotifications","setAuthKey","startNotifications","key","console","log","resolveAll","ble","authKey","updating","enqueue","statusValue","status","setStatus","profileValue","profile","setCurrentProfile","temperatureValue","oldTempValue","temperatures","filter","index","setTemperatures","rawBatteryValue","batteryValue","setBatteryLevel","disconnect","pauseNotifications","removeEventListener","updateCurrentProfile","hexValue","updateTemperature","n","lock","unlock","initialState","connecting","connectAttempts","locked","battery","GhostBle","connectSuccess","startUpdateProfile","newProfile","setCurrentProfileForce","completeUpdateProfile","startUpdate","completeUpdate","bleSlice","createSlice","reducers","state","action","error","undefined","payload","disconnected","clearError","requestLock","locking","requestUnlock","completeLock","completeUnlock","actions","coverflowOptions","slidesPerView","centeredSlides","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","on","beforeInit","this","classNames","params","containerModifierClass","watchSlidesProgress","originalParams","setTranslate","swiperWidth","width","swiperHeight","height","slides","$wrapperEl","slidesSizesGrid","isHorizontal","transform$$1","translate","center","$slideEl","eq","slideSize","offsetMultiplier","swiperSlideOffset","rotateY","rotateX","translateZ","Math","abs","translateY","translateX","slideTransform","transform","style","zIndex","round","support","pointerEvents","prefixedPointerEvents","perspectiveOrigin","setTransition","duration","transition","find","slideLabels","version","require","Dashboard","props","useSelector","useDispatch","useState","currentProfile","tempDialogOpen","setTempDialogOpen","tempChanging","setTempChanging","slider","createRef","currentTemp","useRef","currentTempTimeout","updateTemperatureDispatch","useCallback","newTemp","slice","useEffect","current","lockSwipes","getActiveIndex","slideTo","className","class","slot","stroke","strokeWidth","x","y","rx","ry","src","logoSvg","scrollX","scrollY","lines","options","allowSlideNext","allowSlidePrev","initialSlide","pager","ref","onIonSlideTransitionEnd","temperature","title","viewBox","cx","cy","r","stroke-width","fill","onClick","toFixed","hidden","disabled","min","max","step","snaps","color","onIonChange","clearTimeout","detail","onPointerDown","onPointerUp","currentTarget","size","icon","thermometer","isOpen","onDidDismiss","header","inputs","placeholder","buttons","text","role","cssClass","handler","displayLockDialog","dismissLockDialogCallback","message","Connect","history","pairingMode","setPairingMode","cancel","setCancel","loadingMessage","setLoadingMessage","hasKey","pairBLE","connectBLE","newMessage","elem","document","querySelector","innerHTML","defaultChecked","checked","backdropDismiss","App","setDisplayLockDialog","unloadFunc","window","ConnectRedirect","to","requestLockClicked","path","component","exact","tab","href","speedometer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","rootReducer","combineReducers","bleReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","ReactDOM","render","getElementById","URL","process","origin","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"uwCAAA,IAAIA,EAAM,CACT,2CAA4C,CAC3C,IACA,IAED,kCAAmC,CAClC,IACA,IAED,iCAAkC,CACjC,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,gCAAiC,CAChC,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,gCAAiC,CAChC,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,qBAAsB,CACrB,IACA,IAED,uCAAwC,CACvC,IACA,IAED,sCAAuC,CACtC,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,mCAAoC,CACnC,IACA,IAED,kCAAmC,CAClC,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,kCAAmC,CAClC,IACA,IAED,iCAAkC,CACjC,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,gCAA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","file":"static/js/main.03353087.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet-controller_8.entry.js\": [\n\t\t408,\n\t\t43\n\t],\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t409,\n\t\t44\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t410,\n\t\t45\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t411,\n\t\t24\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t412,\n\t\t25\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t413,\n\t\t11\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t414,\n\t\t12\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t415,\n\t\t46\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t416,\n\t\t47\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t417,\n\t\t48\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t418,\n\t\t49\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t419,\n\t\t81\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t420,\n\t\t82\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t421,\n\t\t50\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t422,\n\t\t51\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t423,\n\t\t52\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t424,\n\t\t53\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t425,\n\t\t54\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t426,\n\t\t55\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t427,\n\t\t56\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t428,\n\t\t57\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t429,\n\t\t83\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t430,\n\t\t20\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t431,\n\t\t21\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t432,\n\t\t58\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t433,\n\t\t59\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t434,\n\t\t84\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t435,\n\t\t39\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t436,\n\t\t40\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t437,\n\t\t60\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t438,\n\t\t61\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t439,\n\t\t62\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t440,\n\t\t63\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t441,\n\t\t64\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t442,\n\t\t65\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t443,\n\t\t26\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t444,\n\t\t27\n\t],\n\t\"./ion-menu_4-ios.entry.js\": [\n\t\t445,\n\t\t18\n\t],\n\t\"./ion-menu_4-md.entry.js\": [\n\t\t446,\n\t\t19\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t447,\n\t\t14\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t448,\n\t\t15\n\t],\n\t\"./ion-nav_5.entry.js\": [\n\t\t449,\n\t\t13\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t450,\n\t\t16\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t451,\n\t\t17\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t452,\n\t\t66\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t453,\n\t\t67\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t454,\n\t\t32\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t455,\n\t\t33\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t456,\n\t\t68\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t457,\n\t\t69\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t458,\n\t\t41\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t459,\n\t\t42\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t460,\n\t\t37\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t461,\n\t\t38\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t462,\n\t\t85\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t463,\n\t\t70\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t464,\n\t\t28\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t465,\n\t\t29\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t466,\n\t\t71\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t467,\n\t\t72\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t468,\n\t\t34\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t469,\n\t\t35\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t470,\n\t\t86\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t471,\n\t\t87\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t472,\n\t\t73\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t473,\n\t\t88\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t474,\n\t\t89\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t475,\n\t\t74\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t476,\n\t\t75\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t477,\n\t\t36\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t478,\n\t\t76\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t479,\n\t\t77\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t480,\n\t\t78\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t481,\n\t\t30\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t482,\n\t\t31\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t483,\n\t\t22\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t484,\n\t\t23\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t485,\n\t\t90\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 240;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t489,\n\t\t98\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 241;\nmodule.exports = webpackAsyncContext;","export const GhostCharacteristics = {\r\n    batteryServiceUuid: 'battery_service',\r\n    batteryLevelUuid: 'battery_level',\r\n    pairingUuid: '00887766-5544-3322-1100-aabbccddeeff',\r\n    deviceUuid: '11887766-5544-3322-1100-aabbccddeeff',\r\n    serviceUuid: 'ffeeddcc-bbaa-0011-2233-445566778899',\r\n    deviceName: {\r\n        uuid: 'ffeeddcc-bbaa-0011-2233-445566778801',\r\n        label: 'Device Name',\r\n        properties: {\r\n            notify: false,\r\n            read: true,\r\n            write: true,\r\n            type: 'string',\r\n        },\r\n    },\r\n    status: {\r\n        uuid: 'ffeeddcc-bbaa-0011-2233-445566778802',\r\n        label: 'Status',\r\n        properties: {\r\n            notify: true,\r\n            read: true,\r\n            write: true,\r\n            type: 'hex',\r\n        },\r\n    },\r\n    bootState: {\r\n        uuid: 'ffeeddcc-bbaa-0011-2233-445566778803',\r\n        label: 'Unknown #2',\r\n        properties: {\r\n            notify: true,\r\n            read: true,\r\n            write: false,\r\n            type: 'hex',\r\n        },\r\n    },\r\n    temperatures: {\r\n        uuid: 'ffeeddcc-bbaa-0011-2233-445566778804',\r\n        label: 'Temperatures',\r\n        properties: {\r\n            notify: true,\r\n            read: true,\r\n            write: true,\r\n            type: 'hex',\r\n        },\r\n    },\r\n    currentProfile: {\r\n        uuid: 'ffeeddcc-bbaa-0011-2233-445566778805',\r\n        label: 'Current',\r\n        properties: {\r\n            notify: true,\r\n            read: true,\r\n            write: true,\r\n            type: 'hex',\r\n        },\r\n    },\r\n    pairingKey: {\r\n        uuid: 'ffeeddcc-bbaa-0011-2233-445566778806',\r\n        label: 'Pairing Key',\r\n        properties: {\r\n            notify: true,\r\n            read: true,\r\n            write: true,\r\n            type: 'hex',\r\n        },\r\n    },\r\n}\r\n","import { GhostCharacteristics } from '../model/GhostCharacteristics';\r\nimport { Dispatch } from 'redux';\r\nimport { setAuthKey, setBatteryLevel, setCurrentProfile, connectFailed, connectStart, setTemperatures, setStatus } from '../store/reducers/bleReducer';\r\nimport { RootState } from '../store';\r\nimport { randomBytes } from 'crypto';\r\nimport { TaskQueue } from 'typescript-task-queue';\r\n\r\nconst pause = (ms: number): Promise<void> => {\r\n    return new Promise(resolve => setTimeout(() => resolve(), ms));\r\n};\r\n\r\nclass GhostBle {\r\n    dispatch?: Dispatch;\r\n    getState?: () => RootState;\r\n    device?: BluetoothDevice;\r\n    server?: BluetoothRemoteGATTServer;\r\n    service?: BluetoothRemoteGATTService;\r\n    batteryService?: BluetoothRemoteGATTService;\r\n    authCharacteristic?: BluetoothRemoteGATTCharacteristic;\r\n    batteryCharacteristic?: BluetoothRemoteGATTCharacteristic;\r\n    currentProfileCharacteristic?: BluetoothRemoteGATTCharacteristic;\r\n    temperatureCharacteristic?: BluetoothRemoteGATTCharacteristic;\r\n    statusCharacteristic?: BluetoothRemoteGATTCharacteristic;\r\n\r\n    private queue: TaskQueue = new TaskQueue({ autorun: true, stoppable: false });\r\n\r\n    initialize = (dispatch: Dispatch, getState: () => RootState) => {\r\n        this.dispatch = dispatch;\r\n        this.getState = getState;\r\n    }\r\n\r\n    private initializeBle = async (allDevices: boolean) => {\r\n        if (!this.device || !this.device.gatt) {\r\n            if (allDevices) {\r\n                this.device = await navigator.bluetooth.requestDevice({\r\n                    optionalServices: [GhostCharacteristics.serviceUuid, GhostCharacteristics.batteryServiceUuid],\r\n                    acceptAllDevices: true,\r\n                });\r\n\r\n            } else {\r\n                const nameFilters = [];\r\n                const deviceName = localStorage.getItem('ghostmv1.name');\r\n                if (deviceName) {\r\n                    nameFilters.push({ name: deviceName });\r\n                    nameFilters.push({ name: deviceName.toLowerCase() });\r\n                    nameFilters.push({ name: deviceName.toUpperCase() });\r\n                }\r\n                this.device = await navigator.bluetooth.requestDevice({\r\n                    filters: [\r\n                        ...nameFilters,\r\n                        {\r\n                            services: [GhostCharacteristics.deviceUuid]\r\n                        }, {\r\n                            services: [GhostCharacteristics.pairingUuid]\r\n                        }\r\n                    ],\r\n                    optionalServices: [GhostCharacteristics.serviceUuid, GhostCharacteristics.batteryServiceUuid],\r\n                    // acceptAllDevices: true,\r\n                });\r\n            }\r\n\r\n            if (!this.device || !this.device.gatt) {\r\n                throw new Error(\"Failed to retrieve GhostBLE device.\");\r\n            }\r\n            if (this.device.name) {\r\n                localStorage.setItem('ghostmv1.name', this.device.name);\r\n            }\r\n\r\n            this.device.ongattserverdisconnected = async (event: Event) => {\r\n                await this.dispatch!(connectFailed(`Failed to connect to Ghost MV1.  Retrying ...`));\r\n            };\r\n        }\r\n\r\n        await this.dispatch!(connectStart());\r\n\r\n        this.server = await this.device.gatt.connect();\r\n        if (!this.server) {\r\n            throw new Error(\"Failed to retrieve BLE server.\");\r\n        }\r\n\r\n        await pause(1000);\r\n        this.service = await this.server.getPrimaryService(GhostCharacteristics.serviceUuid);\r\n    }\r\n\r\n    pair = async (allDevices: boolean) => {\r\n        if (!this.server || !this.server.connected) {\r\n            await this.initializeBle(allDevices);\r\n        }\r\n\r\n        await pause(1000);\r\n        this.authCharacteristic = await this.service!.getCharacteristic(GhostCharacteristics.pairingKey.uuid);\r\n\r\n        await new Promise(async resolve => {\r\n            this.authCharacteristic!.addEventListener('characteristicvaluechanged', async (ev: Event) => {\r\n                await this.authCharacteristic!.stopNotifications();\r\n                const rawValue = this.authCharacteristic!.value;\r\n                if (rawValue) {\r\n                    const value = hexToString(rawValue);\r\n                    localStorage.setItem('ghostmv1.auth', value);\r\n                    await this.dispatch!(setAuthKey(value));\r\n                    await pause(250);\r\n                    await this.authCharacteristic!.writeValue(stringToHex(value));\r\n                }\r\n\r\n                resolve();\r\n            });\r\n            await this.authCharacteristic!.startNotifications();\r\n            await this.authCharacteristic!.readValue();\r\n        });\r\n        await this.connect(allDevices);\r\n    }\r\n\r\n    connect = async (allDevices: boolean) => {\r\n        const key = localStorage.getItem('ghostmv1.auth');\r\n        if (!key) {\r\n            throw new Error(\"No paired device.\");\r\n        }\r\n\r\n        if (!this.server || !this.server.connected) {\r\n            console.log('initialize BLE');\r\n            await this.initializeBle(allDevices);\r\n        }\r\n\r\n        await pause(100);\r\n        this.authCharacteristic = await this.service!.getCharacteristic(GhostCharacteristics.pairingKey.uuid);\r\n        if (key && key !== '' && key.length === 12) {\r\n            await this.authCharacteristic.writeValue(stringToHex(key));\r\n        }\r\n\r\n        await pause(100);\r\n        await new Promise(async resolveAll => {\r\n            this.authCharacteristic!.addEventListener('characteristicvaluechanged', async (ev: Event) => {\r\n                const value = await readCharacteristicStringValue(this.authCharacteristic!);\r\n                if (value !== this.getState!().ble.authKey) {\r\n                    localStorage.setItem('ghostmv1.auth', value);\r\n                    this.dispatch!(setAuthKey(value));\r\n                }\r\n                this.authCharacteristic!.stopNotifications();\r\n                resolveAll();\r\n            });\r\n            await this.authCharacteristic!.startNotifications();\r\n            await readCharacteristicStringValue(this.authCharacteristic!);\r\n        });\r\n\r\n        await pause(100);\r\n        await new Promise(async resolveAll => {\r\n            this.statusCharacteristic = await this.service!.getCharacteristic(GhostCharacteristics.status.uuid);\r\n            this.statusCharacteristic.addEventListener('characteristicvaluechanged', async (ev: Event) => {\r\n                if (this.getState!().ble.updating) {\r\n                    return;\r\n                }\r\n    \r\n                this.queue.enqueue(async () => {\r\n                    const rawValue = this.statusCharacteristic!.value;\r\n                    if (rawValue) {\r\n                        const statusValue = await hexToNumberValue(rawValue);\r\n                        if (statusValue !== this.getState!().ble.status) {\r\n                            await this.dispatch!(setStatus(statusValue));\r\n                        }\r\n                        resolveAll();\r\n                    }\r\n                });\r\n            });\r\n            await this.statusCharacteristic!.startNotifications();    \r\n            await this.statusCharacteristic!.readValue();\r\n        });\r\n\r\n        await pause(100);\r\n        await new Promise(async resolveAll => {\r\n            this.currentProfileCharacteristic = await this.service!.getCharacteristic(GhostCharacteristics.currentProfile.uuid);\r\n            this.currentProfileCharacteristic.addEventListener('characteristicvaluechanged', async (ev: Event) => {\r\n                if (this.getState!().ble.updating) {\r\n                    return;\r\n                }\r\n    \r\n                this.queue.enqueue(async () => {\r\n                    const rawValue = this.currentProfileCharacteristic!.value;\r\n                    if (rawValue) {\r\n                        const profileValue = hexToNumberValue(rawValue);\r\n                        console.log(`Update profile: ${profileValue}`);\r\n                        if (profileValue !== this.getState!().ble.profile) {\r\n                            await this.dispatch!(setCurrentProfile(profileValue));\r\n                        }\r\n                        resolveAll();\r\n                    }\r\n                });\r\n            });\r\n            await this.currentProfileCharacteristic!.startNotifications();\r\n            await this.currentProfileCharacteristic!.readValue();;    \r\n        });\r\n\r\n        await pause(100);\r\n        await new Promise(async resolveAll => {\r\n            this.temperatureCharacteristic = await this.service!.getCharacteristic(GhostCharacteristics.temperatures.uuid);\r\n            this.temperatureCharacteristic.addEventListener('characteristicvaluechanged', async (ev: Event) => {\r\n                if (this.getState!().ble.updating) {\r\n                    return;\r\n                }\r\n                this.queue.enqueue(async () => {\r\n                    const rawValue = this.temperatureCharacteristic!.value;\r\n                    if (rawValue) {\r\n                        const temperatureValue = readTemperatures(rawValue);\r\n                        const oldTempValue = this.getState!().ble.temperatures;\r\n                        if (\r\n                            (temperatureValue.length !== oldTempValue.length)\r\n                            || (temperatureValue.filter((value, index) => value !== oldTempValue[index]).length > 0)\r\n                        ) {\r\n                            await this.dispatch!(setTemperatures(temperatureValue));\r\n                        }\r\n                        resolveAll();\r\n                    }\r\n                });\r\n            });\r\n            await this.temperatureCharacteristic!.startNotifications();\r\n            await this.temperatureCharacteristic!.readValue();    \r\n        });\r\n\r\n        await pause(100);\r\n        this.batteryService = await this.server!.getPrimaryService(GhostCharacteristics.batteryServiceUuid);\r\n        await pause(100);\r\n        this.batteryCharacteristic = await this.batteryService.getCharacteristic(GhostCharacteristics.batteryLevelUuid);\r\n        await pause(100);\r\n        const rawBatteryValue = await this.batteryCharacteristic.readValue();\r\n        const batteryValue = hexToNumberValue(rawBatteryValue);\r\n        await this.dispatch!(setBatteryLevel(batteryValue));        \r\n    };\r\n\r\n    disconnect = async () => {\r\n        console.log('disconnect');\r\n        if (this.server) {\r\n            try {\r\n                await this.pauseNotifications();\r\n            } catch {}\r\n\r\n            if (this.authCharacteristic) {\r\n                await new Promise(resolve => {\r\n                    try {\r\n                        this.authCharacteristic!.removeEventListener('characteristicvaluechanged', () => {});\r\n                        resolve();\r\n                    } catch {\r\n                        resolve();\r\n                    }\r\n                });\r\n            }\r\n            if (this.statusCharacteristic) {\r\n                await new Promise(resolve => {\r\n                    try {\r\n                        this.statusCharacteristic!.removeEventListener('characteristicvaluechanged', () => {});\r\n                        resolve();\r\n                    } catch {\r\n                        resolve();\r\n                    }\r\n                });\r\n            }\r\n            if (this.currentProfileCharacteristic) {\r\n                await new Promise(resolve => {\r\n                    try {\r\n                        this.currentProfileCharacteristic!.removeEventListener('characteristicvaluechanged', () => {});\r\n                        resolve();\r\n                    } catch {\r\n                        resolve();\r\n                    }\r\n                });\r\n            }\r\n            if (this.temperatureCharacteristic) {\r\n                await new Promise(resolve => {\r\n                    try {\r\n                        this.temperatureCharacteristic!.removeEventListener('characteristicvaluechanged', () => {});\r\n                        resolve();\r\n                    } catch {\r\n                        resolve();\r\n                    }\r\n                });\r\n            }\r\n            if (this.server.connected) {\r\n                try {\r\n                    await this.server.disconnect();\r\n                } catch {}\r\n            }\r\n        }\r\n        delete (this.server);\r\n    };\r\n\r\n    updateCurrentProfile = async (profile: number): Promise<number|void> => {\r\n        if (!this.currentProfileCharacteristic) {\r\n            return;\r\n        }\r\n\r\n        const s = profile.toString(16).padStart(2, '0');\r\n        const hexValue = stringToHex(s);\r\n\r\n        return new Promise(resolve => {\r\n            this.queue.enqueue(async () => {\r\n                for (let i = 0; i < 5; i++) {\r\n                    try {\r\n                        await this.currentProfileCharacteristic!.writeValue(hexValue);\r\n                        await pause(250);\r\n                        resolve(profile);\r\n                        return;\r\n                    } catch (e) {\r\n                        console.log(`Error updating profile, trying again: ${e}`);\r\n                        await pause(250);\r\n                    }\r\n                }\r\n                console.log('failed to write profile');\r\n                resolve(this.getState!().ble.profile);\r\n            });\r\n        });\r\n    }\r\n\r\n    updateTemperature = async (value: number[], profile: number) => {\r\n        if (!this.temperatureCharacteristic) {\r\n            return;\r\n        }\r\n\r\n        if (value.length < 6) {\r\n            console.log(\"Tried to write invalid temperature values.\");\r\n            return;\r\n        }\r\n\r\n        if (value.filter(n => n !== 0).length === 0) {\r\n            console.log(\"Tried to write all zero temperature values.\");\r\n            return;\r\n        }\r\n\r\n        return new Promise(resolve => {\r\n            this.queue.enqueue(async () => {\r\n                for (let i = 0; i < 5; i++) {\r\n                    try {\r\n                        await writeTemperatures(this.temperatureCharacteristic!, value);\r\n                        await pause(250);\r\n                        resolve();\r\n                        return;\r\n                    } catch (e) {\r\n                        console.log(`Error writing temperatures, trying again: ${e}`);\r\n                        await pause(250);\r\n                    }\r\n                }\r\n                console.log('Failed to write temperatures.');\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    lock = async (): Promise<boolean|void> => {\r\n        if (!this.statusCharacteristic) {\r\n            return;\r\n        }\r\n\r\n        // if (this.getState!().ble.updating) {\r\n        const status = this.getState!().ble.status | 0x1;\r\n        const buffer = new ArrayBuffer(1);\r\n        const dv = new DataView(buffer);\r\n        dv.setUint8(0, status);\r\n        return new Promise(resolve => {\r\n            this.queue.enqueue(async () => {\r\n                for (let i = 0; i < 5; i++) {\r\n                    try {\r\n                        await this.statusCharacteristic!.writeValue(dv);\r\n                        await pause(250);\r\n                        resolve(true);\r\n                        return;\r\n                    } catch (e) {\r\n                        console.log(`Error locking vaporizer, trying again: ${e}`);\r\n                        await pause(250);\r\n                    }\r\n                }\r\n                console.log('Failed to lock vaporizer.');\r\n                resolve(false);\r\n            });\r\n        });\r\n    }\r\n\r\n    unlock = async (): Promise<boolean|void> => {\r\n        if (!this.statusCharacteristic) {\r\n            return;\r\n        }\r\n\r\n        const status = this.getState!().ble.status & 0xFE;\r\n        const buffer = new ArrayBuffer(1);\r\n        const dv = new DataView(buffer);\r\n        dv.setUint8(0, status);\r\n        return new Promise(resolve => {\r\n            this.queue.enqueue(async () => {\r\n                for (let i = 0; i < 5; i++) {\r\n                    try {\r\n                        await this.statusCharacteristic!.writeValue(dv);\r\n                        await pause(250);\r\n                        resolve(true);\r\n                        return;\r\n                    } catch (e) {\r\n                        console.log(`Error unlocking vaporizer, trying again: ${e}`);\r\n                        await pause(250);\r\n                    }\r\n                }\r\n                console.log('Failed to unlock vaporizer.');\r\n                resolve(false);\r\n            });\r\n        });\r\n    }\r\n\r\n    pauseNotifications = async () => {\r\n        await this.statusCharacteristic!.stopNotifications();\r\n        await this.currentProfileCharacteristic!.stopNotifications();\r\n        await this.temperatureCharacteristic!.stopNotifications();\r\n    };\r\n\r\n    startNotifications = async () => {\r\n        await this.statusCharacteristic!.startNotifications();\r\n        await this.currentProfileCharacteristic!.startNotifications();\r\n        await this.temperatureCharacteristic!.startNotifications();\r\n        await pause(100);\r\n    };\r\n};\r\n\r\nexport const stringToHex = (value: string): DataView => {\r\n    const buffer = new ArrayBuffer(6);\r\n    const dv = new DataView(buffer);\r\n    for (let i = 0; i < 6; i++) {\r\n        dv.setUint8(i, parseInt(value.substr(i * 2, 2), 16));\r\n    }\r\n    return dv;\r\n};\r\n\r\nexport const hexToString = (rawValue: DataView, bits: number = 8): string => {\r\n    let s = '';\r\n    if (rawValue && (rawValue.byteLength > 0)) {\r\n        if (bits === 8) {\r\n            for (let i = 0; i < rawValue.byteLength; i++) {\r\n                s += rawValue.getUint8(i).toString(16);\r\n            }\r\n        } else if (bits === 16) {\r\n            for (let i = 0; i < rawValue.byteLength; i += 2) {\r\n                s += rawValue.getUint16(i, false).toString(16).padStart(4, '0');\r\n            }\r\n        }\r\n    }\r\n    return s;\r\n}\r\n\r\nexport const readCharacteristicStringValue = async (characteristic: BluetoothRemoteGATTCharacteristic): Promise<string> => {\r\n    const rawValue = await characteristic.readValue();\r\n    return hexToString(rawValue);\r\n}\r\n\r\nexport const hexToNumberValue = (rawValue: DataView): number => {\r\n    if (rawValue.byteLength === 1) {\r\n        return rawValue.getUint8(0);\r\n    } else if (rawValue.byteLength === 2) {\r\n        return rawValue.getUint16(0, true);\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport const readTemperatures = (rawValue: DataView): number[] => {\r\n    const values = [];\r\n    for (let i = 0; i < rawValue.byteLength; i += 2) {\r\n        values.push(rawValue.getUint16(i, false));\r\n    }\r\n    return values;\r\n}\r\n\r\nexport const writeTemperatures = async (characteristic: BluetoothRemoteGATTCharacteristic, value: number[]): Promise<void> => {\r\n    if (value.length < 6) {\r\n        return;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(12);\r\n    const dv = new DataView(buffer);\r\n    for (let i = 0; i < 6; i++) {\r\n        let currentValue = value[i];\r\n        switch (i) {\r\n            case 0: {\r\n                currentValue = 170;\r\n                break;\r\n            }\r\n            case 1: {\r\n                currentValue = 185;\r\n                break;\r\n            }\r\n            case 2: {\r\n                currentValue = 200;\r\n                break;\r\n            }\r\n            case 5: {\r\n                currentValue = 220;\r\n                break;\r\n            }\r\n        }\r\n        dv.setUint16(i * 2, currentValue, false);\r\n    }\r\n\r\n    //alert(hexToString(dv, 16));\r\n    await characteristic.writeValue(dv);\r\n}\r\n\r\nexport const generateRandomKey = (): DataView => {\r\n    const key = randomBytes(6);\r\n    const buffer = new ArrayBuffer(6);\r\n    const dv = new DataView(buffer);\r\n    for (let i = 0; i < key.byteLength; i++) {\r\n        dv.setUint8(i, key.readUInt8(i));\r\n    }\r\n    return dv;\r\n}\r\n\r\nconst ghostBle = new GhostBle();\r\nexport { ghostBle as GhostBle };","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { IBleState } from '../state/IBleState';\r\nimport { AppThunk } from '../store';\r\nimport { GhostBle } from '../../ble/GhostBle';\r\n\r\nconst initialState: IBleState = {\r\n  connecting: false,\r\n  connected: false,\r\n  updating: false,\r\n  connectAttempts: 0,\r\n  locked: false,\r\n  authKey: localStorage.getItem('ghostmv1.auth') || '',\r\n  status: 0,\r\n  battery: 0,\r\n  profile: 0,\r\n  temperatures: [170, 185, 200, 210, 220, 220],\r\n};\r\n\r\nconst disconnect = (): AppThunk => async (dispatch, getState) => {\r\n  await GhostBle.disconnect();\r\n  await dispatch(disconnected());\r\n};\r\n\r\nconst connect = (allDevices: boolean = false): AppThunk => async (dispatch, getState) => {\r\n  try {\r\n    await GhostBle.connect(allDevices);\r\n    dispatch(connectSuccess());\r\n    setTimeout(() => {\r\n      dispatch(startNotifications());\r\n    }, 5000);\r\n  } catch (e) {\r\n    //dispatch(disconnected());\r\n    return;\r\n  }\r\n};\r\n\r\nconst pair = (allDevices: boolean): AppThunk => async (dispatch, getState) => {\r\n  try {\r\n    await GhostBle.pair(allDevices);\r\n    dispatch(connectSuccess());\r\n    dispatch(startNotifications());\r\n  } catch (e) {\r\n    return;\r\n  }\r\n};\r\n\r\nconst updateCurrentProfile = (profile: number): AppThunk => async (dispatch, getState) => {\r\n  try {\r\n    if (getState().ble.locked) {\r\n      return;\r\n    }\r\n    await dispatch(pauseNotifications());\r\n    await dispatch(startUpdateProfile());\r\n    const newProfile = await GhostBle.updateCurrentProfile(profile);\r\n    if (newProfile) {\r\n      await dispatch(setCurrentProfileForce(newProfile));\r\n    }\r\n  } finally {\r\n    await dispatch(startNotifications());\r\n    await dispatch(completeUpdateProfile());\r\n  }\r\n}\r\n\r\nconst updateTemperature = (values: number[], profile: number): AppThunk => async (dispatch, getState) => {\r\n  try {\r\n    if (getState().ble.locked) {\r\n      return;\r\n    }\r\n    await dispatch(pauseNotifications());\r\n    await dispatch(startUpdate());\r\n    await GhostBle.updateTemperature(values, profile);\r\n    await dispatch(setTemperatures(values));\r\n  } finally {\r\n    await dispatch(startNotifications());\r\n    await dispatch(completeUpdate());\r\n  }\r\n}\r\n\r\nconst lock = (): AppThunk => async (dispatch, getState) => {\r\n  try {\r\n    await dispatch(pauseNotifications());\r\n    await dispatch(requestLock());\r\n    const success = await GhostBle.lock();\r\n    if (success) {\r\n      await dispatch(setStatus(getState().ble.status | 0x1 ))\r\n    }\r\n  } finally {\r\n    await dispatch(completeLock());\r\n    await dispatch(startNotifications());\r\n    await dispatch(completeUpdate());\r\n  }\r\n}\r\n\r\nconst unlock = (): AppThunk => async (dispatch, getState) => {\r\n  try {\r\n    await dispatch(pauseNotifications());\r\n    await dispatch(requestUnlock());\r\n    const success = await GhostBle.unlock();\r\n    if (success) {\r\n      await dispatch(setStatus(getState().ble.status & 0xFE))\r\n    }\r\n  } finally {\r\n    await dispatch(completeUnlock());\r\n    await dispatch(startNotifications());\r\n    await dispatch(completeUpdate());\r\n  }\r\n}\r\n\r\nconst startNotifications = (): AppThunk => async (dispatch, getState) => {\r\n  await GhostBle.startNotifications();\r\n  await new Promise(resolve => setTimeout(() => resolve(), 250));\r\n}\r\n\r\nconst pauseNotifications = (): AppThunk => async (dispatch, getState) => {\r\n  await GhostBle.pauseNotifications();\r\n  await new Promise(resolve => setTimeout(() => resolve(), 250));\r\n}\r\n\r\nconst bleSlice = createSlice({\r\n  name: 'BLE',\r\n  initialState,\r\n  reducers: {\r\n    startUpdate:  (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: true,\r\n    }),\r\n    completeUpdate:  (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: false,\r\n    }),\r\n    startUpdateProfile:  (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: true,\r\n    }),\r\n    completeUpdateProfile:  (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: false,\r\n    }),\r\n    connectStart: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      connecting: true,\r\n      connected: false,\r\n      error: undefined,\r\n      connectAttempts: state.connectAttempts+1,\r\n    }),\r\n    connectSuccess: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      connecting: false,\r\n      connected: true,\r\n      error: undefined,\r\n    }),\r\n    connectFailed: (state: IBleState, action: PayloadAction<string>) => ({\r\n      ...state,\r\n      connecting: false,\r\n      connected: false,\r\n      error: action.payload,\r\n    }),\r\n    disconnected: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      connecting: false,\r\n      connected: false,\r\n      error: undefined,\r\n      connectAttempts: 0,\r\n    }),\r\n    setAuthKey: (state: IBleState, action: PayloadAction<string>) => ({\r\n      ...state,\r\n      authKey: action.payload,\r\n    }),\r\n    setStatus: (state: IBleState, action: PayloadAction<number>) => ({\r\n      ...state,\r\n      status: action.payload,\r\n      locked: (action.payload & 0x1) === 0x1,\r\n    }),\r\n    setBatteryLevel: (state: IBleState, action: PayloadAction<number>) => ({\r\n      ...state,\r\n      battery: action.payload,\r\n    }),\r\n    setCurrentProfileForce: (state: IBleState, action: PayloadAction<number>) => {\r\n      return {\r\n        ...state,\r\n        profile: action.payload,\r\n      };\r\n    },\r\n    setCurrentProfile: (state: IBleState, action: PayloadAction<number>) => {\r\n      if (state.updating) {\r\n        return state;\r\n      } else {\r\n        return {\r\n          ...state,\r\n          profile: action.payload,\r\n        };\r\n      }\r\n    },\r\n    setTemperatures: (state: IBleState, action: PayloadAction<number[]>) => ({\r\n      ...state,\r\n      temperatures: action.payload\r\n    }),\r\n    clearError: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      error: undefined,\r\n    }),\r\n    requestLock: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: true,\r\n      locking: true,\r\n    }),\r\n    requestUnlock: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: true,\r\n      locking: true,\r\n    }),\r\n    completeLock: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: false,\r\n      locking: false,\r\n      locked: true,\r\n    }), \r\n    completeUnlock: (state: IBleState, action: PayloadAction) => ({\r\n      ...state,\r\n      updating: false,\r\n      locking: false,\r\n      locked: false,\r\n    }),\r\n  }\r\n});\r\n\r\nexport { \r\n  connect, disconnect, pair, \r\n  updateCurrentProfile, updateTemperature, \r\n  startNotifications, pauseNotifications, \r\n  lock, unlock, \r\n};\r\n\r\nexport const { \r\n  connectStart, connectSuccess, connectFailed, \r\n  disconnected, \r\n  setAuthKey,\r\n  setStatus,\r\n  setBatteryLevel, \r\n  setCurrentProfile,\r\n  setCurrentProfileForce,\r\n  setTemperatures,\r\n  clearError,\r\n  startUpdate,\r\n  completeUpdate,\r\n  startUpdateProfile,\r\n  completeUpdateProfile,\r\n  requestLock,\r\n  requestUnlock,\r\n  completeLock,\r\n  completeUnlock,\r\n} = bleSlice.actions;\r\nexport default bleSlice.reducer","export const coverflowOptions = {\r\n    slidesPerView: 3,\r\n    centeredSlides: true,\r\n    coverflowEffect: {\r\n        rotate: 50,\r\n        stretch: 0,\r\n        depth: 100,\r\n        modifier: 1,\r\n        slideShadows: true,\r\n    },\r\n    on: {\r\n        beforeInit() {\r\n            const swiper: any = this;\r\n\r\n            swiper.classNames.push(`${swiper.params.containerModifierClass}coverflow`);\r\n            swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\r\n\r\n            swiper.params.watchSlidesProgress = true;\r\n            swiper.originalParams.watchSlidesProgress = true;\r\n        },\r\n        setTranslate() {\r\n            const swiper: any = this;\r\n            const {\r\n                width: swiperWidth, height: swiperHeight, slides, $wrapperEl, slidesSizesGrid\r\n            } = swiper;\r\n            const params = swiper.params.coverflowEffect;\r\n            const isHorizontal = swiper.isHorizontal();\r\n            const transform$$1 = swiper.translate;\r\n            const center = isHorizontal ? -transform$$1 + (swiperWidth / 2) : -transform$$1 + (swiperHeight / 2);\r\n            const rotate = isHorizontal ? params.rotate : -params.rotate;\r\n            const translate = params.depth;\r\n            // Each slide offset from center\r\n            for (let i = 0, length = slides.length; i < length; i += 1) {\r\n                const $slideEl = slides.eq(i);\r\n                const slideSize = slidesSizesGrid[i];\r\n                const slideOffset = $slideEl[0].swiperSlideOffset;\r\n                const offsetMultiplier = ((center - slideOffset - (slideSize / 2)) / slideSize) * params.modifier;\r\n\r\n                let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\r\n                let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier;\r\n                // var rotateZ = 0\r\n                let translateZ = -translate * Math.abs(offsetMultiplier);\r\n\r\n                let translateY = isHorizontal ? 0 : params.stretch * (offsetMultiplier);\r\n                let translateX = isHorizontal ? params.stretch * (offsetMultiplier) : 0;\r\n\r\n                // Fix for ultra small values\r\n                if (Math.abs(translateX) < 0.001) translateX = 0;\r\n                if (Math.abs(translateY) < 0.001) translateY = 0;\r\n                if (Math.abs(translateZ) < 0.001) translateZ = 0;\r\n                if (Math.abs(rotateY) < 0.001) rotateY = 0;\r\n                if (Math.abs(rotateX) < 0.001) rotateX = 0;\r\n\r\n                const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\r\n\r\n                $slideEl.transform(slideTransform);\r\n                $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\r\n                // if (params.slideShadows) {\r\n                //   // Set shadows\r\n                //   let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\r\n                //   let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\r\n                //   if ($shadowBeforeEl.length === 0) {\r\n                //     $shadowBeforeEl = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\r\n                //     $slideEl.append($shadowBeforeEl);\r\n                //   }\r\n                //   if ($shadowAfterEl.length === 0) {\r\n                //     $shadowAfterEl = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\r\n                //     $slideEl.append($shadowAfterEl);\r\n                //   }\r\n                //   if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\r\n                //   if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\r\n                // }\r\n            }\r\n\r\n            // Set correct perspective for IE10\r\n            if (swiper.support.pointerEvents || swiper.support.prefixedPointerEvents) {\r\n                const ws = $wrapperEl[0].style;\r\n                ws.perspectiveOrigin = `${center}px 50%`;\r\n            }\r\n        },\r\n        setTransition(duration: number) {\r\n            const swiper: any = this;\r\n            swiper.slides\r\n                .transition(duration)\r\n                .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\r\n                .transition(duration);\r\n        }\r\n    }\r\n};\r\n","import {\n  IonContent,\n  IonHeader,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonToolbar,\n  IonImg,\n  IonItem,\n  IonSlides,\n  IonSlide,\n  IonRange,\n  IonIcon,\n  IonAlert\n} from '@ionic/react';\nimport React, { useEffect, useState, createRef, useRef, useCallback } from 'react';\nimport './Dashboard.scss';\n\nimport logoSvg from '../../assets/logo.svg';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../store';\nimport { AppDispatch } from '../../store/store';\nimport { updateCurrentProfile, updateTemperature, setTemperatures, lock, unlock, } from '../../store/reducers/bleReducer';\nimport { thermometer } from 'ionicons/icons';\nimport { RangeChangeEventDetail } from '@ionic/core';\nimport { coverflowOptions } from './coverflowOptions';\n\nconst slideLabels = ['Low', 'Medium', 'High', 'F1', 'F2', 'Concentrates'];\n\nconst version = require('../../../package.json').version;\n\ninterface IDashboardProps {\n  readonly displayLockDialog: boolean;\n  readonly dismissLockDialogCallback: () => void;\n}\n\nconst Dashboard: React.FC<IDashboardProps> = (props: IDashboardProps) => {\n  const temperatures = useSelector((state: RootState) => state.ble.temperatures);\n  const profile = useSelector((state: RootState) => state.ble.profile);\n  const updating = useSelector((state: RootState) => state.ble.updating);\n  const battery = useSelector((state: RootState) => state.ble.battery);\n  const locked = useSelector((state: RootState) => (state.ble.status & 1) === 1);\n\n  const dispatch = useDispatch<AppDispatch>();\n\n  const [currentProfile, setCurrentProfile] = useState(-1);\n  const [tempDialogOpen, setTempDialogOpen] = useState(false);\n  const [tempChanging, setTempChanging] = useState(false);\n  //const [initialized, setInitialized] = useState(false);\n\n  const slider = createRef<any>();\n  const currentTemp = useRef(0);\n  const currentTempTimeout = useRef(setTimeout(() => {}, 0));\n\n  const updateTemperatureDispatch = useCallback((value: number) => {\n    const newTemp = [\n      ...temperatures.slice(0, profile - 1),\n      value,\n      ...temperatures.slice(profile)\n    ];\n    dispatch(updateTemperature(newTemp, profile));\n  }, [temperatures, profile, dispatch]);\n\n  useEffect(() => {\n    if (slider.current) {\n      slider.current.lockSwipes(updating);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [updating]);\n\n  useEffect(() => {\n    if (slider && slider.current && (profile > 0)) {\n      try {\n        if (slider.current) {\n          slider.current.getActiveIndex().then((index: number) => {\n            if ((profile !== (index + 1)) && (profile > 0) && slider.current) {\n              slider.current.slideTo(profile - 1);\n            }\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [profile]);\n\n  const slideChanged = async (ev: CustomEvent) => {\n    if (!slider.current) {\n      return;\n    }\n\n    if (currentProfile === profile) {\n      const index = await slider.current.getActiveIndex();\n      if (index !== (profile - 1)) {\n        dispatch(updateCurrentProfile(index + 1));\n        setCurrentProfile(index + 1);\n      }\n    } else if (currentProfile !== profile) {\n      setCurrentProfile(profile);\n    }\n  };\n\n  const tempChange = (ev: CustomEvent<RangeChangeEventDetail>) => {\n    if (profile !== 4 && profile !== 5) {\n      return;\n    }\n    clearTimeout(currentTempTimeout.current);\n    const value = ev.detail.value as number;\n    const newTemp = [\n      ...temperatures.slice(0, profile - 1),\n      value,\n      ...temperatures.slice(profile)\n    ];\n    dispatch(setTemperatures(newTemp));\n    currentTempTimeout.current = setTimeout(() => {\n      if (currentTemp.current === value && !tempChanging) {\n        dispatch(updateTemperature(newTemp, profile));\n      }\n    }, 1000);\n    currentTemp.current = value;\n  };\n\n  const tempChangeFinished = (ev: React.PointerEvent<HTMLIonRangeElement>) => {\n    if (profile !== 4 && profile !== 5) {\n      return;\n    }\n    setTempChanging(false);\n    const value = ev.currentTarget.value as number;\n    const newTemp = [\n      ...temperatures.slice(0, profile - 1),\n      value,\n      ...temperatures.slice(profile)\n    ];\n    dispatch(setTemperatures(newTemp));\n    dispatch(updateTemperature(newTemp, profile));\n    currentTemp.current = value;\n  }\n\n  const getBatteryIcon = () => {\n    //    const batteryLevel = Math.round(battery / 25);\n    return <svg width={42} height={18} className=\"battery\" key={`batteryIndicator_${battery}`}>\n      <rect width={34} height={14}\n        stroke=\"#CCC\" strokeWidth={2}\n        x={2} y={2} rx={2} ry={2}\n        className=\"battery-container\" />\n      <rect\n        height={12}\n        width={Math.round(battery / 100 * 32)}\n        x={3} y={3} rx={2} ry={2}\n        className=\"battery-gauge\" />\n      <rect width={4} height={8} x={36} y={6} className=\"battery-button\" />\n      {/* <text x={4} y={13} className=\"battery-text\">\n        {battery.toFixed(0)}%\n      </text> */}\n    </svg>;\n  };\n\n  return (\n    <IonPage className=\"dashboard\">\n      <IonLabel class=\"version-label\">{version}</IonLabel>\n      <IonHeader className=\"dashboard-header\">\n        <IonToolbar className=\"dashboard-header-toolbar\">\n          <div slot=\"start\" className=\"dashboard-header-toolbar-battery-icon\">\n            {getBatteryIcon()}\n          </div>\n          <IonImg className=\"dashboard-header-toolbar-logo\" src={logoSvg} />\n          <IonIcon slot=\"end\" />\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"dashboard-content\" scrollX={false} scrollY={false}>\n        <IonList className=\"dashboard-content-list\" lines=\"none\">\n          {/* <IonListHeader className=\"dashboard-content-list-header\">\n            <IonLabel>Temperature</IonLabel>\n          </IonListHeader> */}\n          <IonItem className=\"dashboard-content-list-item\">\n            <IonSlides \n              options={{\n                ...coverflowOptions,\n                allowSlideNext: !updating,\n                allowSlidePrev: !updating,\n                initialSlide: profile > 0 ? profile - 1 : 0,\n              }}\n              pager={true} ref={slider} onIonSlideTransitionEnd={slideChanged}\n            >\n              {temperatures.map((temperature, index) => {\n                return <IonSlide key={index} title={index.toString()}>\n                  <div className=\"swiper-slide-content\">\n                    <svg viewBox=\"0 0 100 100\">\n                      <circle cx=\"50\" cy=\"50\" r=\"46\" strokeWidth=\"1\" className=\"outline\" />\n                      <circle cx=\"52\" cy=\"50\" r=\"46\" strokeWidth=\"1\" className=\"shadow-right\" />\n                      <circle cx=\"48\" cy=\"50\" r=\"46\" strokeWidth=\"1\" className=\"shadow-left\" />\n                      <circle cx=\"50\" cy=\"50\" r=\"44\" stroke=\"#fafafa\" stroke-width=\"2\" className=\"circle\" />\n                      <text x=\"25\" y=\"58\" fill=\"#fafafa\" onClick={() => {if (index === 3 || index === 4) { setTempDialogOpen(true); }}}>\n                        {temperature.toFixed(0)}&deg;C\n                      </text>\n                    </svg>\n                  </div>\n                  <div className=\"swiper-slide-footer\">\n                    <div className=\"swiper-slide-footer-text\">\n                      {slideLabels[index]}\n                    </div>\n                  </div>\n                </IonSlide>;\n              })}\n            </IonSlides>\n          </IonItem>\n          <IonItem className=\"dashboard-content-list-footer\" hidden={profile !== 4 && profile !== 5}>\n            <IonRange disabled={updating} min={100} max={220} step={1} value={(profile === 4 || profile === 5) && temperatures.length === 6 ? temperatures[profile - 1] : 0} snaps={true} color=\"danger\" onIonChange={tempChange} onPointerDown={() => setTempChanging(true)} onPointerUp={tempChangeFinished}>\n              <IonIcon slot=\"start\" size=\"small\" color=\"danger\" icon={thermometer} />\n              <IonIcon slot=\"end\" color=\"danger\" icon={thermometer} />\n            </IonRange>\n          </IonItem>\n          <IonItem className=\"dashboard-content-list-footer\" hidden={profile === 4 || profile === 5}>\n            &nbsp;\n          </IonItem>\n        </IonList>\n      </IonContent>\n      <IonAlert\n        isOpen={tempDialogOpen}\n        onDidDismiss={() => setTempDialogOpen(false)}\n        header={'New Temperature'}\n        inputs={[\n          {\n            name: 'temperature',\n            type: 'number',\n            label: 'Temperature',\n            placeholder: '<New Value>',\n            value: profile >= 1 && profile <= 6 ? temperatures[profile - 1] : 0,\n            min: 100,\n            max: 220,\n          },\n        ]}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n              console.log('Confirm Cancel');\n            }\n          },\n          {\n            text: 'Ok',\n            handler: (values) => {\n              const value = parseInt(values.temperature);\n              if (value >= 100 && value <= 220) {\n                updateTemperatureDispatch(value);\n              }\n            }\n          }\n        ]}\n      />\n      <IonAlert\n        isOpen={props.displayLockDialog}\n        onDidDismiss={() => props.dismissLockDialogCallback()}\n        header={locked ? 'Unlock?' : 'Lock?'}\n        message={`Would you like to ${locked ? \"unlock\" : \"lock\"} your Ghost MV1 vaporizer?`}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n          },\n          {\n            text: 'Ok',\n            handler: (values) => {\n              if (locked) {\n                dispatch(unlock());\n              } else {\n                dispatch(lock());\n              }\n            }\n          }\n        ]}\n      />\n    </IonPage>\n  );\n};\n\nexport default Dashboard;\n","import {\n  IonContent,\n  IonHeader,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonToolbar,\n  IonItem,\n  IonButton,\n  IonLoading,\n  IonCheckbox,\n  IonImg,\n} from '@ionic/react';\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport './Connect.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../store';\nimport { AppDispatch } from '../../store/store';\nimport { connect, disconnect, pair } from '../../store/reducers/bleReducer';\nimport { RouteComponentProps } from 'react-router';\nimport { CheckboxChangeEventDetail } from '@ionic/core';\n\nimport logoSvg from '../../assets/logo.svg';\n\nconst version = require('../../../package.json').version;\n\nconst Connect: React.FC<RouteComponentProps> = ({ history }) => {\n  const [pairingMode, setPairingMode] = useState(false);\n  const allDevices = useRef(false);\n  const [cancel, setCancel] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState('Loading ...');\n\n  const state = useSelector((state: RootState) => ({\n    connected: state.ble.connected,\n    error: state.ble.error,\n    connectAttempts: state.ble.connectAttempts,\n    connecting: state.ble.connecting,\n    hasKey: state.ble.authKey !== '',\n  }));\n\n  const dispatch = useDispatch<AppDispatch>();\n\n  const pairBLE = async () => {\n    setCancel(false);\n    dispatch(pair(allDevices.current));\n  };\n\n  const connectBLE = useCallback(async () => {\n    setCancel(false);\n    dispatch(connect(allDevices.current));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if ((state.connectAttempts) > 0 && !state.connecting && !state.connected && !cancel) {\n      new Promise(resolve => setTimeout(() => resolve(), 1000)).then(() => {\n        connectBLE();\n      });\n      return;\n    }\n\n    if (state.connected && !state.connecting) {\n      history.push('/dashboard');\n    }\n\n  }, [state.connectAttempts, cancel, state.connected, state.connecting, history, connectBLE]);\n\n  useEffect(() => {\n    const newMessage = (state.connectAttempts > 1 ? `Retrying (attempt #${state.connectAttempts}) ...` : 'Connecting ...');\n    if (newMessage !== loadingMessage) {\n      setLoadingMessage(newMessage);\n      const elem = document.querySelector('div.loading-wrapper div.loading-content');\n      if (elem) {\n        elem.innerHTML = newMessage;\n      }\n    }\n  }, [loadingMessage, state.error, state.connectAttempts]);\n\n  const pairingModeChange = (event: CustomEvent<CheckboxChangeEventDetail>) => {\n    setPairingMode(event.detail.checked);\n  };\n\n  const allDevicesChange = (event: CustomEvent<CheckboxChangeEventDetail>) => {\n    allDevices.current = event.detail.checked;\n  };\n\n  return (\n    <IonPage className=\"connect\">\n      <IonLabel class=\"version-label\">{version}</IonLabel>\n      <IonHeader className=\"connect-header\">\n        <IonToolbar className=\"connect-header-toolbar\">\n          <IonImg className=\"connect-header-toolbar-logo\" src={logoSvg} />\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"connect-content\" scrollX={false} scrollY={false}>\n        <IonList lines=\"none\" className=\"connect-content-list\">\n          {/* <IonListHeader className=\"connect-content-list-header\">\n            <IonLabel>Connect</IonLabel>\n          </IonListHeader> */}\n          <IonItem class=\"connect-content-list-spacer\" />\n          <IonItem className=\"connect-content-list-button\" hidden={(state.error !== undefined) || state.hasKey || state.connecting || state.connected}>\n            <IonButton onClick={pairBLE} size=\"large\">Pair</IonButton>\n          </IonItem>\n          <IonItem className=\"connect-content-list-button\" hidden={(state.error !== undefined) || state.connecting || state.connected || !state.hasKey}>\n            <IonButton onClick={pairingMode ? pairBLE : connectBLE} size=\"large\">\n              {pairingMode ? 'Pair' : 'Connect'}\n            </IonButton>\n          </IonItem>\n          <IonItem className=\"connect-content-list-options\" hidden={(state.error !== undefined) || state.connecting || state.connected || !state.hasKey}>\n            <IonCheckbox\n              defaultChecked={pairingMode}\n              onIonChange={pairingModeChange}\n              slot=\"start\"\n            />\n            <IonLabel>Pair device again?</IonLabel>\n          </IonItem>\n          <IonItem className=\"connect-content-list-options\" hidden={(state.error !== undefined) || state.connecting || state.connected || !state.hasKey}>\n            <IonCheckbox\n              defaultChecked={allDevices.current}\n              onIonChange={allDevicesChange}\n              slot=\"start\"\n            />\n            <IonLabel>Show all devices?</IonLabel>\n          </IonItem>\n          <IonItem class=\"connect-content-list-spacer\" />\n        </IonList>\n      </IonContent>\n      <IonLoading\n        isOpen={(state.error !== undefined) || state.connecting}\n        message={loadingMessage}\n        backdropDismiss={true}\n\n        onDidDismiss={() => {\n          if (!state.connected) {\n            setCancel(true);\n            dispatch(disconnect());\n          }\n        }}\n      />\n    </IonPage>\n  );\n};\n\nexport default Connect;\n","import React, { useEffect, useState } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport {\n  IonApp,\n  IonIcon,\n  IonLabel,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs,\n} from '@ionic/react';\nimport { IonReactHashRouter } from '@ionic/react-router';\nimport { speedometer, unlock, lock } from 'ionicons/icons';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\nimport Dashboard from './pages/Dashboard/Dashboard';\nimport Connect from './pages/Connect/Connect';\nimport { GhostBle } from './ble/GhostBle';\nimport { useSelector } from 'react-redux';\nimport { RootState } from './store';\n\nconst App: React.FC = () => {\n  const connected = useSelector((state: RootState) => state.ble.connected);\n  const locked = useSelector((state: RootState) => state.ble.locked);\n  const [displayLockDialog, setDisplayLockDialog] = useState(false);\n\n  const unloadFunc = async () => {\n    await GhostBle.disconnect();\n  };\n\n  useEffect(() => {\n    window.addEventListener('beforeunload', unloadFunc);\n    \n    return () => {\n      window.removeEventListener('beforeunload', unloadFunc);\n    };\n  }, []);\n\n  useEffect(() => {\n\n  }, [locked]);\n\n  const ConnectRedirect = () => <Redirect to=\"/connect\" />;\n  const DashboardComponent = () => (\n    <Dashboard \n      displayLockDialog={displayLockDialog}\n      dismissLockDialogCallback={() => {\n        setDisplayLockDialog(false);\n      }}\n    />\n  );\n\n\n  const requestLockClicked = async (event: React.MouseEvent<HTMLIonTabButtonElement>) => {\n    setDisplayLockDialog(true);\n  };\n\n  return (\n    <IonApp>\n      <IonReactHashRouter>\n        <IonTabs>\n          <IonRouterOutlet>\n            <Route path=\"/connect\" component={Connect} exact={true} />\n            <Route path=\"/dashboard\" component={!connected ? ConnectRedirect : DashboardComponent} exact={true} />\n            <Route path=\"/\" component={ConnectRedirect} exact={true} />\n          </IonRouterOutlet>\n          <IonTabBar slot=\"bottom\">\n            <IonTabButton tab=\"dashboard\" href=\"/dashboard\" hidden={!connected}>\n              <IonIcon icon={speedometer} />\n              <IonLabel>Temperature</IonLabel>\n            </IonTabButton>\n            {\n              locked \n              ? <IonTabButton tab=\"lock\" hidden={!connected} onClick={requestLockClicked}>\n                  <IonIcon icon={lock} />\n                  <IonLabel>{'Unlock'}</IonLabel>\n              </IonTabButton>\n              : <IonTabButton tab=\"lock\" hidden={!connected} onClick={requestLockClicked}>\n                  <IonIcon icon={unlock } />\n                  <IonLabel>{'Lock'}</IonLabel>    \n              </IonTabButton>\n            }\n          </IonTabBar>\n        </IonTabs>\n      </IonReactHashRouter>\n    </IonApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n\n","import { combineReducers } from 'redux';\r\nimport bleReducer from './reducers/bleReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    ble: bleReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n","import { configureStore, Action, getDefaultMiddleware } from '@reduxjs/toolkit'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { rootReducer, RootState } from '.';\r\nimport { GhostBle } from '../ble/GhostBle';\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: [...getDefaultMiddleware()],\r\n});\r\n\r\nGhostBle.initialize(store.dispatch, store.getState);\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport type AppThunk = ThunkAction<void, RootState, null, Action<string>>;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { store } from './store/store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/logo.eba00710.svg\";"],"sourceRoot":""}
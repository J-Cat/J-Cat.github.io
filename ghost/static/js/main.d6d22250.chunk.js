(this["webpackJsonpghostmv1-control"]=this["webpackJsonpghostmv1-control"]||[]).push([[8],{198:function(e){e.exports=JSON.parse('{"name":"ghostmv1-control","version":"1.0.0-beta.22","private":true,"dependencies":{"@ionic/react":"^4.11.0","@ionic/react-router":"^4.11.0","@reduxjs/toolkit":"^1.1.0","@types/jest":"^24.0.18","@types/node":"^12.7.12","@types/react":"^16.9.5","@types/react-dom":"^16.9.1","@types/react-redux":"^7.1.5","@types/react-router":"^5.1.1","@types/react-router-dom":"^5.1.0","@types/web-bluetooth":"^0.0.4","ionicons":"^4.6.3","node-sass":"^4.13.0","react":"^16.10.2","react-circular-input":"^0.1.6","react-dom":"^16.10.2","react-redux":"^7.1.3","react-router":"^5.1.0","react-router-dom":"^5.1.0","react-scripts":"3.2.0","redux":"^4.0.4","redux-devtools":"^3.5.0","redux-thunk":"^2.3.0","typescript":"3.6.3","typescript-task-queue":"^1.0.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","lint":"eslint --plugin @typescript-eslint --plugin react \\"./src/**/*.{ts,tsx}\\"","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"description":"Ghost MV1 Control","devDependencies":{"@typescript-eslint/eslint-plugin":"^2.18.0","@typescript-eslint/parser":"^2.18.0","eslint-config-prettier":"^6.10.0","eslint-config-react":"^1.1.7","eslint-plugin-prettier":"^3.1.2","eslint-plugin-react-hooks":"^2.3.0","prettier":"^1.19.1"}}')},221:function(e,t,n){e.exports=n.p+"static/media/step-forward.7e131474.svg"},222:function(e,t,n){e.exports=n.p+"static/media/fast-forward.b11296b0.svg"},223:function(e,t,n){e.exports=n.p+"static/media/step-backward.6a33ae2d.svg"},224:function(e,t,n){e.exports=n.p+"static/media/fast-backward.bc802a25.svg"},232:function(e,t,n){e.exports=n(404)},242:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[410,43],"./ion-action-sheet-ios.entry.js":[411,44],"./ion-action-sheet-md.entry.js":[412,45],"./ion-alert-ios.entry.js":[413,24],"./ion-alert-md.entry.js":[414,25],"./ion-app_8-ios.entry.js":[415,11],"./ion-app_8-md.entry.js":[416,12],"./ion-avatar_3-ios.entry.js":[417,46],"./ion-avatar_3-md.entry.js":[418,47],"./ion-back-button-ios.entry.js":[419,48],"./ion-back-button-md.entry.js":[420,49],"./ion-backdrop-ios.entry.js":[421,81],"./ion-backdrop-md.entry.js":[422,82],"./ion-button_2-ios.entry.js":[423,50],"./ion-button_2-md.entry.js":[424,51],"./ion-card_5-ios.entry.js":[425,52],"./ion-card_5-md.entry.js":[426,53],"./ion-checkbox-ios.entry.js":[427,54],"./ion-checkbox-md.entry.js":[428,55],"./ion-chip-ios.entry.js":[429,56],"./ion-chip-md.entry.js":[430,57],"./ion-col_3.entry.js":[431,83],"./ion-datetime_3-ios.entry.js":[432,20],"./ion-datetime_3-md.entry.js":[433,21],"./ion-fab_3-ios.entry.js":[434,58],"./ion-fab_3-md.entry.js":[435,59],"./ion-img.entry.js":[436,84],"./ion-infinite-scroll_2-ios.entry.js":[437,39],"./ion-infinite-scroll_2-md.entry.js":[438,40],"./ion-input-ios.entry.js":[439,60],"./ion-input-md.entry.js":[440,61],"./ion-item-option_3-ios.entry.js":[441,62],"./ion-item-option_3-md.entry.js":[442,63],"./ion-item_8-ios.entry.js":[443,64],"./ion-item_8-md.entry.js":[444,65],"./ion-loading-ios.entry.js":[445,26],"./ion-loading-md.entry.js":[446,27],"./ion-menu_4-ios.entry.js":[447,18],"./ion-menu_4-md.entry.js":[448,19],"./ion-modal-ios.entry.js":[449,14],"./ion-modal-md.entry.js":[450,15],"./ion-nav_5.entry.js":[451,13],"./ion-popover-ios.entry.js":[452,16],"./ion-popover-md.entry.js":[453,17],"./ion-progress-bar-ios.entry.js":[454,66],"./ion-progress-bar-md.entry.js":[455,67],"./ion-radio_2-ios.entry.js":[456,32],"./ion-radio_2-md.entry.js":[457,33],"./ion-range-ios.entry.js":[458,68],"./ion-range-md.entry.js":[459,69],"./ion-refresher_2-ios.entry.js":[460,41],"./ion-refresher_2-md.entry.js":[461,42],"./ion-reorder_2-ios.entry.js":[462,37],"./ion-reorder_2-md.entry.js":[463,38],"./ion-ripple-effect.entry.js":[464,85],"./ion-route_4.entry.js":[465,70],"./ion-searchbar-ios.entry.js":[466,28],"./ion-searchbar-md.entry.js":[467,29],"./ion-segment_2-ios.entry.js":[468,71],"./ion-segment_2-md.entry.js":[469,72],"./ion-select_3-ios.entry.js":[470,34],"./ion-select_3-md.entry.js":[471,35],"./ion-slide_2-ios.entry.js":[472,86],"./ion-slide_2-md.entry.js":[473,87],"./ion-spinner.entry.js":[474,73],"./ion-split-pane-ios.entry.js":[475,88],"./ion-split-pane-md.entry.js":[476,89],"./ion-tab-bar_2-ios.entry.js":[477,74],"./ion-tab-bar_2-md.entry.js":[478,75],"./ion-tab_2.entry.js":[479,36],"./ion-text.entry.js":[480,76],"./ion-textarea-ios.entry.js":[481,77],"./ion-textarea-md.entry.js":[482,78],"./ion-toast-ios.entry.js":[483,30],"./ion-toast-md.entry.js":[484,31],"./ion-toggle-ios.entry.js":[485,22],"./ion-toggle-md.entry.js":[486,23],"./ion-virtual-scroll.entry.js":[487,90]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=242,e.exports=a},243:function(e,t,n){var r={"./ion-icon.entry.js":[491,98]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=243,e.exports=a},255:function(e,t,n){},256:function(e,t,n){},259:function(e,t){},261:function(e,t){},294:function(e,t){},295:function(e,t){},403:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(56),i=n.n(c),s=n(14),o=n(1),u=n.n(o),l=n(41),p=n(35),d=n(2),f=n(216),h=n(493),v=n(494),m=n(495),b=(n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(79)),y=(n(256),n(95)),w=n.n(y),x=n(13),g=n(80),k=n(8),j="battery_service",E="battery_level",C="00887766-5544-3322-1100-aabbccddeeff",O="11887766-5544-3322-1100-aabbccddeeff",N="ffeeddcc-bbaa-0011-2233-445566778899",S={uuid:"ffeeddcc-bbaa-0011-2233-445566778802",label:"Status",properties:{notify:!0,read:!0,write:!0,type:"hex"}},P={uuid:"ffeeddcc-bbaa-0011-2233-445566778804",label:"Temperatures",properties:{notify:!0,read:!0,write:!0,type:"hex"}},_={uuid:"ffeeddcc-bbaa-0011-2233-445566778805",label:"Current",properties:{notify:!0,read:!0,write:!0,type:"hex"}},L={uuid:"ffeeddcc-bbaa-0011-2233-445566778806",label:"Pairing Key",properties:{notify:!0,read:!0,write:!0,type:"hex"}},U=(n(218),n(219)),D=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))},q=function(e){for(var t=new ArrayBuffer(6),n=new DataView(t),r=0;r<6;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return n},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n="";if(e&&e.byteLength>0)if(8===t)for(var r=0;r<e.byteLength;r++)n+=e.getUint8(r).toString(16);else if(16===t)for(var a=0;a<e.byteLength;a+=2)n+=e.getUint16(a,!1).toString(16).padStart(4,"0");return n},V=function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(e.readValue());case 2:return t=n.sent,n.abrupt("return",F(t));case 4:case"end":return n.stop()}}))},A=function(e){return 1===e.byteLength?e.getUint8(0):2===e.byteLength?e.getUint16(0,!0):0},M=function(e){for(var t=[],n=0;n<e.byteLength;n+=2)t.push(e.getUint16(n,!1));return t},T=function(e,t){var n,r,a,c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t.length<6)){i.next=2;break}return i.abrupt("return");case 2:n=new ArrayBuffer(12),r=new DataView(n),a=0;case 5:if(!(a<6)){i.next=22;break}c=t[a],i.t0=a,i.next=0===i.t0?10:1===i.t0?12:2===i.t0?14:5===i.t0?16:18;break;case 10:return c=170,i.abrupt("break",18);case 12:return c=185,i.abrupt("break",18);case 14:return c=200,i.abrupt("break",18);case 16:return c=220,i.abrupt("break",18);case 18:r.setUint16(2*a,c,!1);case 19:a++,i.next=5;break;case 22:return i.next=24,u.a.awrap(e.writeValue(r));case 24:case"end":return i.stop()}}))},B=new function e(){var t=this;Object(k.a)(this,e),this.dispatch=void 0,this.getState=void 0,this.device=void 0,this.server=void 0,this.service=void 0,this.batteryService=void 0,this.authCharacteristic=void 0,this.batteryCharacteristic=void 0,this.currentProfileCharacteristic=void 0,this.temperatureCharacteristic=void 0,this.statusCharacteristic=void 0,this.queue=new U.TaskQueue({autorun:!0,stoppable:!1}),this.initialize=function(e,n){t.dispatch=e,t.getState=n},this.initializeBle=function(e){var n,r,a,c,i=arguments;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],t.device&&t.device.gatt){s.next=19;break}if(!e){s.next=8;break}return s.next=5,u.a.awrap(navigator.bluetooth.requestDevice({optionalServices:[N,j],acceptAllDevices:!0}));case 5:t.device=s.sent,s.next=15;break;case 8:return r=[],(a=localStorage.getItem("ghostmv1.name"))&&(r.push({name:a}),r.push({name:a.toLowerCase()}),r.push({name:a.toUpperCase()})),c=n?[{services:[C]}]:[{services:[O]}],s.next=14,u.a.awrap(navigator.bluetooth.requestDevice({filters:[].concat(r,c),optionalServices:[N,j]}));case 14:t.device=s.sent;case 15:if(t.device&&t.device.gatt){s.next=17;break}throw new Error("Failed to retrieve GhostBLE device.");case 17:t.device.name&&localStorage.setItem("ghostmv1.name",t.device.name),t.device.ongattserverdisconnected=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch(Z("Failed to connect to Ghost MV1.  Retrying ..."));case 1:case"end":return e.stop()}}))};case 19:return t.dispatch(Q()),s.next=22,u.a.awrap(t.device.gatt.connect());case 22:if(t.server=s.sent,t.server){s.next=25;break}throw new Error("Failed to retrieve BLE server.");case 25:return s.next=27,u.a.awrap(D(1e3));case 27:return s.next=29,u.a.awrap(t.server.getPrimaryService(N));case 29:t.service=s.sent;case 30:case"end":return s.stop()}}))},this.pair=function(e){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.server&&t.server.connected){n.next=3;break}return n.next=3,u.a.awrap(t.initializeBle(e,!0));case 3:return n.next=5,u.a.awrap(D(1e3));case 5:return n.next=7,u.a.awrap(t.service.getCharacteristic(L.uuid));case 7:return t.authCharacteristic=n.sent,n.next=10,u.a.awrap(new Promise((function(e,n){try{var r=!1;t.authCharacteristic.addEventListener("characteristicvaluechanged",(function(){var a,c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,r){i.next=15;break}return r=!0,i.next=5,u.a.awrap(t.authCharacteristic.stopNotifications());case 5:if(!(a=t.authCharacteristic.value)){i.next=14;break}return c=F(a),localStorage.setItem("ghostmv1.auth",c),t.dispatch(te(c)),i.next=12,u.a.awrap(D(250));case 12:return i.next=14,u.a.awrap(t.authCharacteristic.writeValue(q(c)));case 14:e();case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),n(i.t0);case 20:case"end":return i.stop()}}),null,null,[[0,17]])})),t.authCharacteristic.startNotifications().then((function(){t.authCharacteristic.readValue()}))}catch(a){n(a)}})));case 10:return n.next=12,u.a.awrap(t.connect(e));case 12:case"end":return n.stop()}}))},this.connect=function(e){var n,r,a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=localStorage.getItem("ghostmv1.auth")){c.next=3;break}throw new Error("No paired device.");case 3:if(t.server&&t.server.connected){c.next=6;break}return c.next=6,u.a.awrap(t.initializeBle(e));case 6:return c.next=8,u.a.awrap(D(100));case 8:return c.next=10,u.a.awrap(t.service.getCharacteristic(L.uuid));case 10:return t.authCharacteristic=c.sent,c.next=13,u.a.awrap(D(100));case 13:if(!n||""===n||12!==n.length){c.next=16;break}return c.next=16,u.a.awrap(t.authCharacteristic.writeValue(q(n)));case 16:return c.next=18,u.a.awrap(D(500));case 18:return c.next=20,u.a.awrap(new Promise((function(e,n){try{t.authCharacteristic.addEventListener("characteristicvaluechanged",(function(){var r,a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=!1,c.prev=1,r){c.next=10;break}return c.next=5,u.a.awrap(V(t.authCharacteristic));case 5:(a=c.sent)!==t.getState().ble.authKey&&(localStorage.setItem("ghostmv1.auth",a),t.dispatch(te(a))),t.authCharacteristic.stopNotifications(),r=!0,e();case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),n(c.t0);case 15:case"end":return c.stop()}}),null,null,[[1,12]])})),t.authCharacteristic.startNotifications().then((function(){D(100).then((function(){V(t.authCharacteristic)})).catch((function(e){n(e)}))}))}catch(r){n(r)}})));case 20:return c.next=22,u.a.awrap(D(100));case 22:return c.next=24,u.a.awrap(t.service.getCharacteristic(S.uuid));case 24:return t.statusCharacteristic=c.sent,c.next=27,u.a.awrap(new Promise((function(e,n){try{t.statusCharacteristic.addEventListener("characteristicvaluechanged",(function(){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.getState().ble.updating){r.next=2;break}return r.abrupt("return");case 2:t.queue.enqueue((function(){var r,a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!(r=t.statusCharacteristic.value)){c.next=10;break}return c.next=5,u.a.awrap(A(r));case 5:if((a=c.sent)===t.getState().ble.status){c.next=9;break}return c.next=9,u.a.awrap(t.dispatch(ne(a)));case 9:e();case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),n(c.t0);case 15:case"end":return c.stop()}}),null,null,[[0,12]])}));case 3:case"end":return r.stop()}}))})),t.statusCharacteristic.startNotifications().then((function(){t.statusCharacteristic.readValue()}))}catch(r){n(r)}})));case 27:return c.next=29,u.a.awrap(D(100));case 29:return c.next=31,u.a.awrap(t.service.getCharacteristic(_.uuid));case 31:return t.currentProfileCharacteristic=c.sent,c.next=34,u.a.awrap(new Promise((function(e,n){try{t.currentProfileCharacteristic.addEventListener("characteristicvaluechanged",(function(){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.getState().ble.updating){r.next=2;break}return r.abrupt("return");case 2:t.queue.enqueue((function(){var r,a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:try{(r=t.currentProfileCharacteristic.value)&&((a=A(r))!==t.getState().ble.profile&&t.dispatch(ae(a)),e())}catch(i){n(i)}case 1:case"end":return c.stop()}}))}));case 3:case"end":return r.stop()}}))})),t.currentProfileCharacteristic.startNotifications().then((function(){t.currentProfileCharacteristic.readValue()}))}catch(r){n(r)}})));case 34:return c.next=36,u.a.awrap(D(100));case 36:return c.next=38,u.a.awrap(t.service.getCharacteristic(P.uuid));case 38:return t.temperatureCharacteristic=c.sent,c.next=41,u.a.awrap(new Promise((function(e,n){try{t.temperatureCharacteristic.addEventListener("characteristicvaluechanged",(function(){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.getState().ble.updating){r.next=2;break}return r.abrupt("return");case 2:t.queue.enqueue((function(){var r,a,c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,!(r=t.temperatureCharacteristic.value)){i.next=9;break}if(a=M(r),c=t.getState().ble.temperatures,!(a.length!==c.length||a.filter((function(e,t){return e!==c[t]})).length>0)){i.next=8;break}return i.next=8,u.a.awrap(t.dispatch(ie(a)));case 8:e();case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),n(i.t0);case 14:case"end":return i.stop()}}),null,null,[[0,11]])}));case 3:case"end":return r.stop()}}))})),t.temperatureCharacteristic.startNotifications().then((function(){t.temperatureCharacteristic.readValue()}))}catch(r){n(r)}})));case 41:return c.next=43,u.a.awrap(D(100));case 43:return c.next=45,u.a.awrap(t.server.getPrimaryService(j));case 45:return t.batteryService=c.sent,c.next=48,u.a.awrap(D(100));case 48:return c.next=50,u.a.awrap(t.batteryService.getCharacteristic(E));case 50:return t.batteryCharacteristic=c.sent,c.next=53,u.a.awrap(D(100));case 53:return c.next=55,u.a.awrap(t.batteryCharacteristic.readValue());case 55:return r=c.sent,a=A(r),c.next=59,u.a.awrap(t.dispatch(re(a)));case 59:case"end":return c.stop()}}))},this.disconnect=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.server){e.next=21;break}return e.prev=1,e.next=4,u.a.awrap(t.pauseNotifications());case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(!t.authCharacteristic){e.next=11;break}return e.next=11,u.a.awrap(new Promise((function(e){try{t.authCharacteristic.removeEventListener("characteristicvaluechanged",(function(){})),e()}catch(n){e()}})));case 11:if(!t.statusCharacteristic){e.next=14;break}return e.next=14,u.a.awrap(new Promise((function(e){try{t.statusCharacteristic.removeEventListener("characteristicvaluechanged",(function(){})),e()}catch(n){e()}})));case 14:if(!t.currentProfileCharacteristic){e.next=17;break}return e.next=17,u.a.awrap(new Promise((function(e){try{t.currentProfileCharacteristic.removeEventListener("characteristicvaluechanged",(function(){})),e()}catch(n){e()}})));case 17:if(!t.temperatureCharacteristic){e.next=20;break}return e.next=20,u.a.awrap(new Promise((function(e){try{t.temperatureCharacteristic.removeEventListener("characteristicvaluechanged",(function(){})),e()}catch(n){e()}})));case 20:if(t.server&&t.server.connected)try{t.server.disconnect()}catch(n){}case 21:delete t.server;case 22:case"end":return e.stop()}}),null,null,[[1,6]])},this.updateCurrentProfile=function(e){var n,r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.currentProfileCharacteristic){a.next=2;break}return a.abrupt("return");case 2:return n=e.toString(16).padStart(2,"0"),r=q(n),a.abrupt("return",new Promise((function(n){t.queue.enqueue((function(){var a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:a=0;case 1:if(!(a<5)){c.next=19;break}return c.prev=2,c.next=5,u.a.awrap(t.currentProfileCharacteristic.writeValue(r));case 5:return c.next=7,u.a.awrap(D(250));case 7:return n(e),c.abrupt("return");case 11:return c.prev=11,c.t0=c.catch(2),console.log("Error updating profile, trying again: ".concat(c.t0)),c.next=16,u.a.awrap(D(250));case 16:a++,c.next=1;break;case 19:console.log("failed to write profile"),n(t.getState().ble.profile);case 21:case"end":return c.stop()}}),null,null,[[2,11]])}))})));case 5:case"end":return a.stop()}}))},this.updateTemperature=function(e){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.temperatureCharacteristic){n.next=2;break}return n.abrupt("return");case 2:if(!(e.length<6)){n.next=5;break}return console.log("Tried to write invalid temperature values."),n.abrupt("return");case 5:if(0!==e.filter((function(e){return 0!==e})).length){n.next=8;break}return console.log("Tried to write all zero temperature values."),n.abrupt("return");case 8:return n.abrupt("return",new Promise((function(n){t.queue.enqueue((function(){var r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:r=0;case 1:if(!(r<5)){a.next=19;break}return a.prev=2,a.next=5,u.a.awrap(T(t.temperatureCharacteristic,e));case 5:return a.next=7,u.a.awrap(D(250));case 7:return n(),a.abrupt("return");case 11:return a.prev=11,a.t0=a.catch(2),console.log("Error writing temperatures, trying again: ".concat(a.t0)),a.next=16,u.a.awrap(D(250));case 16:r++,a.next=1;break;case 19:console.log("Failed to write temperatures."),n();case 21:case"end":return a.stop()}}),null,null,[[2,11]])}))})));case 9:case"end":return n.stop()}}))},this.lock=function(){var e,n,r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.statusCharacteristic){a.next=2;break}return a.abrupt("return");case 2:return e=1|t.getState().ble.status,n=new ArrayBuffer(1),(r=new DataView(n)).setUint8(0,e),a.abrupt("return",new Promise((function(e){t.queue.enqueue((function(){var n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=0;case 1:if(!(n<5)){a.next=19;break}return a.prev=2,a.next=5,u.a.awrap(t.statusCharacteristic.writeValue(r));case 5:return a.next=7,u.a.awrap(D(250));case 7:return e(!0),a.abrupt("return");case 11:return a.prev=11,a.t0=a.catch(2),console.log("Error locking vaporizer, trying again: ".concat(a.t0)),a.next=16,u.a.awrap(D(250));case 16:n++,a.next=1;break;case 19:console.log("Failed to lock vaporizer."),e(!1);case 21:case"end":return a.stop()}}),null,null,[[2,11]])}))})));case 7:case"end":return a.stop()}}))},this.unlock=function(){var e,n,r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.statusCharacteristic){a.next=2;break}return a.abrupt("return");case 2:return e=254&t.getState().ble.status,n=new ArrayBuffer(1),(r=new DataView(n)).setUint8(0,e),a.abrupt("return",new Promise((function(e){t.queue.enqueue((function(){var n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=0;case 1:if(!(n<5)){a.next=19;break}return a.prev=2,a.next=5,u.a.awrap(t.statusCharacteristic.writeValue(r));case 5:return a.next=7,u.a.awrap(D(250));case 7:return e(!0),a.abrupt("return");case 11:return a.prev=11,a.t0=a.catch(2),console.log("Error unlocking vaporizer, trying again: ".concat(a.t0)),a.next=16,u.a.awrap(D(250));case 16:n++,a.next=1;break;case 19:console.log("Failed to unlock vaporizer."),e(!1);case 21:case"end":return a.stop()}}),null,null,[[2,11]])}))})));case 7:case"end":return a.stop()}}))},this.pauseNotifications=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(t.statusCharacteristic.stopNotifications());case 2:return e.next=4,u.a.awrap(t.currentProfileCharacteristic.stopNotifications());case 4:return e.next=6,u.a.awrap(t.temperatureCharacteristic.stopNotifications());case 6:case"end":return e.stop()}}))},this.startNotifications=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(t.statusCharacteristic.startNotifications());case 2:return e.next=4,u.a.awrap(t.currentProfileCharacteristic.startNotifications());case 4:return e.next=6,u.a.awrap(t.temperatureCharacteristic.startNotifications());case 6:return e.next=8,u.a.awrap(D(100));case 8:case"end":return e.stop()}}))}},z=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(new Promise((function(t){return setTimeout(t,e)})));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}))},I={connecting:!1,connected:!1,hasConnected:!1,updating:!1,connectAttempts:0,locked:!1,locking:!1,authKey:localStorage.getItem("ghostmv1.auth")||"",status:0,battery:0,profile:0,temperatures:[170,185,200,210,220,220]},W=function(){return function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(B.disconnect());case 2:e(ee());case 3:case"end":return t.stop()}}))}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(B.connect(e));case 3:return t($()),t(H()),r.abrupt("return",-1);case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",n().ble.connectAttempts);case 11:case"end":return r.stop()}}),null,null,[[0,8]])}},G=function(e){return function(t){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(B.pair(e));case 3:return t($()),t(H()),n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",!1);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}},R=function(e){return function(t,n){var r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!n().ble.locked){a.next=3;break}return a.abrupt("return",e);case 3:return a.next=5,u.a.awrap(t(Y()));case 5:return t(ue()),a.next=8,u.a.awrap(B.updateCurrentProfile(e));case 8:if(!(r=a.sent)){a.next=14;break}return t(ce(r)),a.abrupt("return",r);case 14:return a.abrupt("return",e);case 15:return a.prev=15,a.next=18,u.a.awrap(t(H()));case 18:return t(le()),a.finish(15);case 20:case"end":return a.stop()}}),null,null,[[0,,15,20]])}},H=function(){return function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(B.startNotifications());case 2:return e.next=4,u.a.awrap(z(250));case 4:case"end":return e.stop()}}))}},Y=function(){return function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(B.pauseNotifications());case 2:return e.next=4,u.a.awrap(z(250));case 4:case"end":return e.stop()}}))}},J=Object(g.b)({name:"BLE",initialState:I,reducers:{startUpdate:function(e){return Object(x.a)({},e,{updating:!0})},completeUpdate:function(e){return Object(x.a)({},e,{updating:!1})},startUpdateProfile:function(e){return Object(x.a)({},e,{updating:!0})},completeUpdateProfile:function(e){return Object(x.a)({},e,{updating:!1})},connectStart:function(e){return Object(x.a)({},e,{connecting:!0,connected:!1,error:void 0,connectAttempts:e.connectAttempts+1})},connectSuccess:function(e){return Object(x.a)({},e,{connecting:!1,connected:!0,hasConnected:!0,error:void 0,connectAttempts:0})},connectFailed:function(e,t){return Object(x.a)({},e,{connecting:!1,connected:!1,error:t.payload})},disconnected:function(e){return Object(x.a)({},e,{connecting:!1,connected:!1,error:void 0,connectAttempts:0})},setAuthKey:function(e,t){return Object(x.a)({},e,{authKey:t.payload})},setStatus:function(e,t){return Object(x.a)({},e,{status:t.payload,locked:1===(1&t.payload)})},setBatteryLevel:function(e,t){return Object(x.a)({},e,{battery:t.payload})},setCurrentProfileForce:function(e,t){return Object(x.a)({},e,{profile:t.payload})},setCurrentProfile:function(e,t){return e.updating?e:Object(x.a)({},e,{profile:t.payload})},setTemperatures:function(e,t){return Object(x.a)({},e,{temperatures:t.payload})},clearError:function(e){return Object(x.a)({},e,{error:void 0})},requestLock:function(e){return Object(x.a)({},e,{updating:!0,locking:!0})},requestUnlock:function(e){return Object(x.a)({},e,{updating:!0,locking:!0})},completeLock:function(e){return Object(x.a)({},e,{updating:!1,locking:!1,locked:!0})},completeUnlock:function(e){return Object(x.a)({},e,{updating:!1,locking:!1,locked:!1})}}}),X=J.actions,Q=X.connectStart,$=X.connectSuccess,Z=X.connectFailed,ee=X.disconnected,te=X.setAuthKey,ne=X.setStatus,re=X.setBatteryLevel,ae=X.setCurrentProfile,ce=X.setCurrentProfileForce,ie=X.setTemperatures,se=(X.clearError,X.startUpdate),oe=X.completeUpdate,ue=X.startUpdateProfile,le=X.completeUpdateProfile,pe=X.requestLock,de=X.requestUnlock,fe=X.completeLock,he=X.completeUnlock,ve=J.reducer,me=n(221),be=n.n(me),ye=n(222),we=n.n(ye),xe=n(223),ge=n.n(xe),ke=n(224),je=n.n(ke),Ee=n(198).version,Ce=function(e){var t=Object(s.c)((function(e){return e.ble.temperatures})),n=Object(s.c)((function(e){return e.ble.profile})),c=Object(s.c)((function(e){return e.ble.battery})),i=Object(s.c)((function(e){return 1===(1&e.ble.status)})),o=Object(s.b)(),p=Object(r.useState)(n),f=Object(l.a)(p,2),h=f[0],v=f[1],m=Object(r.useState)(!1),y=Object(l.a)(m,2),x=y[0],g=y[1],k=Object(r.useState)(localStorage.getItem(".ghostmv1.units")||"C"),j=Object(l.a)(k,2),E=j[0],C=j[1],O=function(e){return"F"===E?"".concat(Math.round(9*e/5+32).toFixed(0),"\xb0F"):"".concat(e.toFixed(0),"\xb0C")},N=Object(r.useCallback)((function(e){var r,a=[].concat(Object(b.a)(t.slice(0,n-1)),[e],Object(b.a)(t.slice(n)));o((r=a,function(e,t){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t().ble.locked){n.next=3;break}return n.abrupt("return",!1);case 3:return n.next=5,u.a.awrap(e(Y()));case 5:return e(se()),n.next=8,u.a.awrap(B.updateTemperature(r));case 8:return e(ie(r)),n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",!1);case 15:return n.prev=15,n.next=18,u.a.awrap(e(H()));case 18:return e(oe()),n.finish(15);case 20:case"end":return n.stop()}}),null,null,[[0,12,15,20]])}))}),[t,n,o]),S=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(h!==e){t.next=2;break}return t.abrupt("return");case 2:return v(e),t.next=5,u.a.awrap(o(R(e)));case 5:t.sent!==e&&v(e);case 7:case"end":return t.stop()}}))},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0 0 60 12",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{width:"60px",height:"12px"};return a.a.createElement("svg",{x:t,y:n,style:c,viewBox:r,className:"profile-dots"},a.a.createElement("circle",{cx:"15",cy:"6",r:"4",fill:3===e?"var(--ion-color-warning)":6===e?"var(--ion-color-danger-shade)":"var(--ion-color-medium)"}),a.a.createElement("circle",{cx:"30",cy:"6",r:"4",fill:2===e||3===e?"var(--ion-color-warning)":5===e||6===e?"var(--ion-color-danger-shade)":"var(--ion-color-medium)"}),a.a.createElement("circle",{cx:"45",cy:"6",r:"4",fill:e>=4?"var(--ion-color-danger-shade)":"var(--ion-color-warning)"}))};Object(r.useEffect)((function(){n!==h&&v(n)}),[n]);var _=function(e){var r=t[n-1]+e;return"F"===E&&(r=Math.round(10*(t[n-1]+5/9*e))/10),r<140?r=140:r>220&&(r=220),r};return a.a.createElement(d.o,{className:"dashboard"},a.a.createElement(d.k,{class:"version-label"},Ee),a.a.createElement(d.q,{class:"units-group",value:E,onIonChange:function(e){var t=e.detail.value;localStorage.setItem(".ghostmv1.units",t),C(t)}},a.a.createElement(d.p,{value:"F"}),a.a.createElement(d.k,null,"\xb0F"),"\xa0\xa0",a.a.createElement(d.p,{value:"C"}),a.a.createElement(d.k,null,"\xb0C")),a.a.createElement(d.g,{className:"dashboard-header"},a.a.createElement(d.x,{className:"dashboard-header-toolbar"},a.a.createElement("div",{slot:"start",className:"dashboard-header-toolbar-battery-icon"},a.a.createElement("svg",{width:42,height:18,className:"battery",key:"batteryIndicator_".concat(c)},a.a.createElement("rect",{width:34,height:14,stroke:"#CCC",strokeWidth:2,x:2,y:2,rx:2,ry:2,className:"battery-container"}),a.a.createElement("rect",{height:12,width:Math.round(c/100*32),x:3,y:3,rx:2,ry:2,className:"battery-gauge"}),a.a.createElement("rect",{width:4,height:8,x:36,y:6,className:"battery-button"}))),a.a.createElement(d.i,{className:"dashboard-header-toolbar-logo",src:w.a}),a.a.createElement(d.h,{slot:"end"}))),a.a.createElement(d.f,{className:"dashboard-content",scrollX:!1,scrollY:!1},a.a.createElement(d.m,{className:"dashboard-content-list",lines:"none",hidden:e.displayLockDialog},a.a.createElement(d.j,{className:"dashboard-content-list-item"},a.a.createElement("span",{className:"spacer"}),a.a.createElement(d.d,{disabled:t[n-1]<=140,onClick:function(){var e=_(-5);N(e)}},a.a.createElement(d.h,{icon:je.a})),a.a.createElement(d.d,{disabled:t[n-1]<=140,onClick:function(){var e=_(-1);N(e)}},a.a.createElement(d.h,{icon:ge.a})),a.a.createElement("svg",{className:"profile-svg"},a.a.createElement("rect",{x:"2",y:"2",rx:"6",ry:"6",width:"146",height:"86",fill:"transparent",stroke:"var(--ion-color-primary)"}),a.a.createElement("rect",{x:"8",y:"8",rx:"6",ry:"6",width:"134",height:"74",fill:"var(--ion-color-primary)",style:{cursor:"pointer"},onClick:function(){g(!0)}}),a.a.createElement("text",{x:"32",y:"55",fill:"var(--ion-color-primary-contrast)",style:{fontSize:"2em",cursor:"pointer"},onClick:function(){g(!0)}},O(t[n-1])),a.a.createElement("text",{x:"65",y:"110",fill:"var(--ion-color-medium-shade)",className:"profile-text"},1===n?"L":2===n?"M":3===n?"H":4===n?"F1":5===n?"F2":6===n?"C":""),P(n,45,120,"0 0 150 150")),a.a.createElement(d.d,{disabled:t[n-1]>=220,onClick:function(){var e=_(1);N(e)}},a.a.createElement(d.h,{icon:be.a})),a.a.createElement(d.d,{disabled:t[n-1]>=220,onClick:function(){var e=_(5);N(e)}},a.a.createElement(d.h,{icon:we.a})),a.a.createElement("span",{className:"spacer"})),a.a.createElement(d.j,{className:"dashboard-content-list-footer1"},a.a.createElement(d.s,{value:h.toString()},a.a.createElement(d.t,{value:"1",onClick:function(){S(1)}},a.a.createElement("div",null,"L"),a.a.createElement("div",null,P(1)),a.a.createElement("div",null,O(t[0]))),a.a.createElement(d.t,{value:"2",onClick:function(){S(2)}},a.a.createElement("div",null,"M"),a.a.createElement("div",null,P(2)),a.a.createElement("div",null,O(t[1]))),a.a.createElement(d.t,{value:"3",onClick:function(){S(3)}},a.a.createElement("div",null,"H"),a.a.createElement("div",null,P(3)),a.a.createElement("div",null,O(t[2]))))),a.a.createElement(d.j,{className:"dashboard-content-list-footer2"},a.a.createElement(d.s,{value:h.toString()},a.a.createElement(d.t,{value:"4",onClick:function(){S(4)}},a.a.createElement("div",null,"F1"),a.a.createElement("div",null,P(4)),a.a.createElement("div",null,O(t[3]))),a.a.createElement(d.t,{value:"5",onClick:function(){S(5)}},a.a.createElement("div",null,"F2"),a.a.createElement("div",null,P(5)),a.a.createElement("div",null,O(t[4]))),a.a.createElement(d.t,{value:"6",onClick:function(){S(6)}},a.a.createElement("div",null,"C"),a.a.createElement("div",null,P(6))))))),a.a.createElement(d.b,{animated:!1,isOpen:x,onDidDismiss:function(){return g(!1)},header:"New Temperature",inputs:[{name:"temperature",type:"number",label:"Temperature",placeholder:"<New Value>",value:n>=1&&n<=6?"C"===E?t[n-1]:Math.round(9*t[n-1]/5+32):0,min:"C"===E?140:Math.round(284),max:"C"===E?220:Math.round(428)}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:function(e){var t=parseInt(e.temperature);"F"===E&&(t=5*(t-32)/9),t<140?t=140:t>220&&(t=220),N(t)}}]}),a.a.createElement(d.b,{animated:!1,isOpen:e.displayLockDialog,onDidDismiss:function(){return e.dismissLockDialogCallback()},header:i?"Unlock?":"Lock?",message:"Would you like to ".concat(i?"unlock":"lock"," your Ghost MV1 vaporizer?"),buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:function(){o(i?function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(e(Y()));case 3:return e(de()),r.next=6,u.a.awrap(B.unlock());case 6:return(n=r.sent)&&e(ne(254&t().ble.status)),r.abrupt("return",n||!1);case 9:return r.prev=9,e(he()),r.next=13,u.a.awrap(e(H()));case 13:return e(oe()),r.finish(9);case 15:case"end":return r.stop()}}),null,null,[[0,,9,15]])}:function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(e(Y()));case 3:return e(pe()),r.next=6,u.a.awrap(B.lock());case 6:return(n=r.sent)&&e(ne(1|t().ble.status)),r.abrupt("return",n||!1);case 9:return r.prev=9,e(fe()),r.next=13,u.a.awrap(e(H()));case 13:return e(oe()),r.finish(9);case 15:case"end":return r.stop()}}),null,null,[[0,,9,15]])})}}]}))},Oe=(n(403),n(198).version),Ne=function(e){var t=e.history,n=Object(r.useState)(!1),c=Object(l.a)(n,2),i=c[0],o=c[1],p=Object(r.useRef)(!1),f=Object(r.useState)("Connecting ..."),h=Object(l.a)(f,2),v=h[0],m=h[1],b=Object(s.c)((function(e){return e.ble.connectAttempts})),y=Object(s.c)((function(e){return e.ble.connected})),x=Object(s.c)((function(e){return e.ble.error})),g=Object(s.c)((function(e){return e.ble.connecting})),k=Object(s.c)((function(e){return""!==e.ble.authKey})),j=Object(s.c)((function(e){return e.ble.hasConnected})),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return k&&!e?a.a.createElement("div",null,a.a.createElement("p",null,"Welcome to the Ghost MV1 web app."),a.a.createElement("p",null,"A vape has previously been connected; to reconnect, simply make sure your vape is in standby mode or powered on.")):a.a.createElement("div",null,a.a.createElement("p",null,"Welcome to the Ghost MV1 web app."),a.a.createElement("p",null,"Make sure your vape is powered on and and in sleep mode (at this point there should be no LEDs illuminated)."),a.a.createElement("p",null,"Hold down both buttons on the MV1 until the green LEDs flash from side-to-side. Your vape is now in pairing mode."))},C=Object(r.useState)(E()),O=Object(l.a)(C,2),N=O[0],S=O[1],P=Object(s.b)(),_=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return p.current=!1,U(1),e.next=4,u.a.awrap(P(G(!1)));case 4:e.sent&&t.push("/dashboard");case 6:case"end":return e.stop()}}))},L=Object(r.useCallback)((function(){return p.current}),[p]),U=Object(r.useCallback)((function(e){var t=e>1?"Connecting (attempt #".concat(e,") ..."):"Connecting ...";if(t!==v){m(t);var n=document.querySelector("div.loading-wrapper div.loading-content");n&&(n.innerHTML=t)}}),[v]);return Object(r.useEffect)((function(){!y&&j&&(P(W()),S(a.a.createElement("div",null,a.a.createElement("p",null,"Connection to your vape was lost."),a.a.createElement("p",null,"To reconnect, simply make sure your vape is in standby mode or powered on."))))}),[y,j]),a.a.createElement(d.o,{className:"connect"},a.a.createElement(d.k,{class:"version-label"},Oe),a.a.createElement(d.g,{className:"connect-header"},a.a.createElement(d.x,{className:"connect-header-toolbar"},a.a.createElement(d.i,{className:"connect-header-toolbar-logo",src:w.a}))),a.a.createElement(d.f,{className:"connect-content",scrollX:!1,scrollY:!1},a.a.createElement(d.m,{lines:"none",className:"connect-content-list"},a.a.createElement(d.j,{class:"connect-content-list-spacer"}),a.a.createElement(d.j,{class:"connect-info",hidden:void 0!==x||g||y},a.a.createElement(d.g,null,N)),a.a.createElement(d.j,{className:"connect-content-list-button",hidden:void 0!==x||k||g||y},a.a.createElement(d.d,{onClick:_,size:"large"},"Pair")),a.a.createElement(d.j,{className:"connect-content-list-button",hidden:void 0!==x||g||y||!k},a.a.createElement(d.d,{onClick:i?function(){_()}:function(){!function(){var e;u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:p.current=!1,U((e=0)+1);case 3:if(L()||!(e>=0)){n.next=23;break}return n.next=6,u.a.awrap(P(K(!1)));case 6:if(!((e=n.sent)>=0)){n.next=20;break}if(!(e>=5)){n.next=15;break}p.current=!0,S(a.a.createElement("div",null,a.a.createElement("p",null,"We are having trouble reconnecting to your vape. Please try re-pairing the device."),a.a.createElement("p",null,"Make sure your vape is powered on and and in sleep mode (at this point there should be no LEDs illuminated)."),a.a.createElement("p",null,"Hold down both buttons on the MV1 until the green LEDs flash from side-to-side. Your vape is now in pairing mode."))),o(!0),P(W()),n.next=18;break;case 15:return U(e+1),n.next=18,u.a.awrap(z(2500));case 18:n.next=21;break;case 20:L()||t.push("/dashboard");case 21:n.next=3;break;case 23:case"end":return n.stop()}}))}()},size:"large"},i?"Pair":"Connect")),a.a.createElement(d.j,{className:"connect-content-list-options",hidden:void 0!==x||g||y||!k},a.a.createElement(d.e,{checked:i,onIonChange:function(e){o(e.detail.checked),S(E(e.detail.checked))},slot:"start"}),a.a.createElement(d.k,null,"Pair device again?")),a.a.createElement(d.j,{class:"connect-content-list-spacer"}))),a.a.createElement(d.n,{isOpen:g||b>0,message:v,backdropDismiss:!0,keyboardClose:!0,onDidDismiss:function(){y||(p.current=!0,P(W()))}}))},Se=function(){var e=Object(s.c)((function(e){return e.ble.connected})),t=Object(s.c)((function(e){return e.ble.locked})),n=Object(r.useState)(!1),c=Object(l.a)(n,2),i=c[0],o=c[1],b=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(B.disconnect());case 2:case"end":return e.stop()}}))};Object(r.useEffect)((function(){return window.addEventListener("beforeunload",b),function(){window.removeEventListener("beforeunload",b)}}),[]);var y=function(){return a.a.createElement(p.a,{to:"/connect"})},w=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0);case 1:case"end":return e.stop()}}))};return a.a.createElement(d.c,null,a.a.createElement(f.a,null,a.a.createElement(d.w,null,a.a.createElement(d.r,null,a.a.createElement(p.b,{path:"/connect",component:Ne,exact:!0}),a.a.createElement(p.b,{path:"/dashboard",component:e?function(){return a.a.createElement(Ce,{displayLockDialog:i,dismissLockDialogCallback:function(){o(!1)}})}:y,exact:!0}),a.a.createElement(p.b,{path:"/",component:y,exact:!0})),a.a.createElement(d.u,{slot:"bottom"},a.a.createElement(d.v,{tab:"dashboard",href:"/dashboard",hidden:!e},a.a.createElement(d.h,{icon:h.a}),a.a.createElement(d.k,null,"Temperature")),t?a.a.createElement(d.v,{tab:"lock",hidden:!e,onClick:w},a.a.createElement(d.h,{icon:v.a}),a.a.createElement(d.k,null,"Unlock")):a.a.createElement(d.v,{tab:"lock",hidden:!e,onClick:w},a.a.createElement(d.h,{icon:m.a}),a.a.createElement(d.k,null,"Lock"))))))},Pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Le=n(26),Ue=Object(Le.combineReducers)({ble:ve}),De=Object(g.a)({reducer:Ue,middleware:Object(b.a)(Object(g.c)())});B.initialize(De.dispatch,De.getState),i.a.render(a.a.createElement(s.a,{store:De},a.a.createElement(Se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://www.jcatvapes.com/ghost",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://www.jcatvapes.com/ghost","/service-worker.js");Pe?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_e(t,e)}))}}()},95:function(e,t,n){e.exports=n.p+"static/media/logo.eba00710.svg"}},[[232,9,10]]]);
//# sourceMappingURL=main.d6d22250.chunk.js.map